<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  <title>
    
    Hexo
  </title>
  <!-- Icon -->
  
    <link rel="shortcut icon" href="https://i.loli.net/2021/10/29/MgL6qSXfAwhbcsi.png">
    
  
<link rel="stylesheet" href="/css/style.css">

  
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<script src="/js/pace.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>

<body>
  <main class="content">
    <section class="jumbotron">
  <div class="video">
    
    <div class="video-frame">
      <img src="/images/ocean/overlay-hero.png" alt="Decorative image frame">
    </div>
    
    <div class="video-media">
      <video playsinline="" autoplay="" loop="" muted="" data-autoplay="" poster="/images/ocean/ocean.png"
        x5-video-player-type="h5">
        <source src="/images/ocean/ocean.mp4" type="video/mp4">
        <source src="/images/ocean/ocean.ogv" type="video/ogg">
        <source src="/images/ocean/ocean.webm" type="video/webm">
        <p>Your user agent does not support the HTML5 Video element.</p>
      </video>
      <div class="video-overlay"></div>
    </div>
    <div class="video-inner text-center text-white">
      <h1><a href="/">Hexo</a></h1>
      <p></p>
      <div><img src="/images/hexo-inverted.svg" class="brand" alt="Hexo"></div>
    </div>
    <div class="video-learn-more">
      <a class="anchor" href="#landingpage"><i class="fe fe-mouse"></i></a>
    </div>
  </div>
</section>
<div id="landingpage">
  <section class="outer">
  <article class="articles">
    
    <h1 class="page-type-title"></h1>
    
    
    <article id="post-encry" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      

<h2 itemprop="name">
  <a class="article-title" href="/2021/11/25/encry/">欢迎来到新废物主义街区</a>
</h2>


<div class="article-topping">
  <i class="fe fe-umbrella"></i>
</div>


    </header>
    

    
    <div class="article-meta">
      <a href="/2021/11/25/encry/" class="article-date">
  <time datetime="2021-11-25T14:57:22.000Z" itemprop="datePublished">2021-11-25</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
        叮叮当当
        
          <p>
            <a class="article-more-link" href="/2021/11/25/encry/">
              阅读全文...
            </a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://mushroom323.github.io/2021/11/25/encry/" data-id="cl65b7xfa000k5ktbfks8fsad" class="article-share-link">
        Share
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9D%82%E8%B0%88/" rel="tag">杂谈</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-zongjie" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      

<h2 itemprop="name">
  <a class="article-title" href="/2022/07/29/zongjie/">大二下总结</a>
</h2>



    </header>
    

    
    <div class="article-meta">
      <a href="/2022/07/29/zongjie/" class="article-date">
  <time datetime="2022-07-28T16:00:37.000Z" itemprop="datePublished">2022-07-29</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
      <p>大二上就不总结了，当时考完光顾着玩了，现在想一想连大二上学了啥都忘了，真正做到考一科忘一科。</p>
<p>稍微回顾一下学过的科目。按照学分从高到低走。</p>
<p>计组课设等下学期的小学期学完了再补。</p>
<h1 id="毛概"><a href="#毛概" class="headerlink" title="毛概"></a>毛概</h1><p>加上实践是五学分，应该是文综课的巅峰了。</p>
<p>书基本上没翻开，看了前两页就没动过了。slz讲课还挺有意思的，人也不错，可惜已经不记得具体内容了。</p>
<p>因为线上所以期末考取消了改成写论文。所以对于卷王来说卷高难度有点大，我最后也只拿了个还过得去的分数，当然比计网和计组的分还是要高的。</p>
<p>期中是做个视频，体验不是很好，因为小组内人多了安排工作就会出问题，而且也是第一次弄这种东西，只能说完成了就谢天谢地了。</p>
<p>实践的话不知道评分标准是啥样的，个人感觉我们组写的还行，不过分数倒是挺低的，幸好只有一学分。</p>
<h1 id="计网"><a href="#计网" class="headerlink" title="计网"></a>计网</h1><p>给的ppt是全英文的，看的时候很麻，复习的时候更麻，而且基本都是扒的书的内容，只有少数地方不一样。</p>
<p>很多ppt里有的东西其实是不考的，比如说物理层后面提到的轨道卫星啥的，这些东西看的时候让人头大，看完了后续也压根不会再提，还是得抓重点。</p>
<p>期末考试万幸变成中文考试，省了复习英文术语的时间。考的很细，选择基本靠灵感在写，包括神都有一些不知道的，只能说不能强求，缘分到了即可。大题倒是还好，中规中矩。</p>
<p>考试时间感觉有点不够，最后没写完。</p>
<p>实验已经没啥印象了，只记得实验二拿的分有点低，万幸最后总分还能看。</p>
<h1 id="计组"><a href="#计组" class="headerlink" title="计组"></a>计组</h1><p>ppt包括老师讲课的进度和流程都让人很麻。期中考了个cache，然后我们班cache是期末前才讲的，当时写的时候纯纯的头皮发焦。</p>
<p>实验老师人很好，验收的时候也没有为难，给分感觉也很不错。</p>
<p>期末考的话还是有很多细节的地方，跟计网一样选择很多都在靠灵感，大题感觉量有点大，但也算中规中矩，最后还是没写完。还错了一道很基础的大题，突击复习把脑子弄混了。啊。</p>
<h1 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h1><p>没啥好说的，把基础实验和phase1-3中规中矩做完了，拿了个中规中矩的分数。</p>
<p>我们班没有要求GUI，做了GUI也不加分，根据我的实际感受确实是这样的。输入检测的话只在基础实验的实验4和综合实验有问，除了这俩都没问输入检测的事情，可惜了我在其他的部分也做了的一大堆的检测。</p>
<p>验收基础实验的时候感觉状态不太好，回答的太急了没过脑子，很多地方答得不全面，应该还有不少答错了。有点可惜。</p>
<h1 id="自动机"><a href="#自动机" class="headerlink" title="自动机"></a>自动机</h1><p>实验记不清了，印象里都很简单，组里分配的人基本都是一晚上就写完了代码部分。</p>
<p>考试考的挺简单的，但我本人太轻视了，复习的地方有不少的缺失，最后有一道大题写错了，全错的那种，从开局错到结尾。有点遗憾。</p>
<p>知识点本来很多，但是考试基本抓的重点，其他细枝末节都没考。感觉是在给以后的课做铺垫。</p>
<h1 id="数据结构课设"><a href="#数据结构课设" class="headerlink" title="数据结构课设"></a>数据结构课设</h1><p>老师人很好，给分很松，基本没压分。听说了别的班压分的，确实蛮恐怖的。我们班把基本功能做了就有90+了，别的班好像做完了也一大堆的八十几的。</p>
<p>整体难度不大，主要是要靠自学，应该是大学以来接触到的自学程度最大的一门课，毕竟很多部分都要从头学。不过习惯了就还好了，估计以后这种经历也不会少，也算经历了。</p>
<p>前端是靠大爹一个人写完了，我负责的是后端，后端用GO写的，也算学到了点皮毛，感觉以后用得上。</p>
<h1 id="计网课设"><a href="#计网课设" class="headerlink" title="计网课设"></a>计网课设</h1><p>呃。</p>
<p>不多说了，只感到麻。</p>
<h1 id="体育基础"><a href="#体育基础" class="headerlink" title="体育基础"></a>体育基础</h1><p>选的是太极拳。挺好玩的。</p>
<h1 id="形策"><a href="#形策" class="headerlink" title="形策"></a>形策</h1><p>这个就没啥好说的了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mushroom323.github.io/2022/07/29/zongjie/" data-id="cl65b7xfu001o5ktbfbrr6ao1" class="article-share-link">
        Share
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9D%82%E8%B0%88/" rel="tag">杂谈</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-GO_5" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      

<h2 itemprop="name">
  <a class="article-title" href="/2022/06/10/GO_5/">Go实现的一个前缀树</a>
</h2>



    </header>
    

    
    <div class="article-meta">
      <a href="/2022/06/10/GO_5/" class="article-date">
  <time datetime="2022-06-09T17:01:37.000Z" itemprop="datePublished">2022-06-10</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
      <p>用go实现的一个前缀树，在数据结构课设交代码的前一天晚上rush掉的。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">// 字典树：</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	1. 单词结尾表示：需要使用一个 bool 类型，辨识当前节点是否是结尾字符</span></span><br><span class="line"><span class="comment">		叶子结点是 单词结尾</span></span><br><span class="line"><span class="comment">		非叶子节点 也可能是单词的结尾</span></span><br><span class="line"><span class="comment">	2. 实现功能</span></span><br><span class="line"><span class="comment">		增加单词</span></span><br><span class="line"><span class="comment">		搜索单词</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// 定义树的节点</span></span><br><span class="line"><span class="keyword">type</span> Node <span class="keyword">struct</span> {</span><br><span class="line">	<span class="comment">//  	若干个子节点: 字符(中文操作)： 节点</span></span><br><span class="line">	Children <span class="keyword">map</span>[<span class="keyword">rune</span>]*Node</span><br><span class="line">	<span class="comment">// 		标识节点是否是一个单词最后的一个字符</span></span><br><span class="line">	isWord <span class="keyword">bool</span></span><br><span class="line">	<span class="comment">//		标识对应的id</span></span><br><span class="line">	id <span class="keyword">int</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 给子节点 列表添加新的节点</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(n *Node)</span> <span class="title">Add</span><span class="params">(c <span class="keyword">rune</span>)</span></span> {</span><br><span class="line">	<span class="comment">// 构造节点：  nil 类型 map 不可直接使用添加元素等</span></span><br><span class="line">	node := Node{</span><br><span class="line">		Children: <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">rune</span>]*Node, <span class="number">0</span>),</span><br><span class="line">	}</span><br><span class="line">	n.Children[c] = &amp;node</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置节点的 isword</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(n *Node)</span> <span class="title">SetIsword</span><span class="params">(flag <span class="keyword">bool</span>)</span></span> {</span><br><span class="line">	n.isWord = flag</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置节点的 id</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(n *Node)</span> <span class="title">SetID</span><span class="params">(id <span class="keyword">int</span>)</span></span> {</span><br><span class="line">	n.id = id</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 整棵树的根节点</span></span><br><span class="line"><span class="keyword">type</span> Trie <span class="keyword">struct</span> {</span><br><span class="line">	<span class="comment">// 字典树的根节点</span></span><br><span class="line">	Root *Node</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化根节点为 "/" </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *Trie)</span> <span class="title">Init</span><span class="params">()</span> *<span class="title">Trie</span></span> {</span><br><span class="line">	t.Root = &amp;Node{</span><br><span class="line">		<span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">rune</span>]*Node, <span class="number">0</span>),</span><br><span class="line">		<span class="literal">false</span>,</span><br><span class="line">		<span class="number">-1</span>,</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> t</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 外部调用初始化一个 字典树</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">New</span><span class="params">()</span> *<span class="title">Trie</span></span> { </span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">new</span>(Trie).Init() </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加名称</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *Trie)</span> <span class="title">Add</span><span class="params">(word <span class="keyword">string</span>, id <span class="keyword">int</span>)</span></span> {</span><br><span class="line">	<span class="comment">// 转换为 rune</span></span><br><span class="line">	w := []<span class="keyword">rune</span>(word)</span><br><span class="line">	<span class="comment">// 找到每一个节点</span></span><br><span class="line">	cur := t.Root</span><br><span class="line">	<span class="comment">// 遍历 word的每一个字符</span></span><br><span class="line">	<span class="keyword">for</span> _, c := <span class="keyword">range</span> w {</span><br><span class="line">		<span class="comment">// 1. 查找子节点中是否包含当前字符</span></span><br><span class="line">		<span class="comment">// 如果不包含, 添加一下</span></span><br><span class="line">		<span class="keyword">if</span> _, ok := cur.Children[c]; !ok {</span><br><span class="line">			<span class="comment">// 添加新节点</span></span><br><span class="line">			cur.Add(c)</span><br><span class="line">		}</span><br><span class="line">		<span class="comment">// cur 指向下一个子节点</span></span><br><span class="line">		cur = cur.Children[c]</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">// 将最后一个节点字符的 尾设置为 true</span></span><br><span class="line">	cur.SetIsword(<span class="literal">true</span>)</span><br><span class="line">	cur.SetID(id)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 查询字符串前缀</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *Trie)</span> <span class="title">SearchPre</span><span class="params">(word <span class="keyword">string</span>)</span> <span class="params">(*Node,<span class="keyword">bool</span>)</span></span> {</span><br><span class="line">	w := []<span class="keyword">rune</span>(word)</span><br><span class="line">	cur := t.Root</span><br><span class="line">	<span class="keyword">var</span> c <span class="keyword">rune</span></span><br><span class="line">	<span class="keyword">for</span> _,c = <span class="keyword">range</span> w {</span><br><span class="line">		<span class="comment">// 1. 查找子节点中是否包含当前字符</span></span><br><span class="line">		<span class="keyword">if</span> _, ok :=  cur.Children[c]; !ok {</span><br><span class="line">			<span class="keyword">return</span> cur, <span class="literal">false</span></span><br><span class="line">		}</span><br><span class="line">		<span class="comment">// cur 指向下一个子节点</span></span><br><span class="line">		cur = cur.Children[c]</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> cur,<span class="literal">true</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//递归添加以pre_str为前缀的字符串到ret集合 </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">AddStr</span><span class="params">(root *Node, pre_str <span class="keyword">string</span>, ret *[]<span class="keyword">string</span>)</span></span> {</span><br><span class="line">	<span class="keyword">for</span> i,index := <span class="keyword">range</span> root.Children {</span><br><span class="line">		AddStr(index, pre_str + <span class="keyword">string</span>(i), ret)</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (root.isWord) {</span><br><span class="line">		*ret = <span class="built_in">append</span>(*ret, pre_str)</span><br><span class="line">		<span class="comment">//fmt.Println(*ret)</span></span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//递归添加以pre_str为前缀的id到id集合 </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">AddID</span><span class="params">(root *Node, pre_str <span class="keyword">string</span>, id *[]<span class="keyword">int</span>)</span></span> {</span><br><span class="line">	<span class="keyword">for</span> i,index := <span class="keyword">range</span> root.Children {</span><br><span class="line">		AddID(index, pre_str + <span class="keyword">string</span>(i), id)</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (root.isWord) {</span><br><span class="line">		*id = <span class="built_in">append</span>(*id, root.id)</span><br><span class="line">		<span class="comment">//fmt.Println(*ret)</span></span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//返回所有前缀为str的字符串 以及对应id</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *Trie)</span> <span class="title">GetStrPre</span><span class="params">(word <span class="keyword">string</span>)</span> <span class="params">([]<span class="keyword">string</span>,[]<span class="keyword">int</span>)</span></span>{</span><br><span class="line">	<span class="keyword">var</span> ret []<span class="keyword">string</span></span><br><span class="line">	<span class="keyword">var</span> id []<span class="keyword">int</span></span><br><span class="line">	<span class="keyword">var</span> find_node *Node</span><br><span class="line">	<span class="keyword">var</span> ok <span class="keyword">bool</span> = <span class="literal">false</span></span><br><span class="line">	find_node,ok = t.SearchPre(word)</span><br><span class="line">	<span class="keyword">if</span> (ok) {</span><br><span class="line">		AddStr(find_node,word,&amp;ret)</span><br><span class="line">		AddID(find_node,word,&amp;id)</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> ret,id</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断是否包含指定的名称</span></span><br><span class="line"><span class="comment">// 不仅能找到名称，并且名称的结尾必须是 isWord = true 才说明有这个名称</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *Trie)</span> <span class="title">Contains</span><span class="params">(word <span class="keyword">string</span>)</span> <span class="title">bool</span></span> {</span><br><span class="line">	<span class="comment">// 转换为 字符</span></span><br><span class="line">	w := []<span class="keyword">rune</span>(word)</span><br><span class="line">	<span class="comment">// 找到每一个节点</span></span><br><span class="line">	cur := t.Root</span><br><span class="line">	<span class="comment">// 遍历 word的每一个字符</span></span><br><span class="line">	<span class="keyword">for</span> _, c := <span class="keyword">range</span> w {</span><br><span class="line">		<span class="comment">// 1. 查找子节点中是否包含当前字符</span></span><br><span class="line">		<span class="keyword">if</span> _, ok :=  cur.Children[c]; !ok {</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">		}</span><br><span class="line">		<span class="comment">// cur 指向下一个子节点</span></span><br><span class="line">		cur = cur.Children[c]</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">// 判断最后一个单词是否是 单词末尾 cur.isWord == true,</span></span><br><span class="line">	<span class="comment">// 直接缩写为 cur.isWord</span></span><br><span class="line">	<span class="keyword">return</span> cur.isWord</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">// 创建字典树</span></span><br><span class="line">	t := New()</span><br><span class="line">	<span class="comment">// 编写测试</span></span><br><span class="line">	t.Add(<span class="string">"一万"</span>,<span class="number">1</span>)</span><br><span class="line">	t.Add(<span class="string">"一万一"</span>,<span class="number">2</span>)</span><br><span class="line">	t.Add(<span class="string">"计算机组成原理"</span>,<span class="number">3</span>)</span><br><span class="line">	t.Add(<span class="string">"计算机组成原理"</span>,<span class="number">4</span>)</span><br><span class="line">	t.Add(<span class="string">"bigger"</span>,<span class="number">5</span>)</span><br><span class="line">	t.Add(<span class="string">"dog"</span>,<span class="number">6</span>)</span><br><span class="line">	t.Add(<span class="string">"door"</span>,<span class="number">7</span>)</span><br><span class="line">	<span class="comment">// 测试</span></span><br><span class="line">	fmt.Println(t.Contains(<span class="string">"一"</span>))</span><br><span class="line">	fmt.Println(t.Contains(<span class="string">"一万一"</span>))</span><br><span class="line">	fmt.Println(t.Contains(<span class="string">"bigger"</span>))</span><br><span class="line">	fmt.Println(t.Contains(<span class="string">"biggerr"</span>))</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"以下是别的测试"</span>)</span><br><span class="line">	<span class="keyword">var</span> ret []<span class="keyword">string</span></span><br><span class="line">	<span class="keyword">var</span> id []<span class="keyword">int</span></span><br><span class="line">	ret,id = t.GetStrPre(<span class="string">"计算机"</span>)</span><br><span class="line">	fmt.Println(ret)</span><br><span class="line">	fmt.Println(id)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://mushroom323.github.io/2022/06/10/GO_5/" data-id="cl65b7xf500085ktber5u6aja" class="article-share-link">
        Share
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Go/" rel="tag">Go</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-jiwang_5" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      

<h2 itemprop="name">
  <a class="article-title" href="/2022/05/29/jiwang_5/">网络层</a>
</h2>



    </header>
    

    
    <div class="article-meta">
      <a href="/2022/05/29/jiwang_5/" class="article-date">
  <time datetime="2022-05-29T14:59:13.000Z" itemprop="datePublished">2022-05-29</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
      <ul>
<li><strong>本章脉络</strong><ul>
<li>网络层设计问题<ul>
<li>问题</li>
<li>数据报</li>
<li>虚电路</li>
</ul>
</li>
<li>路由算法<ul>
<li>最短路由算法</li>
<li>泛洪算法</li>
<li>DV算法 距离矢量算法</li>
<li>LSR算法 链路状态路由</li>
<li>层次路由</li>
</ul>
</li>
<li>拥塞算法<ul>
<li>总体原则</li>
<li>拥塞预防</li>
<li>拥塞控制</li>
<li>负载脱落</li>
</ul>
</li>
<li>服务质量</li>
<li>网络互连</li>
<li>互联网的网络层<ul>
<li>IPV4</li>
<li>ICMP</li>
<li>IP地址和路由表</li>
<li>NAT</li>
<li>ARP、DHCP</li>
<li>OSPF</li>
<li>BGP</li>
<li>IPV6</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>网络层是是处理端到端的最底层。</p>
<ul>
<li>网络层需要知道整体的拓扑结构</li>
<li>避免某些通信线路和路由器过载，导致其他的闲置</li>
</ul>
<h1 id="5-1-网络层设计问题"><a href="#5-1-网络层设计问题" class="headerlink" title="5.1 网络层设计问题"></a>5.1 网络层设计问题</h1><h2 id="5-1-3-无连接服务的实现"><a href="#5-1-3-无连接服务的实现" class="headerlink" title="5.1.3 无连接服务的实现"></a>5.1.3 无连接服务的实现</h2><p><strong>采用数据包。</strong></p>
<p>如果提供的是无连接的服务，那么，所有的数据包都被独立地注入到网络中，并且每个数据包独立路由，不需要提前建立任何设置。在这样的上下文中，数据包通常称为数据报(datagram)，它类似于电报(telegram)，对应的网络称为数据报网络(datagram network)</p>
<p>无连接服务 路由表<br>每一台路由器都有一个内部表，它指明了针对每一个可能的目标地址应该将数据包送到哪里去。<strong>每个表项由两部分数据组成：目标地址和通往目标地址所使用的出境线路。</strong></p>
<p><img src="https://api2.mubu.com/v3/document_image/aa6d68fa-0f30-4349-aea3-daaccd9b249d-14970684.jpg" alt="55.png"></p>
<p>差错处理和流量控制由用户主机负责。分组交换网只负责送报。</p>
<h2 id="5-1-4-面向连接的服务"><a href="#5-1-4-面向连接的服务" class="headerlink" title="5.1.4 面向连接的服务"></a>5.1.4 面向连接的服务</h2><p><strong>虚电路(virtual circuit)</strong></p>
<p>如果使用了面向连接的服务，那么，在发送数据包之前，必须首先建立起一条从源路由器到目标路由器之间的路径。这个连接称为虚电路(VC, virtual circuit)，它类似于电话系统中建立的物理电路，对应的网络称为虚电路网络(virtual-circuit network)。</p>
<p>面向连接服务 路由表</p>
<p>当建立一个连接时，<strong>从源机器到目标机器之间的一条路径就被当作这个连接的一部分确定了下来，并且保存在这些中间路由器的表中。</strong>所有需要在这个连接上通过的流量，都使用这条路径，这与电话系统的工作方式完全一致。当连接被释放之后，虚电路也随之消失。在面向连接的服务中，每个数据包包含一个标识符，指明了它属于哪一条虚电路</p>
<p><img src="https://api2.mubu.com/v3/document_image/8b3c4751-fd1e-43fc-b32d-0eb3d4ff329f-14970684.jpg" alt="55.png"></p>
<p>尽管A很容易区分出标识连接1的数据包是来自H1还是来自H3，但是，C无法区分它们。基于这个原因，A给第二个连接的出境流量分配一个不同的连接标识符。这种避免冲突的做法说明了为什么路由器需要具各替换出境数据包中连接标识符的能力</p>
<p>在有些上下文中，这个过程称为标签交换(label switching)</p>
<h2 id="5-1-5-虚电路与数据报网络的比较"><a href="#5-1-5-虚电路与数据报网络的比较" class="headerlink" title="5.1.5  虚电路与数据报网络的比较"></a>5.1.5  虚电路与数据报网络的比较</h2><p><img src="https://api2.mubu.com/v3/document_image/9ebc3e54-d3fe-4dda-93ff-2f50b9026a00-14970684.jpg" alt="55.png"></p>
<p><img src="https://api2.mubu.com/v3/document_image/918a7b40-3a8c-4f5e-a33e-cf34ca7c6427-14970684.jpg" alt="55.png"></p>
<h1 id="5-2-路由算法"><a href="#5-2-路由算法" class="headerlink" title="5.2 路由算法"></a>5.2 路由算法</h1><p><strong>路由算法</strong><br>路由算法(routing algorithm)是网络层软件的一部分，它负责确定一个入境数据包应该被发送到哪一条输出线路上。<br><strong>如果网络内部使用了数据报</strong>，那么路由器必须针对每一个到达的数据包重新选择路径，因为自上一次选择了路径之后，最佳路径可能已经发生了改变。<br><strong>如果网络内部使用虚电路</strong>，那么只有当建立一条新的虚电路时，才需要做路由决策。此后，数据包只要沿着已经建立的路径向前传递即可。后一种情形有时候也称为会话路由(session routing)</p>
<p><strong>路由进程和转发进程</strong><br>可以把路由器想象成内部有两个进程。其中一个进程在每个数据包到达的时候对它进行处理，它在路由表中査找该数据包所对应的出境线路。这个进程即为转(forwarding)进程；另一个进程负责生成和更新路由表，这正是路由算法发挥作用的地方。</p>
<p>路由算法的特性和指标<br>路由算法必须满足某些特性：正确性、简单性、鲁棒（健壮）性、稳定性、公平性和有效性。</p>
<p>首先必须确定要优化什么性能指标。使数据包的平均延退达到最小是有效发送流量的一种很明显的选择，但是使网络的总吞吐量最大化也是一种不错的选择。</p>
<p><strong>路由算法分类</strong></p>
<ul>
<li>静态/非适应性<ul>
<li>非自适应算法(nonadaptive algorithm)不会根据当前测量或者估计的流量和拓扑结构，来调整它们的路由决策。相反，从I到J(对所有的I和J)所使用的路由选择预先在离线情況下计算好，并在网络启动时被下载到路由器中的。这个过程有时候也称为静态路由(static routing)。</li>
</ul>
</li>
<li>适应性的<ul>
<li>自适应算法(adaptive algorithm)则会改变它们的路由决策以便反映出拓扑结构的变化，通常也会反映出流量的变化情况</li>
</ul>
</li>
</ul>
<h2 id="5-2-1-优化原则"><a href="#5-2-1-优化原则" class="headerlink" title="5.2.1 优化原则"></a>5.2.1 优化原则</h2><p><strong>最优化原则</strong></p>
<p><img src="https://api2.mubu.com/v3/document_image/1f996d7b-76c8-4be2-8767-de89bb4c465e-16175743.jpg" alt="5.png"></p>
<p>如果J在I-&gt;K的最短路径上，显然，J-&gt;K的最短路径也是同样的route</p>
<p><strong>汇集树</strong></p>
<p>汇集树(sink tree)<br>从所有的源到一个指定目标的最优路径的集合构成了一棵以目标节点为根的树。这样的树称为汇集树(sink tree)</p>
<p>汇集树不一定是唯一的；有可能存在具有相同路径长度的其他汇集树。如果我们允许选择所有可能的路径，则树就变成了更一般的结构，称为有向无环图(DAG, Directed Acyclic Graph)</p>
<p>由于汇集树确实是一棵树，它不包含任何环，所以每个数据包将在有限的跳数内完成传递。</p>
<p>不同的路由器对当前拓扑结构的了解可能有所不同</p>
<p><img src="https://api2.mubu.com/v3/document_image/53388bfe-26af-4be8-af90-44cf4f0e0fb7-14970684.jpg" alt="55.png"></p>
<h2 id="5-2-2-最短路径算法"><a href="#5-2-2-最短路径算法" class="headerlink" title="5.2.2 最短路径算法"></a>5.2.2 最短路径算法</h2><p>基本想法是构造一张网络图，图中的每个节点代表一个路由器，每条边代表一条通信线路或者链路。</p>
<p>边权<br>一种测量路径长度的方法是跳数。</p>
<p>另一种度量是以千米为单位的地理距离，</p>
<p>除跳数和物理距离之外，还可以用许多其他度量来标示路径的长短。例如，图中每条边用一个标准测试包的平均延迟来标记，这是每小时的测量结果。</p>
<p>一般情况下，边上面的标记可以作为距离、带宽、平均流量、通信成本、平均延迟等其他因素的一个函数，通过计算得出</p>
<p>Dijkstra算法（已知拓扑，计算是容易的，难的是构造拓扑）</p>
<h2 id="5-2-3-泛洪算法"><a href="#5-2-3-泛洪算法" class="headerlink" title="5.2.3 泛洪算法"></a>5.2.3 泛洪算法</h2><p>泛洪(flooding)<br>将每一个入境数据包发送到除了该数据包到达的那条线路以外的每条出境线路。</p>
<p>问题和解决方法<br>泛洪法会产生大量的重复数据包</p>
<p><img src="https://api2.mubu.com/v3/document_image/be298e17-d18c-46d0-a665-9b2d717c218b-14970684.jpg" alt="55.png"></p>
<p>泛洪算法的特性<br><strong>泛洪途径的鲁棒性非常好。</strong></p>
<p><strong>泛洪能并发选择每一条可能的路径，因此总能选出最短的那条路径，没有其他算法能够产生一个更短的延迟</strong></p>
<p>对于广播信息来说，这是一种有效的广播手段</p>
<h2 id="5-2-4-距离矢量算法"><a href="#5-2-4-距离矢量算法" class="headerlink" title="5.2.4 距离矢量算法"></a>5.2.4 距离矢量算法</h2><ul>
<li>每个router维护一个表<ul>
<li>到每个目的地的已知最好的距离</li>
<li>这里的distance可能是hops的数目，时延ms，etc.</li>
<li>使用哪条line</li>
</ul>
</li>
<li>这个表会不断的通过跟邻居交换信息来update<ul>
<li>发送routing信息（distance，destination）<ul>
<li>周期性的发送</li>
<li>当表改变的时候</li>
</ul>
</li>
<li>接受routing信息<ul>
<li>如果收到了一个更好的route，就更新</li>
<li>refresh已经存在的routes（有个时戳，对应下面那个times out）</li>
<li>如果某个item times out 了，就删除这一项</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://api2.mubu.com/v3/document_image/81ac3919-13d4-4331-b477-4d2d21dd62c3-14970684.jpg" alt="55.png"><br><img src="https://api2.mubu.com/v3/document_image/996797fa-e07e-460a-b1d4-04ce5e090025-14970684.jpg" alt="55.png"><br><img src="https://api2.mubu.com/v3/document_image/2d65ed3a-8e41-410e-a9fe-5a429082ffc6-14970684.jpg" alt="55.png"></p>
<p><strong>无穷计数问题</strong>：</p>
<ul>
<li> 整个网络最佳路径的寻找过程称为收敛(convergence)</li>
<li>坏消息传播得很慢：没有一个路由器具有个比它所有邻居的最小值还大于1的值。逐渐地，所有的路由器都会趋向无穷大，但是所需交换的次数依赖于代表无穷大的数值。由于这样的原因，明智的做法是将无穷大设置为最长的路径加1。</li>
<li>并不完全出人意料，这个问题称为无穷计数(count-to-infinity)问题。</li>
<li>问题的核心在于当X告诉Y它有一条通往某个地方的路径，Y无从知道自己是否已在这条路径上。</li>
<li>无穷级数问题例</li>
<li><img src="https://api2.mubu.com/v3/document_image/fbe79c75-e13d-4461-b62c-f38ed37ff208-14970684.jpg" alt="55.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/508be6ce-768c-4e23-bd2c-39ed28ffc05b-14970684.jpg" alt="55.png"></li>
<li>一般是把无穷设置为16。</li>
</ul>
<h2 id="5-2-5-链路状态路由-LS算法、"><a href="#5-2-5-链路状态路由-LS算法、" class="headerlink" title="5.2.5 链路状态路由 LS算法、"></a>5.2.5 链路状态路由 LS算法、</h2><ul>
<li><p>LS算法中每个路由器要做：</p>
<ul>
<li>发现邻居，了解网络地址</li>
<li>建立distance和cost</li>
<li>建立一个链路状态数据包（LSP），显示“学”到的信息</li>
<li>该包发给所有路由器，flooding扩散</li>
<li>计算自己到其他所有router的距离</li>
</ul>
</li>
<li><p><strong>发现邻居</strong></p>
<ul>
<li>发送HELLO包<ul>
<li> 广播网络发广播报文</li>
<li> 不是广播网络发unicast HELLO</li>
</ul>
</li>
<li>邻居回一个回复报文告诉他是谁<ul>
<li>路由ID必须全局唯一</li>
</ul>
</li>
<li>简化拓扑结构<ul>
<li>当两个或者更多路由是被LAN或者其他多路存取的路由器</li>
<li>怎么简化拓扑捏，伪结点</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>伪结点</strong></p>
<ul>
<li> 广播LAN给连接到上面的每一对路由器都提供了连通性。然而直接建模会把LAN视为多个点到点链路，会增大拓扑结构，导致消息浪费。</li>
<li> 更好的办法是将LAN看作是一个节点。</li>
<li> <img src="https://api2.mubu.com/v3/document_image/ad4f9b04-f8b1-4eb0-9771-63d1bf04bac4-14970684.jpg" alt="55.png"></li>
<li> 这个N模拟的是LAN，可以由A、C、F中任何一个担当，如果A担当，那么A内部可以有两个邻接矩阵。</li>
</ul>
</li>
<li><p><strong>构造链路状态数据包</strong></p>
<ul>
<li>构建一个包含所有这些信息的数据包。该数据包的内容首先是发送方的标识符，接着是一个序号(Seq)和年龄(Age，后面再介绍)，以及一个邻居列表。对于每个邻居，同时要给出到这个邻居的延迟。</li>
<li>一种可能的做法是周期性地创建数据包，也就是说，以一定的时间间隔创建链路状态数据包。另一种可能做法是每当发生某些重要的事情时才创建数据包，比如当一条线路断掉或者一个邻居节点停机时，或当它们重新恢复运行时，或当它们的特性发生了一定变化时。</li>
<li><img src="https://api2.mubu.com/v3/document_image/2610f303-2c75-4bb8-bb31-e6b88bb48c2b-14970684.jpg" alt="55.png"></li>
</ul>
</li>
<li><p><strong>分发LSP</strong></p>
<ul>
<li>采用可靠扩散。也就是说发出的报文受损会重发。</li>
<li><img src="https://api2.mubu.com/v3/document_image/9ba49fa5-c839-499a-b915-4b419ecee0d0-14970684.jpg" alt="55.png"></li>
<li>可能会出现的几个问题<ul>
<li>序号绕回。这个采用32位序号，基本用不完。</li>
<li>路由器崩溃了会丢失所有序号记录表。或者路由器改了routerid。这两个问题都采用age解决。</li>
<li>age代表LSP的生存时间，每过一秒减一，减完了就不能用了。这样避免了拓扑结构改变结果路由还保存着错误的LSP的情况。</li>
<li>eg：<img src="https://api2.mubu.com/v3/document_image/9c6212e6-99ea-457b-8262-cadf3ced914d-14970684.jpg" alt="55.png"><ul>
<li>这里的每行对应于一个刚刚到达的，但是还没有完全处理完毕的链路状态数据包。该表记录了数据包的来源、序号和年龄，以及状态数据。而且，针对B的三条线路(分别到A、C和F)还记录了发送和确认标志。发送标志表明该数据包必须在所指示的线路上发送。确认标志表明它必须在这条线路上得到确认。</li>
<li>在图5-13中，来自A的链路状态数据包可以直接到达，所以B必须将它发送给C和F，并且按照标志位的指示向A发回确认。类似地，必须把来自F的数据包转发给A和C，并且向F返回确认然而，第三个数据包，即来自E的数据包有所不同。它到达两次，一次经过EAB，另次经过EFB。因此，它只需被发送给C，但是要向A和F确认，正如标志位所示。</li>
<li>如果一个重复数据包到来时原来的数据包仍然在缓冲区中，那么标志位必须作相应的改变。例如，如果表中第四项被转发出去之前，C的链路状态数据包的一份副本从F到达，那么，这六位将被改变为100011(在C的缓冲区中，而不是C将要发出去的)，以表明该数据包必须向F确认，但是不用转发了。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>计算新的路由</p>
<ul>
<li>收集到一整套LSP就建立整个图</li>
<li>然后迪杰斯特拉，最短路径</li>
<li><img src="https://api2.mubu.com/v3/document_image/a96a5f6b-ec04-405f-ae8a-53ac8967b566-16175743.jpg" alt="55.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/2e9fdd3c-9238-434c-a947-ee2a75110d28-16175743.jpg" alt="55.png"></li>
</ul>
</li>
<li><p>DV和LS比较</p>
<ul>
<li><img src="https://api2.mubu.com/v3/document_image/034021dd-dbe5-43d1-b396-e403ca85a9b5-14970684.jpg" alt="55.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/b0c5172d-d535-45f1-be8a-d50360c88a82-14970684.jpg" alt="55.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/c5e609cc-64c2-47dd-994c-d51cbbf5c1eb-14970684.jpg" alt="55.png"></li>
</ul>
</li>
</ul>
<h2 id="5-2-6-层次路由"><a href="#5-2-6-层次路由" class="headerlink" title="5.2.6 层次路由"></a>5.2.6 层次路由</h2><p>路由分组分层来减小路由表的开销。<br><img src="https://api2.mubu.com/v3/document_image/2f719067-2e33-43ff-8b62-fec3b876aed5-14970684.jpg" alt="55.png"></p>
<h1 id="5-3-拥塞控制算法"><a href="#5-3-拥塞控制算法" class="headerlink" title="5.3 拥塞控制算法"></a>5.3 拥塞控制算法</h1><p>拥塞(congestion)<br>(一部分)网络中存在太多的数据包导致数据包被延迟延迟和丢失，从而降低了传输性能，这种情况称为拥塞(congestion)</p>
<ul>
<li>拥塞控制和流量控制<ul>
<li>拥塞控制和流量控制之间有很大的差异，它们之间的关系非常微妙。拥塞控制的任务是确保网络能够承载所有到达的流量。这是一个全局性的问题，涉及各方面的行为，包括所有的主机和所有的路由器。与此相反，流量控制只与特定的发送方和特定的接收方之间的点到点流量有关。它的任务是确保一个快速的发送方不会持续地以超过接收方接收能力的速率传输数据。</li>
</ul>
</li>
</ul>
<h2 id="5-3-1-拥塞控制的途径"><a href="#5-3-1-拥塞控制的途径" class="headerlink" title="5.3.1 拥塞控制的途径"></a>5.3.1 拥塞控制的途径</h2><p><img src="https://api2.mubu.com/v3/document_image/78c7cc1e-b9e3-4b41-a9bc-52339f4479bd-14970684.jpg" alt="55.png"></p>
<p><img src="https://api2.mubu.com/v3/document_image/33740d75-db1c-4f09-a56a-72a17d6bc5b8-14970684.jpg" alt="55.png"></p>
<h2 id="5-3-2-流量感知路由"><a href="#5-3-2-流量感知路由" class="headerlink" title="5.3.2 流量感知路由"></a>5.3.2 流量感知路由</h2><ul>
<li>最直接的方式是把链路权重设置成一个(固定)链路带宽、传输延迟、(可变)测量负载或平均排队延迟的函数。在所有其他条件都相同的情况下，最小权重的路径更青睐那些轻负载的路径。</li>
<li>潜在危险<ul>
<li>这两部分通过链路CF和EI相连。假设东西之间的大部分流量使用链路CF，因此，这个链路负荷超重因而延迟增大。如果把排队延退加入到计算最短路径的权重中，那么链路EI 将变得更具吸引力。当新的路由表被安装好之后，大部分东西方的流量现在改走链路E，由此增加了此链路的负载。因此，在下一次路由更新时，CF将成为最短路径。结果，路由表可能会烈地摇摆不定，从而导致不稳定的路由和许多潜在的问题。</li>
<li><img src="https://api2.mubu.com/v3/document_image/10624246-c202-44dc-9592-e33615bb479b-14970684.jpg" alt="55.png"></li>
<li>Internet路由协议通常不依赖于负载来调整自己的路由。相反，在路由协议外部通过慢慢改变它的输入来调整路由。这种方法就是所谓的流量工程(traffic engineering)</li>
</ul>
</li>
</ul>
<h2 id="5-3-3-准入控制"><a href="#5-3-3-准入控制" class="headerlink" title="5.3.3 准入控制"></a>5.3.3 准入控制</h2><p>其基本思想非常简单：除非网络可以携带额外的流量而不会变得拥塞，否则不再建立新的虚电路。因此，任何建立新的虚电路的尝试或许会失败.</p>
<p>描述流量通常采用的描述符是漏桶(leaky bucket)或令牌桶(token bucket)。一个漏桶有两个参数约束了平均速率和瞬时突发流量大小。</p>
<p>准入控制还可以和流量感知路由相结合，在虚电路建立过程中，考虑绕开流量热点区域的路由。</p>
<h2 id="5-3-4-流量调节"><a href="#5-3-4-流量调节" class="headerlink" title="5.3.4 流量调节"></a>5.3.4 流量调节</h2><ul>
<li><p>为了在拥塞到来之前确定，每个路由器连续检测资源，一般检测以下</p>
<ul>
<li>输出线路的利用率</li>
<li>队列长度（最有用</li>
<li>现在丢包数量</li>
<li><strong>路由器内部排队数据包的数量 EWMA</strong><ul>
<li><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="23.061ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 10192.9 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="TeXAtom" transform="translate(553,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(600,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="mi" transform="translate(1066,0)"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g></g></g><g data-mml-node="mo" transform="translate(2140.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(3196.6,0)"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z"></path></g><g data-mml-node="msub" transform="translate(3836.6,0)"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="TeXAtom" transform="translate(553,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(485,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(783,0)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g><g data-mml-node="mo" transform="translate(5583.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mo" transform="translate(6583.4,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mn" transform="translate(6972.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(7694.6,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(8694.9,0)"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z"></path></g><g data-mml-node="mo" transform="translate(9334.9,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mi" transform="translate(9723.9,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></svg></mjx-container></li>
<li>其中d表示良好的排队延退估计。s表示瞬时队列长度的样值。则d可以通过这个式子实时更新。<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex" xmlns="http://www.w3.org/2000/svg" width="1.448ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 640 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z"></path></g></g></g></svg></mjx-container>是一个系数，一般取0.8.</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>路由器要及时把反馈信息给造成拥塞的发送方</strong></p>
<ul>
<li><strong>抑制包。choke packet</strong><ul>
<li>抑制包中的目标地址取自该拥塞数据包。同时，在原来的拥塞数据包上添加一个标记(设置头部中的一位)，因而它在前行的路径上不会产生更多的抑制包。除此以外，数据包的转发过程如同平常一样</li>
</ul>
</li>
<li><strong>显式拥塞控制 ECN</strong><ul>
<li>路由器可以在它转发的任何数据包上打上标记(设置数据包头的某一个标志位)发出信号，表明它正在经历着拥塞。当网络传递数据包时，接收方可以注意到有个拥塞已经发生，在它发送应答包时顺便告知发送方。然后发送方可以像以前那样紧急刹车降低传输速率。</li>
</ul>
</li>
<li><strong>逐跳后压（TCP和IP中使用）</strong><ul>
<li>另一种办法是让抑制包在沿途的每一跳都发挥作用，如图5-26(b)中的序列所示。在这里，只要抑制包到达F，则F必须按照要求减慢发给D的数据包流。这样做的结果是要求F为D的数据包流分配更多的缓冲区，因为源主机仍然在全速发送数据，但是F这么做却让D立刻得到缓解，就好像电视广告中的头痛疗法一样。在下一步，抑制包到达E告诉E减慢给F的数据包流。这一行动给E的缓冲区带来更大需求，但是却让F立即得到缓解。最后，抑制包到达A，数据包流才真的减慢下来。</li>
<li><img src="https://api2.mubu.com/v3/document_image/de060e48-910c-47ee-bb37-1e883af23abf-14970684.jpg" alt="55.png"></li>
<li>这种逐跳方案的实际效果是拥塞点上的拥塞现象很快得到了缓解，但是其代价是上游路径需要消耗更多的缓冲区空间。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="5-3-5-负载脱落"><a href="#5-3-5-负载脱落" class="headerlink" title="5.3.5 负载脱落"></a>5.3.5 负载脱落</h2><p>负载脱落(load shedding)是一种富有想象力的说法，它指当路由器因为米不及处理数据包而面临被这些数据包淹没的危险时，就将它们丢弃。</p>
<ul>
<li><p><strong>丢包策略</strong></p>
<ul>
<li>葡萄酒 wine<ul>
<li>对于文件传输，旧的数据包价值要高于新的数据包。因此一般丢新的。</li>
</ul>
</li>
<li>牛奶 milk<ul>
<li>对于实时媒体流，新的数据包价值超过老的数据包。一般丢旧的。因为一旦错失了播放时间，那这个包就没用了。</li>
</ul>
</li>
<li>包的优先级<ul>
<li>发送方给比较重要的包打上高优先级的tag</li>
<li>允许主机超过协议说好的带宽，但是超出的部分标上比较低的优先级</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>RED 随机早期检测</strong></p>
<ul>
<li>预测到网络要寄了就丢包。丢包是随机的。因为反正也不知道是哪个源发多了。</li>
<li>被丢包影响到的源就会放慢传输速度。因此没有显式表示，但是仍然有抑制包类似的作用。</li>
</ul>
</li>
<li><p><strong>RED ECN</strong></p>
<ul>
<li>RED 在剩余缓存空间到达临界值（不一定满）的时候就开始扔包，而ECN只在路由器的buffer满了的时候才会丢包。</li>
<li>ECN 是通常更愿意选择的, 它显示的产生一个拥塞信号 rather than as a loss; 当主机不能接收显示的信号时，RED 就派上用场了。</li>
</ul>
</li>
</ul>
<h1 id="5-4-服务质量"><a href="#5-4-服务质量" class="headerlink" title="5.4 服务质量"></a>5.4 服务质量</h1><ul>
<li>可靠性</li>
<li>时延</li>
<li>抖动</li>
<li>带宽</li>
<li><img src="https://api2.mubu.com/v3/document_image/5438926c-a200-4b27-a638-60f021159ae5-14970684.jpg" alt="55.png"></li>
</ul>
<h2 id="5-4-2-流量整形"><a href="#5-4-2-流量整形" class="headerlink" title="5.4.2 流量整形"></a>5.4.2 流量整形</h2><p>流量整形(traffic shaping)是指调节进入网络的数据流的平均速率和突发性所采用的技术</p>
<ul>
<li><p>服务等级约定(SLA, service level agreement)</p>
<ul>
<li>有时候客户和服务提供者之间的约定称之为服务等级约定(SLA, service level agreement)，特别是当它由聚合流量组成，并且存在一段比较长期的时间时，比如一个给定客户的全部流量。只要顾客履行了约定中的义务，并且根据商定的合约发送数据包，那么，服务提供者就承诺按时将数据包递交到目的地。</li>
</ul>
</li>
<li><p>流量监管(traffic policing)</p>
<ul>
<li>超出约定模式之外的数据包可能会被丢弃，或者被打上低优先级标记。对一个流进行监测称为流量监管(traffic policing)</li>
</ul>
</li>
<li><p><strong>漏桶和令牌桶</strong></p>
<ul>
<li><img src="https://api2.mubu.com/v3/document_image/5ba51702-cbee-4e8d-b310-30f55aa77c97-14970684.jpg" alt="55.png"></li>
<li><strong>漏桶</strong><ul>
<li><img src="https://api2.mubu.com/v3/document_image/591b0f77-e4cd-4b55-95b2-c14c5eb205fb-14970684.jpg" alt="55.png"></li>
</ul>
</li>
<li><strong>令牌桶</strong><ul>
<li><img src="https://api2.mubu.com/v3/document_image/36e5ad90-8ea7-4cb3-a6ab-460c5a82e927-14970684.jpg" alt="55.png"></li>
</ul>
</li>
<li>二者区别<ul>
<li><img src="https://api2.mubu.com/v3/document_image/2704a1f5-d218-4d3b-9c06-74c7f1b5e225-14970684.jpg" alt="55.png"></li>
</ul>
</li>
</ul>
</li>
<li><p><img src="https://api2.mubu.com/v3/document_image/44236e27-430f-4937-8000-5f68b3512b88-14970684.jpg" alt="55.png"></p>
</li>
</ul>
<h2 id="5-4-3-包调度"><a href="#5-4-3-包调度" class="headerlink" title="5.4.3 包调度"></a>5.4.3 包调度</h2><p>在同一个流的数据包之间以及在竞争流之间分配路由器资源的算法称为(数据)包调度算法(packet scheduling algorithms)。为不同的流可以预约的潜在资源有以下3种。</p>
<ul>
<li><p>带宽</p>
</li>
<li><p>缓冲区</p>
</li>
<li><p>CPU周期</p>
</li>
<li><p>FIFO/FCFS</p>
<ul>
<li>先来先服务。先进先出，尾丢弃</li>
<li>如RED，平均队列长度增大，随即丢弃一个新到达的数据分组</li>
<li>存在问题<ul>
<li>存在多个流，一个流很容易干扰其他流量的性能。</li>
</ul>
</li>
</ul>
</li>
<li><p>公平队列。</p>
<ul>
<li>针对每条输出线路，为每个流设置单独的队列。</li>
<li>循环所有队列，以包为单位取出来发送。</li>
<li>问题是给使用较大的数据包的主机比使用较小数据包的主机提供了更多的带宽。</li>
</ul>
</li>
<li><p>循环公平队列。</p>
<ul>
<li>这里的诀窍是计算一个虚拟时间，这个时间指每个数据包发送完毕所需要的轮数。每一轮循环从所有有数据待发送的队列中排空一个字节：然后，按照数据包的结时间顺序排队，并以该顺序真正发送数据包</li>
<li><img src="https://api2.mubu.com/v3/document_image/7265b44b-f0f4-4950-8002-d759d15b1878-14970684.jpg" alt="55.png"></li>
</ul>
</li>
<li><p>加权公平队列</p>
<ul>
<li>这种修改后的算法称为加权公平队列(WFQ, Weighted Fair Queueing)。设每一轮的字节数是一个流的权重W，我们现在可以给出计算完成时间的公式：</li>
<li><img src="https://api2.mubu.com/v3/document_image/6771c3d1-c24a-44e6-9ff6-0b2a8b690778-14970684.jpg" alt="55.png"></li>
<li>其中A为到达时间，F为完成时间，L；是数据包i的长度。在图5-31(a)中，最下面的队列权重为2，所以你可以看到在图5-31(b)给出的完成时间表中，它的数据包被发送得更快。</li>
<li><img src="https://api2.mubu.com/v3/document_image/f3ef39af-726c-464d-9908-830dff299446-14970684.jpg" alt="55.png"></li>
</ul>
</li>
</ul>
<h1 id="5-5-网络互联"><a href="#5-5-网络互联" class="headerlink" title="5.5 网络互联"></a>5.5 网络互联</h1><h2 id="5-5-2-何以连接网络"><a href="#5-5-2-何以连接网络" class="headerlink" title="5.5.2 何以连接网络"></a>5.5.2 何以连接网络</h2><p>两种基本选择<br>连接不同网络的方式有两种基本选择：第一，我们可以制造这样的设备，它能将每种网络的数据包翻译或转换成每个其他类别网络的数据包；第二，像出色的计算机科学家那样，尝试在不同网络的上面增加一个间接层，并且构造一个公共层来解决这个问题。</p>
<p>路由器和交换机<br>在路由器上，数据包被从帧中提取出来，数据包中的网络地址被用来决定把它转发到哪里；而在交换机(或网桥) 上，整个帧是根据其MAC地址传送的。交换机不必了解正在被交换的数据包所采用的网络层协议，同样路由器也不必了解交换机所采用的链路层协议。</p>
<p><img src="https://api2.mubu.com/v3/document_image/2315876e-739b-4b9a-8fa2-b9c3a4eaa697-14970684.jpg" alt="55.png"><br>今天，网桥主要用来连接链路层的同类网络，路由器用来连接网络层不同的网络。</p>
<h2 id="5-5-3-隧道"><a href="#5-5-3-隧道" class="headerlink" title="5.5.3 隧道"></a>5.5.3 隧道</h2><p>包裹包。用来途径不同类型的网络。</p>
<p><img src="https://api2.mubu.com/v3/document_image/82dd92c4-1df3-4a2e-9e9b-b79fed0bb610-14970684.jpg" alt="55.png"></p>
<h2 id="5-5-4-互联网路由"><a href="#5-5-4-互联网路由" class="headerlink" title="5.5.4 互联网路由"></a>5.5.4 互联网路由</h2><p>内部网关协议(IGP)/外部网关协议(EGP)/边界网关协议(BGP)<br>所有这些因素导致了两级路由算法。在每个网络中，使用一个域内(intradomain)或者内部网关协议(interior gateway protocol)进行路由(“网关”是”路由器”的旧称)。这可能是我们已经描述过的一种链路状态协议。为了让数据包跨越构成互联网的网络，就需要用到域间(interdomain)或外部网关协议(exterior gateway protocol)。网络可能全部使用不同的域内协议，但它们必须使用相同的域间协议。在Internet上，域间路由协议称为边界网关协议(BGP, Border Gaterway Protocol)。</p>
<h2 id="5-5-5-最大传输单元MTU"><a href="#5-5-5-最大传输单元MTU" class="headerlink" title="5.5.5 最大传输单元MTU"></a>5.5.5 最大传输单元MTU</h2><p>源端通常不知道数据包通过网络到达接收方的路径，因此它当然不知道到达接收方的数据包尺寸有多小。这个数据包尺寸称为路径最大传输单元(MTU, Path Maximum Transmission Unit)即使源端知道路径MTU，数据包在无连接网络中也是独立路由的，比如Internet。这种路由意味着路径可能会突然改变，因而意外地更改路径MTU。</p>
<ul>
<li><p><strong>透明分段/非透明分段</strong></p>
<ul>
<li><img src="https://api2.mubu.com/v3/document_image/f33dd9bb-81b0-471e-a694-b3eb2371bd1b-14970684.jpg" alt="55.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/194690ef-75f4-40b1-9321-531f4da9fd8f-14970684.jpg" alt="55.png"></li>
<li>分段不利于性能，因为除了增加头开销，数据包的丢失概率也增加了；任何个段的丢失都将导致整个数据包的丢失；而且对主机而言，分比不分带来了更大的突发</li>
<li><strong>IP实现的非透明分段</strong><ul>
<li><img src="https://api2.mubu.com/v3/document_image/08d2f023-e16b-4aea-9e91-7d48d4bc8cad-14970684.jpg" alt="55.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/ff4ef6ff-885e-4c17-9760-7be8a054293e-16175743.jpg" alt="55.png"></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>路径MTU发现</strong></p>
<ul>
<li>每个IP数据包发出时在它的头设置一个比特，指示不允许对该数据包实施分段操作。如果一个路由器接收的数据包太大，它就生成一个报错数据包并发送给源端，然后丢弃该数据包，如图5-44所示。当源端收到报错数据包，它就使用报错数据包携带的信息重新将出错数据包分段，每个段足够小到报错路由器能处理。如果沿着路径前进又遇到一个MTU更小的路由器，那么重复上述过程。</li>
<li><img src="https://api2.mubu.com/v3/document_image/70d56b87-5409-481d-afd8-964f4ce00b6a-14970684.jpg" alt="55.png"></li>
</ul>
</li>
</ul>
<h1 id="5-6-Internet的网络层"><a href="#5-6-Internet的网络层" class="headerlink" title="5.6 Internet的网络层"></a>5.6 Internet的网络层</h1><p>就是ip。</p>
<p>Internet的网络层<br>在网络层，可以把 Internet看作是一种相互关联的网络或自治域(自治系统)集合。</p>
<p>IP的任务是提供一种尽力而为(best-effort)地把数据包从源端传输到接收方的方法(即不提供任何保证)，无须考虑这些机器是否在同一个网络，也不必关心它们之间是否还有其他网络。</p>
<h2 id="5-6-1-IPv4协议"><a href="#5-6-1-IPv4协议" class="headerlink" title="5.6.1 IPv4协议"></a>5.6.1 IPv4协议</h2><p>每个IP数据报包含两部分，一个头和一个正文，正文部分也称之为有效净荷。头由一个20字节的定长部分和一个可选的变长部分组成</p>
<p><img src="https://api2.mubu.com/v3/document_image/43b3da7e-fd3e-4fd9-844d-e520f6e87814-14970684.jpg" alt="55.png"></p>
<p>全都要记下来。</p>
<ul>
<li><strong>版本(version)字段</strong><ul>
<li>版本(Version)字段记录了数据报属于协议哪个版本。</li>
</ul>
</li>
<li><strong>IHL字段</strong><ul>
<li>由于头的长度不固定，所以头的IHL字段指明了头到底有多长(以32位字长度为单位)。IHL的最小值为5，这表明头没有可选项。该4位字段的最大值为15，把头的长度限制为最大60字节，因此选项(Options)字段最多为40字节。</li>
<li>IHL部分，每个1代表四个字节。比如说IHL是5，那就代表头有20个字节。</li>
</ul>
</li>
<li><strong>区分服务</strong><ul>
<li>该字段最初称为服务类型(Type of service)。它曾经并且仍然用来区分不同的服务种类。</li>
<li>现在，前6位用来标记数据包的服务类别，我们在本章前面描述过的加速服务和确保服务：后2位用来携带显式拥塞通知信息，比如数据包是否经历了拥塞，我们在本章的拥塞控制部分描述了显式拥塞通知。</li>
</ul>
</li>
<li><strong>总长度</strong><ul>
<li>总长度(Total length)字段包含了该数据报中的所有内容，即头和数据。最大长度是65535个字节。</li>
</ul>
</li>
<li><strong>标识字节</strong><ul>
<li>标识(Identification)字段的用途是让目标主机确定一个新到达的分段属于哪一个数据报。同一个数据报的所有段包含同样的标识值。</li>
</ul>
</li>
<li><strong>DF标志</strong><ul>
<li>为1代表不分段。不允许路由器对其分割。</li>
</ul>
</li>
<li><strong>MF标志</strong><ul>
<li>为1代表允许分段。分段的时候，除了最后一个段，其他的这个标志位均为1.</li>
</ul>
</li>
<li><strong>分段偏移量(fragment offset)字段</strong><ul>
<li>分段偏移量(Fragment offset)字段指明了该段在当前数据报中的位置。除了数据报的最后一个段以外，其他所有段的长度必须是8字节的倍数。偏移部分的1代表八个字节。比如偏移部分是1，就代表从8bytes的位置开始。</li>
<li>eg</li>
<li><img src="https://api2.mubu.com/v3/document_image/a14695b6-d991-41f3-9614-977aee56d520-14970684.jpg" alt="55.png"></li>
</ul>
</li>
<li><strong>生存期字段</strong><ul>
<li>数据包生存期计数器。跳计数器，每跳一次减一。减到0就丢弃然后给源主机传一个报警包。</li>
</ul>
</li>
<li><strong>协议字段</strong><ul>
<li>代表交给哪个进程。TCP或者UDP或者其他的。</li>
</ul>
</li>
<li><strong>头校验和</strong><ul>
<li>校验算法的执行过程是这样的：当数据到达时，所有的16位(半字)累加起来，然后再取结果的补码。该算法的目的是到达数据包的头校验和计算结果应该为0。这样的校验和对于检测数据包穿过网络时是否发生错误非常有用。请注意，在每一跳必须重新计算头校验和字段，因为至少有个字段总是不断在改变(即生存期字段)，</li>
</ul>
</li>
<li><strong>源地址和目的地址</strong><ul>
<li>源地址(Source address)字段和目标地址(Destination address)字段表示源网络接和日标网络接口的P地址。</li>
</ul>
</li>
<li><strong>选项字段</strong><ul>
<li>选项(Options)字段的设计意图是提供一种途径，允许后续版本协议包含一些原设计中没有出现的信息，以便实验人员尝试新的想法、避免为那些不常使用的信息分配头字段。</li>
<li><img src="https://api2.mubu.com/v3/document_image/6f980ace-3f71-494a-b776-2def6dab28ea-14970684.jpg" alt="55.png"></li>
</ul>
</li>
</ul>
<h2 id="5-6-2-IP地址"><a href="#5-6-2-IP地址" class="headerlink" title="5.6.2 IP地址"></a>5.6.2 IP地址</h2><ul>
<li><p><strong>IP和MAC比较</strong></p>
<ul>
<li>一个IP地址并不真正指向一台主机，而是指向一个网络接口，所以如果一台主机在两个网络上，它必须有两个IP地址。然而，大多数主机都连在一个网络，因而只有一个IP地址。与此相反，路由器有多个接口，从而有多个IP地址</li>
<li></li>
</ul>
</li>
<li><p>IP地址分为两部分。网络号（标志网络）和主机号（标志主机）。</p>
</li>
<li><p><strong>五类IP地址</strong></p>
<ul>
<li><img src="https://api2.mubu.com/v3/document_image/6ae95bc1-da7a-4bb1-950b-f1c008a1cfcd-14970684.jpg" alt="55.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/89dc31d2-d352-496f-9405-05a3ccad8890-14970684.jpg" alt="55.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/1ce09edd-3d86-490b-bcec-824fd358704a-14970684.jpg" alt="55.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/9d662bf5-7414-4daf-bb5a-5bb42398ff55-14970684.jpg" alt="55.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/17fd9470-758e-4736-8057-1cb2e07f9dd0-14970684.jpg" alt="55.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/709fd0d8-0524-45bb-ad94-634d81b7374c-14970684.jpg" alt="55.png"><ul>
<li>注意A的0号和127号不可用，所以A类有128个网络号，但是可用的只有126个。因为全0代表本地网络，全1代表回环。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>特殊IP地址</strong></p>
<ul>
<li><img src="https://api2.mubu.com/v3/document_image/742c3cf1-df96-4309-8b4d-6623a17c07f6-14970684.jpg" alt="55.png"></li>
<li>全0：本机地址，我不知道我自己的地址，就全写0，一段时间之后，网上的服务器会给分配一个地址<ul>
<li>有时候全0也可以代表默认路由，也就是直连互联网。这根据掩码区别。</li>
</ul>
</li>
<li>network 全0：本网络的地址</li>
<li>全1：本地网络的广播</li>
<li>network+全1：远程的某个网络的广播</li>
<li>127+其他的任何东西：比如127.0.0.1，指的是本机的地址。</li>
<li>本地的计算机还是有路由表的。</li>
</ul>
</li>
</ul>
<h3 id="子网"><a href="#子网" class="headerlink" title="子网"></a>子网</h3><p>从主机号借用若干个比特作为子网号。而主机号也就相应减少了若干比特。</p>
<ul>
<li><p><strong>子网掩码</strong></p>
<ul>
<li>地址中主机部分的剩余位数可以有所变化。这意味着，块的大小必须是2的幂。按照惯例，网络地址的书写格式是前缀IP地址后跟一个斜线，斜线后是网络部分的位长度。在我们的例子中，如果前包含28个地址，所以留下了24位用于网络部分，写成128.208.0.0/24。</li>
<li>因为前缀长度仅从IP地址无法推断出来，路由协议必须把前缀携带给路由器。有时候，前缀很简单地由长度描述，比如”/16”，读音为”slash 16”。前缀长度相当于网络部分中16的二进制掩码。以这种格式书写时称为子网掩码(subnet mask)，它可以与ー个IP地址进行AND操作，以便提取出该IP地址的网络部分。在我们的例子中，子网掩码为255.255.255.0。</li>
<li><img src="https://api2.mubu.com/v3/document_image/62636bd7-7a05-4eef-a18d-628da51779cc-14970684.jpg" alt="55.png"></li>
</ul>
</li>
<li><p><strong>子网划分</strong></p>
<ul>
<li>有点像指令地址的划分，但又不是平均分的。</li>
<li>它是先一分为2，然后把其中一份再一分为2…..这样，根据<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex" xmlns="http://www.w3.org/2000/svg" width="3.838ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 1696.6 899"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(298,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="msub" transform="translate(783,0)"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mn" transform="translate(510,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>(需要的地址数目)向上取整，来决定怎么划分。</li>
<li><img src="https://api2.mubu.com/v3/document_image/c66baac3-cf48-4ea7-a5b2-7dfcfac61df8-14970684.jpg" alt="55.png"></li>
<li><strong>子网划分设计原则</strong></li>
<li><img src="https://api2.mubu.com/v3/document_image/7596ae55-3438-4c42-9f6e-87f6441f77b4-14970684.jpg" alt="55.png"></li>
<li>eg</li>
<li><img src="https://api2.mubu.com/v3/document_image/9304dd16-2395-4437-8042-be52ce82b62e-14970684.jpg" alt="55.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/3cfc998d-0a82-4d16-bf43-0377207fbfec-16175743.jpg" alt="55.png"></li>
</ul>
</li>
</ul>
<h3 id="CIDR"><a href="#CIDR" class="headerlink" title="CIDR"></a>CIDR</h3><p>Route aggregation：路由聚合</p>
<p>多条路由汇聚成一条路由，跟子网划分是完全相反的一个过程。使得路由表长度减少。</p>
<p>而且还比子网划分要简单，就找出来这几个路由的前面多少位是一样的就行了</p>
<ul>
<li><strong>最长前缀匹配原则</strong><ul>
<li><img src="https://api2.mubu.com/v3/document_image/d30be0e5-df30-448c-a3cb-3d9100e6940c-14970684.jpg" alt="55.png"></li>
<li>考虑到最长前缀匹配原则，所以允许前缀重叠。</li>
</ul>
</li>
</ul>
<h3 id="NAT"><a href="#NAT" class="headerlink" title="NAT"></a>NAT</h3><p>简单来说就是NAT盒子给内网的每个主机分配一个IP地址，但分配的这些IP地址仅作为私有化而不允许出现在网络上，所以数据包离开或者抵达内网时要执行一个地址转换。</p>
<p>NAT分配的IP地址扩大了主机号而占用了网络号，在互联网上是非法的，但是在网内部是可以使用的，极大的扩充了IPv4可以有的主机数量。</p>
<p><img src="https://api2.mubu.com/v3/document_image/261e2c2c-a1ae-4183-a8ef-c244299c199f-14970684.jpg" alt="55.png"></p>
<p>NAT存在的问题<br>第一，NAT违反了IP的结构模型。IP的结构模型声明每个P地址均唯一标识了世界上的一台机器。</p>
<p>第二，NAT打破了Internet的端-端的连接模型，即任何一个主机可在任何时间给任何一台其他主机发送数据包。</p>
<p>第三，NAT将Internet从一个无连接网络改变成一个面向连接网络特有的形式。</p>
<p>第四，NAT违反了最基本的协议分层规则：第k层不应该对第k+1层在本层的有效载荷字段中放什么作任何假设</p>
<p>第五，Internet上的进程并不一定必须使用TCP或者UDP</p>
<p>第六，有些应用以规定的方式使用多个TCP/IP连接或者UDP端口。例如，标准的文件传输协议(FTP, File Transfer Protocol)在数据包正文插入IP地址，接收方正文中提取出这些地址，并使用它们。由于NAT对这些地址安排一无所知，它不可能重写这些IP地址，或者说明情况。</p>
<p>最后，由于 TCP Source port字段16位长，所以，至多只有65536台机器可以被映射到同一个IP地址上。</p>
<p>NAT表项分为静态和动态。</p>
<p>动态会删除已经关闭或者长久没用的NAT表项。</p>
<p><strong>NAT的映射表保存在路由器里。如果内网的路由器寄了那就寄了。收不了应答报文，因为找不到人。</strong></p>
<h2 id="5-6-3-IPv6"><a href="#5-6-3-IPv6" class="headerlink" title="5.6.3 IPv6"></a>5.6.3 IPv6</h2><p><img src="https://api2.mubu.com/v3/document_image/d50f475f-8cfd-41eb-b423-b7c53d39b354-14970684.jpg" alt="55.png"><br><img src="https://api2.mubu.com/v3/document_image/ace37752-6b64-4609-bd72-cc78c9f666b4-14970684.jpg" alt="55.png"></p>
<p><strong>IHL字段没有了</strong>，因为IPv6头有固定的长度。协议(Protocol)字段也被拿掉了，因为下一个头(Next header)字段指明了最后的P头后面跟的是什么(比如UDP或者TCP段)。</p>
<p><strong>所有与分段有关的字段都被去掉了</strong>，因为IPv6采用了另一种方法来实现分段。当主机发送了一个非常大的IPv6数据包时，如果路由器不能转发这么大的数据包，它并不对该数据包进行分段，而是向发送主机返回一条报错消息。</p>
<p><strong>校验和(Checksum)字段也被去掉了</strong>，因为计算校验和会极大地降低性能。</p>
<p><strong>区分服务</strong>(Differentiated services，最初称为流量类别)字段的用途主要是区分数据包的服务类别，这些数据包具有不同的实时传递需求。它主要被用在服务质量的区分服务体系中，使用方式与IPv4数据包的同名字段一样。此外，最低2位用来发送显式拥塞指示也与IPv4的方式相同。</p>
<p>**流标签(Flow label)**字段为源端和接收方提供了一种建立伪连接的方式，即源端和接收方把一组具有同样需求并希望得到网络同等对待的数据包打上标记</p>
<p>**有效载荷长度(Payload length)**字段指明了紧跟在图5-56中40个字节头之后还有多少字节数。</p>
<p><strong>IPv6头得以简化的原因在于它可以有额外的(可选)扩展头。</strong>该字段指明了当前头之后还有哪种扩展头(当前已经定义了6种扩展头)，如果有的话。如果当前的头是最后一个IP头，那么下一个头字段指定了该数据包将被传递给哪个传输协议处理(比如TCP、UDP)。</p>
<p><img src="https://api2.mubu.com/v3/document_image/c3b22fd9-5d50-426a-912a-9e1b77fa22c7-14970684.jpg" alt="55.png"></p>
<p><strong>跳数限制(Hop limit)</strong><br>实际上，它与IPv4 中的TTL(Time to live)字段是一样的，也就是说，在每一跳上该字段中的值都要被路由器递减。</p>
<p>IPv6地址<br>16个字节被分成8组来书写，每一组4个十六进制数字，组之间用冒号隔开<br><img src="https://api2.mubu.com/v3/document_image/ca351b0e-bcda-4f9f-a53b-a959ef327e3d-14970684.jpg" alt="55.png"></p>
<h2 id="5-6-4-Internet控制协议"><a href="#5-6-4-Internet控制协议" class="headerlink" title="5.6.4 Internet控制协议"></a>5.6.4 Internet控制协议</h2><h3 id="ICMP"><a href="#ICMP" class="headerlink" title="ICMP"></a>ICMP</h3><p>ICMP被封装在一个IP数据包中。</p>
<p>ICMP分两类，即ICMP差错报文和ICMP询问报文。</p>
<p><img src="https://api2.mubu.com/v3/document_image/acb61405-c202-477a-9ea3-fb00f24223b4-14970684.jpg" alt="55.png"><br><img src="https://api2.mubu.com/v3/document_image/d702838a-34ec-4f8a-8adf-ff4387c5036d-14970684.jpg" alt="55.png"></p>
<p>ICMP的校验和对整个ICMP报文进行校验。和IP报文不同。</p>
<ul>
<li>ICMP的应用<ul>
<li>traceroute。</li>
<li>主机分片</li>
<li>目的不可达</li>
<li>路由重定向</li>
</ul>
</li>
</ul>
<h3 id="ARP"><a href="#ARP" class="headerlink" title="ARP"></a>ARP</h3><p>用来通过IP地址获取MAC地址。</p>
<p><img src="https://api2.mubu.com/v3/document_image/da50882c-429a-4759-aa25-1d8304ba2bab-14970684.jpg" alt="55.png"></p>
<ul>
<li><p>ARP缓存</p>
<ul>
<li>包含了已经ARP得到的内容。同时ARP缓存中的表项要在超时后丢弃。</li>
</ul>
</li>
<li><p>免费ARP</p>
<ul>
<li>主机把自己的地址配置完了，就广播个地址映射去找有没有和自己地址重合了的。如果没应答就ok，有应答就说明多个主机被分配了一个IP地址。</li>
</ul>
</li>
<li><p>直接交付和间接交付</p>
<ul>
<li>如果主机想知道其他网络里主机的地址，那就把ARP丢给默认网关，也就是默认路由器。路由器就把请求给IP软件，IP软件再去丢到对应网络里开查。这就是间接交付。</li>
</ul>
</li>
<li><p>ARP代理。一个网络上的主机发数据包给另一个网络上的主机，就会用到ARP代理。</p>
</li>
</ul>
<h3 id="DHCP"><a href="#DHCP" class="headerlink" title="DHCP"></a>DHCP</h3><p>四个阶段。</p>
<ul>
<li><p>客户端发申请</p>
</li>
<li><p>DHCP服务器回一个IP地址</p>
</li>
<li><p>客户端给个offer要求拥有这个IP地址</p>
</li>
<li><p>DHCP服务器给个确认报文</p>
</li>
<li><p>DHCP中继。DHCP服务器和客户端不在一个网络上，这个时候就要过中继。</p>
</li>
</ul>
<h2 id="OSPF内部网关协议"><a href="#OSPF内部网关协议" class="headerlink" title="OSPF内部网关协议"></a>OSPF内部网关协议</h2><h2 id="BGP外部网关协议"><a href="#BGP外部网关协议" class="headerlink" title="BGP外部网关协议"></a>BGP外部网关协议</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://mushroom323.github.io/2022/05/29/jiwang_5/" data-id="cl65b7xfg000y5ktb2ex3cmbv" class="article-share-link">
        Share
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%A1%E7%BD%91/" rel="tag">计网</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-jiwang_4" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      

<h2 itemprop="name">
  <a class="article-title" href="/2022/04/25/jiwang_4/">计网介质访问控制子层</a>
</h2>



    </header>
    

    
    <div class="article-meta">
      <a href="/2022/04/25/jiwang_4/" class="article-date">
  <time datetime="2022-04-25T14:59:13.000Z" itemprop="datePublished">2022-04-25</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
      <p>这章我怎么感觉两周就讲完了。</p>
<p>内容有这么少吗，我咋啥都没听懂。</p>
<h1 id="HIGH-LIGHTS"><a href="#HIGH-LIGHTS" class="headerlink" title="HIGH LIGHTS"></a>HIGH LIGHTS</h1><p>ppt第一页划了重点。</p>
<ul>
<li><strong>Channel allocation algorithms</strong>。信道分配算法。<ul>
<li>Contention（竞争算法）： ALOHA,S-ALOHA,CSMA,CSMA/CD</li>
<li>Collision-Free Protocols（无竞争协议）：Token （书上不止这个但是只有这个要考。其他俩只做了解</li>
</ul>
</li>
<li><strong>LAN</strong>。局域网<ul>
<li>IEEE802.3, HIGH-SPEED LANS (802.3u)</li>
<li>Gigabit Ethernet(802.3z)</li>
<li>IEEE802.11(WLAN)  </li>
<li>LLC(802.2)</li>
</ul>
</li>
<li><strong>BRIDGE</strong></li>
<li><strong>REPEATER,HUB, BRIDGE,SWITCH,ROUTER</strong> （中继器、集线器、桥梁、交换机、路由器</li>
<li><strong>VLAN</strong>。虚拟局域网。</li>
</ul>
<h1 id="4-1-信道分配问题"><a href="#4-1-信道分配问题" class="headerlink" title="4.1 信道分配问题"></a>4.1 信道分配问题</h1><p>分两种，静态划分和动态划分</p>
<h2 id="4-1-1-静态划分信道"><a href="#4-1-1-静态划分信道" class="headerlink" title="4.1.1 静态划分信道"></a>4.1.1 静态划分信道</h2><p><strong>M/M/1 System</strong></p>
<p>懒得打表达式了直接放图。</p>
<p><img src="https://api2.mubu.com/v3/document_image/f3907eb4-e811-4742-a6fa-0dc94689c4d1-14970684.jpg" alt="55.png"></p>
<ul>
<li>在时间T内到达的帧数K满足泊松分布，如图中左式。</li>
<li><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.027ex" xmlns="http://www.w3.org/2000/svg" width="1.319ex" height="1.597ex" role="img" focusable="false" viewBox="0 -694 583 706"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D706" d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z"></path></g></g></g></svg></mjx-container>:表示到达的平均速率，单位frams/sec</li>
<li><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -1.126ex" xmlns="http://www.w3.org/2000/svg" width="1.96ex" height="3.083ex" role="img" focusable="false" viewBox="0 -864.9 866.4 1362.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(256.4,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><path data-c="1D707" d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z"></path></g><rect width="626.4" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container>：表示帧长，单位bits/frame</li>
<li>C:数据发送速率，信道容量（bits/sec），服务速率即为 μC frames/sec</li>
<li><strong>标准排队理论的结论：</strong>发送一帧的平均时延 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -1.126ex" xmlns="http://www.w3.org/2000/svg" width="9.963ex" height="3.083ex" role="img" focusable="false" viewBox="0 -864.9 4403.7 1362.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mo" transform="translate(981.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mfrac" transform="translate(2037.6,0)"><g data-mml-node="mn" transform="translate(1006.3,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mrow" transform="translate(220,-345) scale(0.707)"><g data-mml-node="mi"><path data-c="1D707" d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z"></path></g><g data-mml-node="mi" transform="translate(603,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="mo" transform="translate(1363,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(2141,0)"><path data-c="1D706" d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z"></path></g></g><rect width="2126.2" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container><blockquote>
<p>没说怎么证</p>
</blockquote>
</li>
</ul>
<p>将单个信道分成N个独立的子信道，每个子信道的容量为C/N bps。现在，每个子信道的平均到达率变成N。重新计算T，我们得到：<br><img src="https://api2.mubu.com/v3/document_image/ba171bd6-7c7a-44cb-8cea-b49af028c66b-14970684.jpg" alt="55.png"><br>如果所有帧都能很神奇地排在一个大的中心队列，那么划分信道后单个信道的平均延迟比不分的情况差N倍。</p>
<p>也就是信道越多平均延迟越大。</p>
<h2 id="4-2-2-动态划分信道"><a href="#4-2-2-动态划分信道" class="headerlink" title="4.2.2 动态划分信道"></a>4.2.2 动态划分信道</h2><ul>
<li><p>Controlled multiple access 。 受控多路访问</p>
<ul>
<li>竞争： poolling</li>
<li>不竞争： token</li>
</ul>
</li>
<li><p>Random multiple access 。 随机多路访问</p>
<ul>
<li>ALOHA</li>
<li> CSMA, CSMA/CD, CSMA/CA</li>
</ul>
</li>
<li><p>动态信道划分的五个关键假设：</p>
<ul>
<li>流量独立(independent traffic)。该模型是由N个独立的站(比如计算机、电话)组成的，每个站都有一个程序或者用户产生要传输的帧。在长度为Δt的间隔内，期望产生的帧数是Δt，这里为常数(新帧的到达率)。</li>
<li>单信道(Single Channel)。所有的通信都用这一个信道</li>
<li>冲突可观察(observable Collision)。如果两帧同时传输，则它们在时间上就重叠，由此产生的信号是混乱的，这种情况称为冲突(collision)。所有的站都能够检测到冲突事件的发生。冲突的帧必须在以后再次被发送。除了因冲突而产生错误外，不会再有其他的错误</li>
<li>时间连续或分槽(Continuous or slotted time)。时间可以假设是连续的，即在任何时刻都可以开始传输帧。另一种选择是把时间分槽或者分成离散的间隔(称为时间槽)。帧的传输只能从某个时间槽的起始点开始</li>
<li>载波侦听或不听(Carrier Sense or no carrier sense)。有了载波侦听的假设，一个站在试图用信道之前就能知道该信道当前是否正被使用。如果没有载波侦听，站就无法在使用信道之前侦听信道，它们只能盲目地传输，以后再判断这次传输是否成功</li>
</ul>
</li>
</ul>
<h1 id="4-2-多路访问协议"><a href="#4-2-多路访问协议" class="headerlink" title="4.2 多路访问协议"></a>4.2 多路访问协议</h1><h2 id="4-2-1-ALOHA"><a href="#4-2-1-ALOHA" class="headerlink" title="4.2.1 ALOHA"></a>4.2.1 ALOHA</h2><ul>
<li><p>ALOHA的基本思想</p>
<ul>
<li><p>ALOHA系统的基本思想非常简单：当用户有数据需要发送时就传输。当然，这样做可能会产生冲突，冲突的帧将被损坏。发送方需要某种途径来发现是否发生了冲突。在ALOHA系统中，每个站在给中央计算机发送帧之后，该计算机把该帧重新广播给所有站。</p>
</li>
<li><p>如果帧被损坏了，则发送方要等待一段随机时间，然后再次发送该帧。</p>
</li>
<li><p> 我们使所有的帧具有同样的长度， 因为对于ALOHA系统，采用统一长度的帧比长度可变的帧更能达到最大的吞吐量。</p>
</li>
</ul>
</li>
<li><p>竞争(contention)</p>
<ul>
<li>如果系统中多个用户共享同一个信道的方法会导致冲突，则这样的系统称为竞争(contention) 系统。</li>
</ul>
</li>
</ul>
<h3 id="PURE-ALOHA"><a href="#PURE-ALOHA" class="headerlink" title="PURE ALOHA"></a>PURE ALOHA</h3><p>一眼纯真。</p>
<p>纯ALOHA里，帧完全随机传输。<br><img src="https://api2.mubu.com/v3/document_image/909a40a4-0bb8-4cc3-b31d-32cc847f772f-14970684.jpg" alt="55.png"></p>
<p>冲突危险期是 2T，因为他前面的那段时间T也不能有，否则部分冲突。看图：<br><img src="https://api2.mubu.com/v3/document_image/fbc8a1a7-9c9e-4654-b3aa-63c4308c7ed5-14970684.jpg" alt="55.png"></p>
<p><img src="https://api2.mubu.com/v3/document_image/da54bc8e-40ce-4cbe-8d0e-0f138310f6d5-14970684.jpg" alt="55.png"></p>
<p><strong>纯ALOHA效率分析</strong>：<br><img src="https://api2.mubu.com/v3/document_image/573c5edb-c567-4c96-8324-7a13a1d14bae-14970684.jpg" alt="55.png"><br>发送成功概率是 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.375ex" xmlns="http://www.w3.org/2000/svg" width="10.001ex" height="2.324ex" role="img" focusable="false" viewBox="0 -861.5 4420.6 1027.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mn" transform="translate(675,-150) scale(0.707)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g><g data-mml-node="mo" transform="translate(1356.3,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msup" transform="translate(2412.1,0)"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="TeXAtom" transform="translate(499,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(778,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(1278,0)"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path></g></g></g></g></g></svg></mjx-container></p>
<p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.375ex" xmlns="http://www.w3.org/2000/svg" width="20.8ex" height="2.324ex" role="img" focusable="false" viewBox="0 -861.5 9193.6 1027.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mo" transform="translate(922.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1978.6,0)"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path></g><g data-mml-node="mo" transform="translate(2986.8,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="msub" transform="translate(3987,0)"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mn" transform="translate(675,-150) scale(0.707)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g><g data-mml-node="mo" transform="translate(5343.3,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(6399.1,0)"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path></g><g data-mml-node="msup" transform="translate(7185.1,0)"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="TeXAtom" transform="translate(499,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(778,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(1278,0)"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path></g></g></g></g></g></svg></mjx-container></p>
<p>G = 0.5是S最大为18.4%<br><img src="https://api2.mubu.com/v3/document_image/63228293-4945-4fae-95ab-e90510ea24ff-14970684.jpg" alt="55.png"></p>
<h3 id="SLOT-ALOHA"><a href="#SLOT-ALOHA" class="headerlink" title="SLOT ALOHA"></a>SLOT ALOHA</h3><p>分槽。</p>
<ul>
<li>基本思想：<ul>
<li>将时间分成离散的间隔，每个间隔对应一帧，每个站点只能在时隙i开始时才允许发送（冲突只发生在时隙开始的时候），所以每个用户必须知道槽边界(同步)。其他的跟纯ALOHA一样<br>冲突危险期是T</li>
</ul>
</li>
<li>效率分析：<ul>
<li><img src="https://api2.mubu.com/v3/document_image/5af3b9d3-e12d-47dd-86ad-d4401a76fc92-14970684.jpg" alt="55.png"></li>
<li>每帧的传输次数期望E：<br><img src="https://api2.mubu.com/v3/document_image/dd8d8f32-9e8b-4721-a0fa-375a12d7cd5d-14970684.jpg" alt="55.png"><br>所以，E随G呈指数增长的。结果是信道负载的微小增长也会极大地降低信道的性能。</li>
</ul>
</li>
</ul>
<h2 id="4-2-2-载波侦听多路访问协议"><a href="#4-2-2-载波侦听多路访问协议" class="headerlink" title="4.2.2 载波侦听多路访问协议"></a>4.2.2 载波侦听多路访问协议</h2><p><strong>单通道的CSMA/CD本质上是一种半双工系统</strong></p>
<ul>
<li>站点在发送之前监听载波。</li>
<li>分类<ul>
<li>1-persistent CSMA</li>
<li>Nonpersistent CSMA</li>
<li>P-persistent CSMA (slotted channel)</li>
</ul>
</li>
</ul>
<h3 id="CSMA-Collision-Reasons"><a href="#CSMA-Collision-Reasons" class="headerlink" title="CSMA Collision Reasons"></a>CSMA Collision Reasons</h3><p>一点很关键但放在这里莫名其妙的知识。</p>
<p>ppt神秘莫测。</p>
<p>CAMA/CD有三个状态：竞争，传输，或者空闲。</p>
<p>给个1-p协议的例子方便理解，AB都是检测到空闲就开始发送：<br><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.029ex" xmlns="http://www.w3.org/2000/svg" width="1.17ex" height="1.005ex" role="img" focusable="false" viewBox="0 -431 517 444"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D70F" d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z"></path></g></g></g></svg></mjx-container>是从信道最左边到信道最右边需要的传输时间。<br><img src="https://api2.mubu.com/v3/document_image/490cbd03-ac80-4620-b5ea-15e785e77746-14970684.jpg" alt="55.png"><br>这里考虑的是最极限的情况，A的帧传输到B门口，B才开始发帧，这时离A发送过了<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.029ex" xmlns="http://www.w3.org/2000/svg" width="1.17ex" height="1.005ex" role="img" focusable="false" viewBox="0 -431 517 444"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D70F" d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z"></path></g></g></g></svg></mjx-container>。<br>然后碰撞信息从B门口回到A门口有又需要<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.029ex" xmlns="http://www.w3.org/2000/svg" width="1.17ex" height="1.005ex" role="img" focusable="false" viewBox="0 -431 517 444"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D70F" d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z"></path></g></g></g></svg></mjx-container>。<br>所以说竞争时间 = <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.029ex" xmlns="http://www.w3.org/2000/svg" width="2.301ex" height="1.536ex" role="img" focusable="false" viewBox="0 -666 1017 679"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D70F" d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z"></path></g></g></g></svg></mjx-container>，如果<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.029ex" xmlns="http://www.w3.org/2000/svg" width="2.301ex" height="1.536ex" role="img" focusable="false" viewBox="0 -666 1017 679"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D70F" d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z"></path></g></g></g></svg></mjx-container>内发送方都没有检测到碰撞信息，那就说明真没碰撞，发送成功了。</p>
<h3 id="1-persistent-CSMA（1-坚持载波检测多路访问"><a href="#1-persistent-CSMA（1-坚持载波检测多路访问" class="headerlink" title="1-persistent CSMA（1-坚持载波检测多路访问"></a>1-persistent CSMA（1-坚持载波检测多路访问</h3><p>当一个站有数据要发送时，它首先侦听信道，确定当时是否有其他站正在传输数据；如果信道空闲，它就发送数据。否则，如果信道忙，该站等待直至信道变成空闲；然后，站发送一帧。如果发生冲突，该站等待段随机的时间，然后再从头开始上述过程。<strong>这样的协议之所以称为1-坚持，是因为当站发现信道空闲时，它传输数据的概率为1。</strong></p>
<p><strong>低延迟，低吞吐率</strong></p>
<blockquote>
<p>低延迟是因为信道空闲就开始发送，低吞吐率（平均时间内成功发送的帧数）是因为经常冲突，经常重发。</p>
</blockquote>
<h3 id="Nonpersistent-CSMA（非坚持"><a href="#Nonpersistent-CSMA（非坚持" class="headerlink" title="Nonpersistent CSMA（非坚持"></a>Nonpersistent CSMA（非坚持</h3><p>站在发送数据之前要先侦听信道。如果没有其他站在发送数据，则该站自己开始发送数据。然而，如果信道当前正在使用中，<strong>则该站并不持续对信道进行监听，以便传输结朿后立即抓住机会发送数据。相反，它会等待一段随机时间，然后重复上述算法。</strong>因此，该算法将会导致更好的信道利用率，但是比起1-坚持CSMA，也带来了更大的延迟</p>
<p><strong>高延迟，高负载时高吞吐率</strong></p>
<blockquote>
<p>高延迟是因为帧准备好了还得等一段随机事件，高负载高吞吐是因为随机事件后两个帧很难碰到一起，发送成功率高。</p>
</blockquote>
<h3 id="P-persistent-CSMA-（P坚持"><a href="#P-persistent-CSMA-（P坚持" class="headerlink" title="P-persistent CSMA （P坚持"></a>P-persistent CSMA （P坚持</h3><p>它适用于分时间槽的信道，其工作方式如下所述。当一个站准备好要发送的数据时，它就侦听信道。<strong>如果信道是空闲的， 则它按照概率p发送数据；而以概率q=1-p，将此次发送推迟到下一个时间槽。</strong>如果下个时间槽信道也是空闲的，则它还是以概率p发送数据，或者以概率q再次推迟发送。</p>
<p>看个比较图<br><img src="https://api2.mubu.com/v3/document_image/2baa6526-1db5-43e9-a4de-2d1a3b2ec39c-14970684.jpg" alt="55.png"></p>
<h2 id="4-2-3-无冲突协议"><a href="#4-2-3-无冲突协议" class="headerlink" title="4.2.3 无冲突协议"></a>4.2.3 无冲突协议</h2><h3 id="Token-Ring-令牌环"><a href="#Token-Ring-令牌环" class="headerlink" title="Token Ring 令牌环"></a>Token Ring 令牌环</h3><p><strong>就是个令牌，谁拿到谁发数据。要找个站点记得把令牌取下来，不然就一直转。</strong></p>
<p>通过传递一个称为令牌(token)的短消息，该令牌同样也是以预定义的顺序从一个站传到下一个站。令牌代表了发送权限。如果站有个等待传输的帧队列，当它接收到令牌就可以发送帧，然后再把令牌传递到下一站。如果它没有排队的帧要传，则它只是简单地把令牌传递下去。</p>
<p>帧也按令牌方向传输。这样，它们将绕着环循环，到达任何一个目标站。然而，为了阻止帧陷入无限循环(像令牌一样)，一些站必须将它们从环上取下来。这个站或许是最初发送帧的原始站，在帧经历了一个完整的环游后将它取下来，或者是帧的指定接收站。</p>
<p>发送帧后，每个站必须等待所有N个站(包括其自身)把令牌发给各自的邻居，以及其他N-1个站发送完一帧(如果它们有帧需要发送)</p>
<p><strong>并不需要一个物理环来实现令牌传递</strong></p>
<p><img src="https://api2.mubu.com/v3/document_image/a51945d1-d44b-4422-869b-c1ebf41b19d3-14970684.jpg" alt="55.png"></p>
<h2 id="4-2-4-Limited-Contention-Protocols-有限竞争协议"><a href="#4-2-4-Limited-Contention-Protocols-有限竞争协议" class="headerlink" title="4.2.4 Limited-Contention Protocols 有限竞争协议"></a>4.2.4 Limited-Contention Protocols 有限竞争协议</h2><p>在负载较轻的情况下，竞争方法(即纯ALOHA或者分槽ALOHA)更为理想，因为它的延迟较短(冲突很少发生)。随着负载的增加，竞争方法变得越来越缺乏吸引力，因为信道仲裁所需要的开销变得越来越大。而对于无冲突协议，则结论刚好相反。在低负载情况下，它们有相对高的延迟，但是随着负载的增加，信道的效率反而得到提高(因为开销是固定的)。</p>
<blockquote>
<p>低负载竞争好使，高负载无竞争好使。</p>
</blockquote>
<p>有限竞争协议(limited-contention protocol)<br>只要减少参与竟争的站数量，则站获得信道的概率就会增加。有限竟争协议正是这样做的。它们首先将所有的站划分成组(这些组不必是两两不相交的)。有0号组的成员才允许竞争0号时间槽。如果该组中的一个成员竞争成功了，则它获得信道，可以传送它的帧。如果该时间槽是空闲的，或者发生了冲突，则1号组的成员竞争1号时间槽，以此类推。</p>
<blockquote>
<p>组内用的是无竞争，比如token</p>
</blockquote>
<p>当负载很低时，每个时间槽中的站点数量就多一些；当负载很高时，每个时间槽中的站点数量就少ー些，甚至只有一个站。</p>
<blockquote>
<p>负载越高越往无竞争靠</p>
</blockquote>
<h2 id="4-2-5-无线局域网协议"><a href="#4-2-5-无线局域网协议" class="headerlink" title="4.2.5 无线局域网协议"></a>4.2.5 无线局域网协议</h2><ul>
<li>传播范围假设：<ul>
<li>简化的假设：即每个无线电发射器有某个固定的传播范围，用一个圆形覆盖区域表示</li>
</ul>
</li>
</ul>
<p><img src="https://api2.mubu.com/v3/document_image/5578f2f4-2bb4-4129-add9-b2d6f98a811c-14970684.jpg" alt="55.png"></p>
<ul>
<li>隐藏终端问题(hidden station problem)<ul>
<li>因为冲突将导致带宽的浪费。由于竞争者离得太远而导致站无法检测到潜在的竞争者，这个问题称为隐藏终端问题(hidden station problem)<blockquote>
<p>图（a）</p>
</blockquote>
</li>
</ul>
</li>
<li>暴露终端问题(exposed station problem)<ul>
<li>C所听到的传输只会搞坏B和C之间区域中的接收，但是，两个接收方都不在这个危险区域<blockquote>
<p>图（b）。</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<p>俩问题综合一下就是： CSMA没法用了。</p>
<p>那咋办呢，整点新活呗。</p>
<h3 id="MACA-冲突避免多路访问"><a href="#MACA-冲突避免多路访问" class="headerlink" title="MACA 冲突避免多路访问"></a>MACA 冲突避免多路访问</h3><p>反正检测不了冲突，那就干脆避免了拉倒。</p>
<p>好活。</p>
<p><strong>MACA的基本思想是发送方刺激接收方输出一个短帧，以便其附近的站能检测到该次传输，从而避免在接下去进行的(较大)数据帧传输中也发送数据。</strong>这项技术被用来替代载波侦听。</p>
<p><strong>A首先给B发送个RTS(Request To Send)帧</strong>，如图4-12(a)所示。这个短帧(30字节)包含了随后将要发送的数据帧的长度；然后，<strong>B用一个CTS(Clear to Send)作为应答</strong>，如图4-12(b)所示。此CTS帧也包含了数据长度(从RTS帧中复制过来)。A在收到了CTS帧之后便开始传输。</p>
<p>如果一个站听到了RTS帧，那么它一定离A很近，它必须保持沉默，至少等待足够长的时间以便在无冲突情况下CTS被返回给A。如果一个站听到了CTS，则它一定离B很近，在接下来的数据传送过程中它必须一直保持沉默，只要检査CTS帧，该站就可以知道数据帧的长度(即数据传输要持续多久)。</p>
<p>在图4-12中，C落在A的范围内，但不在B的范围内。因此，它听到了A发出的RTS，但是没有听到B发出的CTS。<strong>只要它没有干扰CTS，那么在数据帧传送过程中，它可以自由地发送任何信息。</strong>相反，D落在B的范围内，但不在A的范围内。它听不到RTS帧，但是听到了CTS帧。只要听到了CTS帧，这意味着它与个将要接收数据帧的站离得很近；<strong>所以，它就延缓发送任何信息直到那个帧如期传送完毕。</strong>站E听到了这两条控制消息，与D一样在数据帧完成之前它必须保持安静。</p>
<blockquote>
<p>总结一下就是听到RTS的沉默一段时间，听到CTS或者都听到的一直沉默。</p>
</blockquote>
<p><img src="https://api2.mubu.com/v3/document_image/558f2e45-1f2d-438f-8af6-1d3020defb0d-14970684.jpg" alt="55.png"></p>
<h1 id="4-3-以太网"><a href="#4-3-以太网" class="headerlink" title="4.3 以太网"></a>4.3 以太网</h1><p>不知道咋学，不知道咋考。</p>
<h2 id="Ethernet-Cabling-以太网电缆"><a href="#Ethernet-Cabling-以太网电缆" class="headerlink" title="Ethernet Cabling 以太网电缆"></a>Ethernet Cabling 以太网电缆</h2><p>以太网电缆有三种：</p>
<ul>
<li>10Base5 粗同轴电缆</li>
<li>10Base2 细同轴电缆</li>
<li>10Base-T 双绞线</li>
</ul>
<p><img src="https://api2.mubu.com/v3/document_image/8e1754a2-bb6d-4bd7-9030-35c64bf154a5-14970684.jpg" alt="55.png"></p>
<h3 id="10Base5-Thick-Ethernet"><a href="#10Base5-Thick-Ethernet" class="headerlink" title="10Base5: Thick Ethernet"></a>10Base5: Thick Ethernet</h3><p>有些懒得翻译。直接放ppt原文。</p>
<ul>
<li><p>cable 电缆</p>
<ul>
<li>Φ10,  Coax, 500m</li>
<li>Connections to it are generally made using vampire taps, in which a pin is very carefully forced halfway into the coaxial cable’s core </li>
</ul>
</li>
<li><p>Transceiver cable 收发器电缆</p>
<ul>
<li>将收发器连接到计算机的接口板</li>
<li>五十米长以上</li>
<li>包含五对互相屏蔽的双绞线<ul>
<li>两对用于输入输出</li>
<li>两对用于控制信息的输入输出</li>
<li>第五对不经常使用，它允许计算机为收发电子设备供电</li>
</ul>
</li>
</ul>
</li>
<li><p>Interface board 接口板</p>
<ul>
<li>传输和接收帧，将数据组装成适当的帧格式，处理校验和</li>
<li>为传入的帧管理一个缓冲池，一个要传输的缓冲队列，直接与主机进行内存传输</li>
</ul>
</li>
<li><p>Transceiver  收发器</p>
<ul>
<li>处理载波检测和碰撞检测</li>
<li>对于碰撞，在电缆上放置一个特殊的无效信号，以确保所有其他收发器也意识到已经发生了碰撞</li>
</ul>
</li>
</ul>
<h3 id="10Base2-Thin-Ethernet"><a href="#10Base2-Thin-Ethernet" class="headerlink" title="10Base2: Thin Ethernet"></a>10Base2: Thin Ethernet</h3><p>三行结束。排场比粗缆逊多了</p>
<ul>
<li>Cable: Φ5,  Coax, 185m</li>
<li>BNC T-junction connector</li>
<li>收发器电子器件在控制板上</li>
</ul>
<h3 id="10BaseT"><a href="#10BaseT" class="headerlink" title="10BaseT"></a>10BaseT</h3><p>排场略大于细缆。</p>
<p>ppt蛮多中文，直接放了</p>
<p><img src="https://api2.mubu.com/v3/document_image/b2ee4442-c2de-4ca1-ac01-e728f22c9dc0-14970684.jpg" alt="55.png"></p>
<ul>
<li><p><strong>使用集线器（Hub）来扩大局域网</strong></p>
</li>
<li><p>以太网拓扑结构</p>
<ul>
<li>线性</li>
<li>Spine（脊椎形？</li>
<li>树形</li>
<li>分段式</li>
</ul>
</li>
</ul>
<h2 id="Manchester-Encoding-曼彻斯特编码"><a href="#Manchester-Encoding-曼彻斯特编码" class="headerlink" title="Manchester Encoding 曼彻斯特编码"></a>Manchester Encoding 曼彻斯特编码</h2><p>非差分：中间变一下用来对时。起始是高就是1，低就是0<br>差分： 中间变一下对时，起始没跳变就是1，否则是0<br><img src="https://api2.mubu.com/v3/document_image/02f3141f-f3d3-4a33-9392-c50767132d6b-14970684.jpg" alt="55.png"></p>
<p><strong>曼彻斯特编码2Baud表示一位信息，所以波特率是比特率的两倍</strong></p>
<h2 id="4-3-2-以太网的MAC子层协议"><a href="#4-3-2-以太网的MAC子层协议" class="headerlink" title="4.3.2 以太网的MAC子层协议"></a>4.3.2 以太网的MAC子层协议</h2><p>MAC格式</p>
<p><img src="https://api2.mubu.com/v3/document_image/d8687f81-54b0-49d0-b892-1eebd7d6b40e-14970684.jpg" alt="55.png"></p>
<ul>
<li><p>目标地址</p>
<ul>
<li><strong>如果传输出去的目标地址第一位是0，则表示这是一个普通地址；如果是1，则表示这是一个组地址。</strong>组地址允许多个站同时监听一个地址。当某个帧被发送到一个组地址， 该组中的所有站都要接收它。往一组地址的发送行为称为组播(multicasting)。**由全1组成的特殊地址保留用作广播(broadcasting)**。如果一个帧的目标地址字段为全1，则它被网络上的所有站接收。</li>
</ul>
</li>
<li><p>MAC地址</p>
<ul>
<li>站的源地址有一个有趣的特点，那就是它们具有全球唯一性。</li>
<li>地址字段的前3个字节用作该站所在的组织唯一标识符(OUI, Organizationally Unique Identifier)。该字段的值由IEEE分配，指明了网络设备制造商。</li>
<li>地址字段的最后3个字节由制造商负责分配，并在设备出厂之前把完整的地址用程序编入NIC（网卡</li>
</ul>
</li>
<li><p><strong>数据字段和长度范围</strong></p>
<ul>
<li>接下来是数据(Data)字段，<strong>（Data）最多可包含1500个字节。总帧长度最多1518字节。</strong></li>
<li>以太网要求有效帧必须至少64字节长，从目标地址算起直到校验和，包括这两个字段本身在内。如果帧的数据部分少于46个字节，则使用填充(Pad)字段来填充该帧，使其达到最小长度要求<blockquote>
<p><strong>也就是说不包含pad的时候，数据部分最少46个字节</strong><br>要求最少是因为竞争时间(<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.029ex" xmlns="http://www.w3.org/2000/svg" width="2.301ex" height="1.536ex" role="img" focusable="false" viewBox="0 -666 1017 679"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D70F" d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z"></path></g></g></g></svg></mjx-container>)的问题。要是在竞争时间结束前发完，就不能确定有没有冲突。</p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>Binary Exponential Backoff Algorithm 二进制指数回退算法</strong></p>
<ul>
<li>一般地，在第i次冲突之后，从<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="8.064ex" height="1.937ex" role="img" focusable="false" viewBox="0 -833.9 3564.2 855.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(777.8,0)"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z"></path></g><g data-mml-node="msup" transform="translate(1833.6,0)"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="TeXAtom" transform="translate(533,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(345,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(1123,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></g></svg></mjx-container>之间随机选择一个数，然后等待这么多个时间槽。然而，<strong>达到10次冲突之后，随机数的选择区间被固定在最大值1023，以后不再增加。在16次冲突之后，控制器放弃努力，并给计算机返回一个失败报告。</strong></li>
</ul>
</li>
<li><p><strong>无效的MAC帧</strong></p>
<ul>
<li><img src="https://api2.mubu.com/v3/document_image/9f9504c8-ce5d-4485-af9e-23caacfa3c00-14970684.jpg" alt="55.png"></li>
</ul>
</li>
</ul>
<h2 id="4-3-3-以太网性能"><a href="#4-3-3-以太网性能" class="headerlink" title="4.3.3 以太网性能"></a>4.3.3 以太网性能</h2><p><img src="https://api2.mubu.com/v3/document_image/6634acdb-6410-4f12-b698-3c34c682f61a-14970684.jpg" alt="55.png"><br>上面这张纯证明，可看可不看。<br>下面这张要记住。<br><img src="https://api2.mubu.com/v3/document_image/7fcecb6f-028a-4b01-ac89-45c1ac0e2493-14970684.jpg" alt="55.png"><br>ppt上只有结论：<br><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -2.172ex" xmlns="http://www.w3.org/2000/svg" width="25.303ex" height="5.208ex" role="img" focusable="false" viewBox="0 -1342 11184 2302"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">信</text></g><g data-mml-node="mi" transform="translate(900,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">道</text></g><g data-mml-node="mi" transform="translate(1800,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">效</text></g><g data-mml-node="mi" transform="translate(2700,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">率</text></g><g data-mml-node="mo" transform="translate(3877.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mfrac" transform="translate(4933.6,0)"><g data-mml-node="mn" transform="translate(2875.2,676)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mrow" transform="translate(220,-710)"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(1722.4,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(2222.4,0)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g><g data-mml-node="mi" transform="translate(2981.4,0)"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mi" transform="translate(3662.4,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(4128.4,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path></g></g><g data-mml-node="mi" transform="translate(4628.4,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g><g data-mml-node="mi" transform="translate(5061.4,0)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path></g></g><rect width="6010.4" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container><br><img src="https://api2.mubu.com/v3/document_image/b51c8e12-36f0-4518-b751-4b275dea431c-14970684.jpg" alt="55.png"></p>
<h2 id="4-3-交换式以太网"><a href="#4-3-交换式以太网" class="headerlink" title="4.3. 交换式以太网"></a>4.3. 交换式以太网</h2><ul>
<li>High-speed backplan 高速背板</li>
<li>Collision domain 冲突域<ul>
<li>由于每个冲突域只有一个站，碰撞是不可能的，性能得到了提高</li>
<li>在<strong>集线器中，所有站都位于同一个冲突域(collision domain)， 它们必须使用CSMA/CD算法来调度各自的传输。在交换机中，每个端口有自己独立的冲突域。</strong>通常情况下，电缆是全双工的，站和端口可以同时往电缆上发送帧，根本无须担心其他站或者端口。现在冲突不可能发生，因而CSMA/CD也就不需要了。然后，如果电缆是半双工的，则站和端口必须以通常的CSMA/CD方式竞争传输。</li>
</ul>
</li>
</ul>
<p>交换机的性能优于集线器有两方面的原因。首先，由于没有冲突，容量的使用更为有效。其次，也是更重要的，<strong>有了交换机可以同时发送多个帧(由不同的站发出)。</strong>这些帧到达交换机端口并穿过交换机背板输出到适当的端口</p>
<p>帧被发送到输出端口还有利于安全。大多数LAN接口都支持混杂模式(promiscuous mode)，这个模式下所有的帧都被发到每台计算机，而不只是那些它寻址的机器。每个连到集线器上的计算机能看到其他所有计算机之间的流量</p>
<p>有了交换机，流量只被转发到它的目的端口。</p>
<h2 id="4-3-5-快速以太网"><a href="#4-3-5-快速以太网" class="headerlink" title="4.3.5 快速以太网"></a>4.3.5 快速以太网</h2><p>802.3u，对802.3的改进和补充，具有向后兼容性</p>
<ul>
<li>改进<ul>
<li>保留原有帧格式，接口和过程规则不变</li>
<li>比特时间从100ns到10ns（10Mbps <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container> 100Mbps</li>
<li>电缆最大长度降低</li>
<li>统一使用双绞线或者光缆</li>
<li>自动协商机制：两个站对速率（10Mbps or 100Mbps）以及双工模式（全双或者半双）</li>
</ul>
</li>
</ul>
<h3 id="100Base-T4-3类双绞线"><a href="#100Base-T4-3类双绞线" class="headerlink" title="100Base-T4 3类双绞线"></a>100Base-T4 3类双绞线</h3><ul>
<li><p>使用25mhz的信号</p>
</li>
<li><p>需要4对双绞线(3类UTP)</p>
<ul>
<li>一对单向到集线器</li>
<li>一对从集线器单向过来</li>
<li>另外两对可切换到传输方向</li>
</ul>
</li>
<li><p>编码</p>
<ul>
<li>不使用曼彻斯特编码</li>
<li>在一个时钟周期内发送三元信号(8B/6T编码，即8个二进制位转换为6个三元电平信号)<ul>
<li>27个可能的符号，传输4位</li>
</ul>
</li>
<li>一对双绞线的比特率是33.3Mbps，3对就是100Mbps</li>
</ul>
</li>
</ul>
<h3 id="100Base-TX-5类双绞线"><a href="#100Base-TX-5类双绞线" class="headerlink" title="100Base-TX 5类双绞线"></a>100Base-TX 5类双绞线</h3><ul>
<li>信号采用时钟125MHz</li>
<li>需要2对双绞线(5类UTP)<ul>
<li>一对单向到集线器 用于发送</li>
<li>一对从集线器单向过来 用于接收</li>
<li>也就是全双工</li>
</ul>
</li>
<li>编码<ul>
<li>4B/5B（5个时钟周期发送4个比特）: 比特率：125 * 4/5 = 100Mbps</li>
</ul>
</li>
</ul>
<p><strong>100Base-FX 多模光纤</strong><br>    - 两根多模光纤，每个方向一根，实现全双工</p>
<h3 id="Interconnection-Devices-互连设备"><a href="#Interconnection-Devices-互连设备" class="headerlink" title="Interconnection Devices 互连设备"></a>Interconnection Devices 互连设备</h3><ul>
<li>集线器（半双工<ul>
<li>接入线逻辑连接，构成单个冲突域</li>
<li>所有标准规则（包括二进制指数回退算法都适用）。所以可以像经典以太网一样工作</li>
<li>集线器不允许使用多模光纤</li>
</ul>
</li>
<li>交换机<ul>
<li>传入的帧被缓冲并传递到目的地</li>
<li><strong>多模光纤（100Base-FX）对于碰撞算法来说过长</strong>，所以只能连到交换机（交换机没碰撞这回事</li>
</ul>
</li>
</ul>
<h2 id="4-3-6-Gigabit-Ethernet-千兆以太网"><a href="#4-3-6-Gigabit-Ethernet-千兆以太网" class="headerlink" title="4.3.6 Gigabit Ethernet 千兆以太网"></a>4.3.6 Gigabit Ethernet 千兆以太网</h2><p>还是802.3的分支。</p>
<ul>
<li><p>改进</p>
<ul>
<li>比特时间从10ns到1ns（100Mbps <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container> 1000Mbps</li>
<li>提供单播和广播的无确认数据报服务</li>
<li>帧格式不变。<ul>
<li>还是48位寻址</li>
<li>最小和最大帧尺寸不变</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>交换机（全双工</strong></p>
<ul>
<li><strong>反正没竞争，所以没用CSMA/CD</strong></li>
<li>电缆的最大长度取决于信号强度</li>
<li>交换机可以自由地混合和匹配各种速度</li>
<li>支持自动配置特性（也就是配置速率，10、100、1000Mbps</li>
</ul>
</li>
<li><p><strong>集线器（半双工</strong></p>
<ul>
<li>有竞争，得用CSMA/CD</li>
<li>对于64字节的最短帧，由于传输速率为经典以太网的100倍，<strong>所以最大电缆长度由2.5公里缩短为25米。</strong><blockquote>
<p>发送变快了，<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.029ex" xmlns="http://www.w3.org/2000/svg" width="2.301ex" height="1.536ex" role="img" focusable="false" viewBox="0 -666 1017 679"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D70F" d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z"></path></g></g></g></svg></mjx-container>得跟着变小</p>
</blockquote>
</li>
<li>为了延长单帧的发送时间，采用以下两种方案<ul>
<li>载波扩展<ul>
<li>在普通帧的后面增加填充位（padding），将帧的长度扩充为512字节（发送方添加，接收方去除</li>
</ul>
</li>
<li>帧突发<ul>
<li> 允许发送方将多个待发送的帧拼到一起，一次传输；如果仍然小于512字节，则硬件会对其再次填充</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>流量控制</strong></p>
<ul>
<li>在流量控制机制下，一端的机器给另一端机器发送一个特殊的控制帧，告知对方暂停一段时间。<strong>这些暂停(PAUSE)控制帧是普通的以太帧，类型字段设置为0x8808。暂停时间是最小帧时的整数倍。 512ns~33.6ms</strong></li>
</ul>
</li>
</ul>
<p>ppt还有一页是讲以太网为啥这么好使。</p>
<p>应该不考，跳了。</p>
<p>反正就是可靠便宜兼容性强那点东西</p>
<h2 id="4-3-7-10-Gigabit-Ethernet-万兆以太网、"><a href="#4-3-7-10-Gigabit-Ethernet-万兆以太网、" class="headerlink" title="4.3.7 10 Gigabit Ethernet 万兆以太网、"></a>4.3.7 10 Gigabit Ethernet 万兆以太网、</h2><p>用途<br><img src="https://api2.mubu.com/v3/document_image/795d6117-9ac1-4df3-a569-3cdc6787488d-14970684.jpg" alt="55.png"></p>
<p><img src="https://api2.mubu.com/v3/document_image/61f0b10e-3e48-4683-978d-c2c6b6cc4bd2-14970684.jpg" alt="55.png"></p>
<h1 id="4-4-无线局域网"><a href="#4-4-无线局域网" class="headerlink" title="4.4 无线局域网"></a>4.4 无线局域网</h1><h2 id="4-4-1-802-11体系结构和协议栈"><a href="#4-4-1-802-11体系结构和协议栈" class="headerlink" title="4.4.1 802.11体系结构和协议栈"></a>4.4.1 802.11体系结构和协议栈</h2><ul>
<li><p>结构</p>
<ul>
<li>无线主机与基站通信<ul>
<li>基站(接入点)</li>
</ul>
</li>
<li>基本服务集(BSS)<ul>
<li>无线主机</li>
<li>接入点(AP):基站</li>
<li>ad hoc mode:只允许主机访问<br><img src="https://api2.mubu.com/v3/document_image/14e97154-130b-46cc-804e-a4a3a0aa7bb4-14970684.jpg" alt="55.png"></li>
</ul>
</li>
</ul>
</li>
<li><p>802.11协议栈</p>
<ul>
<li><img src="https://api2.mubu.com/v3/document_image/2eb0c5fd-2023-488c-ad20-2c7ac97933cc-14970684.jpg" alt="55.png"></li>
</ul>
</li>
</ul>
<h2 id="4-4-3-802-11-MAC子层协议"><a href="#4-4-3-802-11-MAC子层协议" class="headerlink" title="4.4.3 802.11 MAC子层协议"></a>4.4.3 802.11 MAC子层协议</h2><p>802.11 MAC与以太网不同</p>
<p>无线电总是半双工的</p>
<p>接收到的信号比发送的弱106倍，碰撞检测机制不起作用</p>
<p>所以采用 CSMA/CA</p>
<ul>
<li><p><strong>当一个站点有一个帧待传输时</strong></p>
<ul>
<li>等待信道空闲，检测并等待DIFS（DIFS是一段很短的时间</li>
<li><strong>随机后退（Random backoff(0~15 time slots)）</strong>，然后倒计数空闲时间槽，当有帧在发送时暂停该计数器；当计数器递减到0该站就发送自己的帧。</li>
<li>如果帧发送成功，目标站立即发送一个短确认。</li>
<li>如果没有收到确认，则可推断出传输发生了错误，无论是冲突或是其他什么错。在这种情况下，发送方要加倍后退选择的时间槽数，再重新试图发送。<br><img src="https://api2.mubu.com/v3/document_image/10e3c8db-4a02-45ed-99fe-cb6aaa6861e2-14970684.jpg" alt="55.png"></li>
</ul>
</li>
<li><p>和以太网的区别：和以太网相比，这里有两个主要区别。</p>
<ul>
<li>首先，早期的后退有助于避免冲突</li>
<li>其次，利用确认来推断是否发生冲突，因为冲突无法被检测出来</li>
</ul>
</li>
<li><p><strong>信道检测</strong></p>
<ul>
<li>物理检测<ul>
<li>检查介质，看是否有有效的信号</li>
</ul>
</li>
<li>虚拟检测<ul>
<li>每个站可以保留一个信道何时要用的逻辑记录，这是通过跟踪网络分配向量(NAV, Network Allocation Vector)获得的。</li>
<li>每个帧携帯一个NAV字段，说明这个帧所属的一系列数据将传输多长时间</li>
<li>无意中听到这个帧的站就知道无论自己是否能够侦听到物理信号，由NAV所指出的时间段信道一定是繁忙的。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>RTS/CTS机制</strong></p>
<ul>
<li>可选的RTS/CTS机制使用NAV来防止隐藏终端在同一时间发送。</li>
<li>协议开始于当A决定向B发送数据时。A首先给B发送一个RTS帧，请求对方允许自己发送一个帧给它。如果B接收到这个请求，它就以CTS帧作为应答，表明信道被清除可以发送。一且收到CTS帧，A就发送数据帧，并启动一个ACK计时器。当正确的数据帧到达后，B用一个ACK帧回复A，完成此次交流。如果A的ACK计时器超时前，ACK没有返回，则可视为发生了一个冲突，经过一次后退整个协议重新开始运行。</li>
<li>现在让我们从C和D的角度来看这次数据交流。C在A的范围内，因此它可能会收到RTS帧。如果收到了，它就意识到很快有人要发送数据。从RTS请求帧提供的信息，可以估算出数据序列将需要传多长时间，包括最后的ACK。因此，它采取了有利于所有人的做法，停止传输任何东西，直到此次数据交换完成。它通过更新自己的NAV记录表明信道正忙，如图4-27所示。D无法听到RTS，但它确实听到了CTS，所以它也更新自己的NAV。<br><img src="https://api2.mubu.com/v3/document_image/a4f3bf44-7d63-4fc9-9733-4f7482899099-14970684.jpg" alt="55.png"></li>
</ul>
</li>
<li><p>802.11和MACA的区别</p>
<ul>
<li>802.11中的RTS/CTS与我们在4.2节看到的MACA还是有点不同，因为每个站都能听到RTS或CTS，因而在此期间保持沉默以便ACK无冲突地通过。正因为如此，它无助于暴露终端问题的解决；正如MACA一样，只对隐藏终端有好处。大多数情况下隐藏终端很少，而且不管什么原因，CSMA/CA通过后退发送失败的站来缓解隐藏终端问题，使得传输更可能获得成功</li>
</ul>
</li>
<li><p><strong>802.11的可靠性实现</strong></p>
<ul>
<li>降低传输速率</li>
<li>发送短帧（碎片帧<br><img src="https://api2.mubu.com/v3/document_image/a7b85060-5325-4f20-a253-0077ebf01470-14970684.jpg" alt="55.png"></li>
</ul>
</li>
</ul>
<p> 802.11允许把帧拆分成更小的单元一称为段(fragment)，每个段有自己的校验和。标准没有固定段的大小，但把它作为一个可以由AP调整的参数。这些段独立编号，使用停-等式协议</p>
<ul>
<li><p> 节能</p>
</li>
<li><p>节能的基本机制建立在**信标帧(beacon frames)**基础上。信标帧由AP定期广播(例如每100毫秒发一个)。该帧向客户通告AP的存在，同时传递一些系统参数，比如AP的标识、时间(下一帧多久再来)和安全设置。</p>
</li>
<li><p>客户端可以在它发送到AP的帧中设置一个电源管理位(power-management)，告诉AP自己进入省电模式(power-save mode)。在这种模式下，客户端可以打个盹，AP将缓冲所有发给该客户的流量。为了检查入境流量，客户端在每次信标帧来时苏醒过来，并检査作为信标帧一部分的流量图。</p>
</li>
<li><p>APSD 自动省电交付</p>
<ul>
<li>有了这个新机制，AP依然为休眠的客户端缓冲帧，但只在客户端发送帧到AP后才将其缓存的帧发送到客户端.这样一来，客户端可以安心进入睡眠状态，直到它有更多的流量需要发送(和接收)才醒来</li>
</ul>
</li>
<li><p><strong>QOS：802.11中的帧间间隔</strong></p>
<ul>
<li>DIFS：常规数据帧之间的间隔</li>
<li>SIFS：<ul>
<li>ACK帧</li>
<li>其他控制帧比如RTS和CTS</li>
<li>碎片帧</li>
</ul>
</li>
<li>AIFS1<ul>
<li>高优先级帧</li>
</ul>
</li>
<li>AIFS4 低优先级帧。后台流量一类<br><img src="https://api2.mubu.com/v3/document_image/fb1f6bfb-bac1-4d4e-83b1-df831a02b9c5-14970684.jpg" alt="55.png"></li>
</ul>
</li>
<li><p><strong>QOS:TXOP</strong></p>
<ul>
<li>帧大小相同时，当单独以6Mbps和54Mbps速率发送时，发送方将获得自己的速率</li>
<li>两个站点：6Mbps和54Mbps，不使用TXOP，当它们一起发送时<ul>
<li>都达到5.4Mbps的平均水平.(<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -1.599ex" xmlns="http://www.w3.org/2000/svg" width="5.345ex" height="3.555ex" role="img" focusable="false" viewBox="0 -864.9 2362.4 1571.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(1004.4,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mrow" transform="translate(220,-451.6) scale(0.707)"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(220,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"></path></g><rect width="553.6" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(793.6,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mfrac" transform="translate(1571.6,0)"><g data-mml-node="mn" transform="translate(396.8,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z" transform="translate(500,0)"></path></g><rect width="907.1" height="60" x="120" y="220"></rect></g></g><rect width="2122.4" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container>)</li>
<li>此时标准：发送帧的大小相同</li>
</ul>
</li>
<li>两个站点：6Mbps和54Mbps，使用TXOP，当它们一起发送时<ul>
<li>分别得到3Mbps和27Mbps的吞吐量。（各自的速率除以站点的数量）</li>
<li>此时标准：发送的时间相同</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>MAC层的帧</strong></p>
<ul>
<li>数据帧</li>
<li>控制帧<ul>
<li>RTS,CTS,ACK</li>
</ul>
</li>
<li>管理帧<ul>
<li>信标和探针帧</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-4-4-802-11帧结构"><a href="#4-4-4-802-11帧结构" class="headerlink" title="4.4.4 802.11帧结构"></a>4.4.4 802.11帧结构</h2><p><img src="https://api2.mubu.com/v3/document_image/f8b3db15-3dcb-48f3-b627-80f215e53b34-14970684.jpg" alt="55.png"></p>
<p><strong>数据帧的第二个字段为持续时间(Duration)字段</strong>，它通告本帧和其确认将会占用信道多长时间，按微秒计时。该字段会出现在所有帧中，包括控制帧，其他站使用该字段来管理各自的NAV机制。</p>
<p>接下来是地址字段。<strong>发往AP或者从AP接收的帧都具有3个地址</strong>，这些地址都是标准的IEEE802格式。<strong>第一个地址是接收方地址，第二个地址是发送方地址。</strong>很显然，这两个地址是必不可少的，那么第三个地址是做什么用的呢?请记住，当帧在一个客户端和网络中另一点之间传输时，AP只是一个简单的中继点。<strong>这网络中的另一点也许是一个远程客户端，或许是Internet接入点。第三个地址就指明了这个远程端点</strong></p>
<blockquote>
<p>ppt上第三个地址给的例子是路由器。就当路由器把。 </p>
</blockquote>
<h3 id="802-2-逻辑链路控制-Logical-Link-Control"><a href="#802-2-逻辑链路控制-Logical-Link-Control" class="headerlink" title="802.2: 逻辑链路控制 Logical Link Control"></a>802.2: 逻辑链路控制 Logical Link Control</h3><p>我也不知道是哪一节。所以没写节号。</p>
<ul>
<li>802.2：LLC<ul>
<li>运行在802.3和其他802协议之上<ul>
<li>通过向网络层提供单一格式和接口，隐藏各种802网络之间的差异</li>
</ul>
</li>
<li>LLC提供三种不同的服务选项<ul>
<li>不可靠数据报服务<ul>
<li>或者叫最大努力数据报服务</li>
</ul>
</li>
<li>ACK数据报服务<ul>
<li>有差错控制</li>
</ul>
</li>
<li>可靠的面向连接的服务<ul>
<li>有差错控制和流量控制</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LLC的位置和协议格式<ul>
<li><img src="https://api2.mubu.com/v3/document_image/b5a8020d-cd0a-44d1-bc1b-61d11cbec7a3-14970684.jpg" alt="55.png"></li>
</ul>
</li>
</ul>
<h1 id="4-8-数据链路层交换"><a href="#4-8-数据链路层交换" class="headerlink" title="4.8 数据链路层交换"></a>4.8 数据链路层交换</h1><ul>
<li>802.x到802.y的网桥</li>
<li>本地网络互连</li>
<li>生成树网桥 Spanning Tree Bridges</li>
<li>远地网桥 Remote Bridges</li>
<li>Repeaters, Hubs, Bridges, Switches, Routers,Gateways</li>
<li>虚拟局域网 Virtual LANs</li>
</ul>
<h2 id="4-8-1-本地网络互连"><a href="#4-8-1-本地网络互连" class="headerlink" title="4.8.1 本地网络互连"></a>4.8.1 本地网络互连</h2><ul>
<li>交互需要</li>
<li>可能分布在几个建筑上</li>
<li>将单个局域网分割成几个独立的局域网，以此来适应负载（多个冲突域</li>
<li>物理距离2500m</li>
<li>可靠</li>
<li>安全</li>
</ul>
<h2 id="4-8-2-看看网桥"><a href="#4-8-2-看看网桥" class="headerlink" title="4.8.2 看看网桥"></a>4.8.2 看看网桥</h2><p> <img src="https://api2.mubu.com/v3/document_image/7fbf3984-5663-49f3-8c1e-117531597d68-14970684.jpg" alt="55.png"></p>
<p> <img src="https://api2.mubu.com/v3/document_image/ffa8a2ef-41d0-4ed3-b71f-98e3b718fe0a-14970684.jpg" alt="55.png"></p>
<h3 id="自学习网桥（透明）-Learning-Bridge"><a href="#自学习网桥（透明）-Learning-Bridge" class="headerlink" title="自学习网桥（透明） Learning Bridge"></a>自学习网桥（透明） Learning Bridge</h3><ul>
<li><p>混杂模式运行</p>
<ul>
<li>接收在局域网上的每一帧</li>
</ul>
</li>
<li><p>站点表</p>
<ul>
<li>列出所有的可能的目的地并能分辨出其所在的局域网</li>
</ul>
</li>
<li><p><strong>传入帧的发送过程</strong></p>
<ul>
<li>如果目标局域网和源局域网相同，丢弃该帧（不需要转发</li>
<li>如果不同，转发该帧</li>
<li>如果目标局域网未知或者该帧是广播地址或者组地址，则使用<strong>泛洪算法</strong><ul>
<li><strong>泛洪算法</strong>：对于每个发向未知目标地址的入境，网桥将它输出到所有的端口，但它来的那个输入端口除外</li>
</ul>
</li>
</ul>
</li>
<li><p>站点表：逆向学习</p>
<ul>
<li>初始化<ul>
<li>网桥刚接入的时候，所有的哈希表都是空的</li>
</ul>
</li>
<li>增加<ul>
<li>网桥在混杂模式下工作，所以可以看到每个发送帧的局域网</li>
<li>通过观察帧的源地址，可以分辨局域网上哪些设备是可用的。</li>
<li>若源站不在转发表中，那就将对应的MAC地址加入到转发表中，打上时间戳。若是已经存在，就更新时间戳</li>
</ul>
</li>
</ul>
</li>
<li><p>动态拓扑</p>
<ul>
<li>当打开、关闭或者移动机器和桥时，网络的拓扑结构会发生变化。为了处理这种动态的拓扑结构，一旦构造出一个哈希表项后，帧的到达时间也被记录在相应的表项中。当帧到达时，如果它的源地址已经在表中，那么对应表项中的时间值被更新为当前时间。</li>
<li>因此，与每个表项相关联的时间值反映了网桥最后看到该机器发出一帧的时间。</li>
<li>在网桥中有一个进程定期扫描哈希表，并且将那些时间值在几分钟以前的表项都清除掉<blockquote>
<p>几分钟时间过长，意味着对应的拓扑结构大概率发生了改变，所以清掉。</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<ul>
<li>直通式交换(cut-through switching)<ul>
<li>网桥只要看到MAC地址就可决定如何转发帧，有可能一旦从入境线路输入帧的目的地址字段马上就可转发，此时帧的其余部分还在输入，即在完整接收一帧之前就开始了转发(当然，前提是输出线路可用)。这种设计降低了帧通过网桥的延退，以及网桥必须能缓冲的帧数。这种转发方式称为直通式交换(cut-through switching)或虫孔路由(wormhole routing)，</li>
</ul>
</li>
</ul>
<h2 id="4-8-3-生成树网桥"><a href="#4-8-3-生成树网桥" class="headerlink" title="4.8.3 生成树网桥"></a>4.8.3 生成树网桥</h2><p>  生成树用来解决网内循环。</p>
<ul>
<li><p>生成树算法</p>
<ul>
<li><p>为了建立生成树，网桥运行一个分布式算法。</p>
</li>
<li><p>每个网桥周期性地从它的所有端口广播个配置消息给邻居，同时处理来自其他网桥的消息，处理过程如同下面描述的那样。</p>
</li>
<li><p>这些消息不被转发，因为它们的用途是构建树，这棵树将被用于随后帧的转发。 </p>
</li>
<li><p>全体网桥必须首先选择一个网桥作为生成树的根。为了作出这种选择，每个网桥在自己的配置消息中包含一个标识符，以及它们认为应该作为根的网桥的标识符。网桥标识符基于MAC地址，而MAC地址由网卡制造商预先设置好，能确保全世界独一无二。因此， 网桥标识符的生成既便利又具有唯一性。网桥选择具有最低标识符的网桥成为生成树的根。 经过足够的消息交换和扩散，最终所有网桥将都同意这个根</p>
</li>
<li><p>然后，构造从根到每个网桥的最短路径树</p>
</li>
<li><p>从根通过B2或B3都可到达B4，最短路径均为两跳。为了打破这种平局，选择一条经过具有最低标识符的网桥的路径，因此到达B4的路径通过B2。 </p>
</li>
<li><p>为了找到这些最短路径，网桥在它们的配置消息中还包括与根的距离。每个网桥记住它找到的到根的最短路径。然后，网桥关闭那些不属于最短路径一部分的端口。<br><img src="https://api2.mubu.com/v3/document_image/4ae8c412-bebc-4176-b811-7d8d366bc504-14970684.jpg" alt="55.png"></p>
</li>
</ul>
</li>
</ul>
<h2 id="4-8-4-中继器／集线器／网桥／交换机／路由器和网关"><a href="#4-8-4-中继器／集线器／网桥／交换机／路由器和网关" class="headerlink" title="4.8.4 中继器／集线器／网桥／交换机／路由器和网关"></a>4.8.4 中继器／集线器／网桥／交换机／路由器和网关</h2><p><img src="https://api2.mubu.com/v3/document_image/da38f6bb-9471-436f-ac4d-973519468fad-14970684.jpg" alt="55.png"></p>
<ul>
<li><p>中继器</p>
<ul>
<li>即物理层中， 我们可以看到有中继器。中继器是模拟设备，主要用来处理自己所连的线缆上的信号。在一个线缆上出现的信号被清理、放大，然后再被放到另一个线缆上。中继器并不理解帧数据包或帧头，它们只知道把比特编码成电压的符号。</li>
</ul>
</li>
<li><p>集线器</p>
<ul>
<li>集线器有许多条输入线路，它将这些输入线路连接在一起。从任何条线路上到达的帧都被发送到所有其他的线路上。如果两帧同时到达，它们将会冲突， 就好像它们在同一根同轴电缆上遇到后发生碰撞一样。连接到同一个集线器上的所有线路必须以同样的速度运行。集线器与中继器不同，它们(通常)不会放大入境信号，并且可以有多个输入线路</li>
</ul>
</li>
<li><p>网桥</p>
<ul>
<li><p>网桥连接两个或多个局域网。跟集线器一样，一个现代网桥有多个端口，通常具有4~48条某种类型的输入线。与集线器不同的是网桥的每个端口被隔离成它自己一个冲突域；如果端口是全双工的点到点线路，则需要用到 CSMA/CD算法。当到达一帧时，网桥从帧头提取出帧的目的地址，并用该地址査询一张应该把帧发往哪里去的表</p>
</li>
<li><p>网桥比集线器提供了更好的性能，隔离网桥端口还意味着输入线路可以不同的速度运行，甚至可以是不同的网络类型。</p>
</li>
<li><p>网桥最初是被用来连接不同种类的局域网，例如，把一个以太网和令牌环网连接在起。然而，由于不同局域网之间的差异，这方面的工作总是做得不是很好。</p>
</li>
</ul>
</li>
<li><p>交换机</p>
<ul>
<li><p>网桥倾向于连接相对数目较少的局域网，因而端口数也相对较少。现在”交换机”一词更为流行。此外，现代交换机的安装都使用了点到点链接(例如双绞线)，单个计算机通过双绞线直接插入到交换机端，因此交换机的端口数往往有许多个。</p>
</li>
<li><p>交换机是现代网桥的另一个称呼。它们的差异更多地体现在市场上而不是技术方面。</p>
</li>
</ul>
</li>
</ul>
<p><strong>下面这个比较重要</strong><br><img src="https://api2.mubu.com/v3/document_image/d9d053b0-1fca-4e10-b997-a2c29fd8623c-14970684.jpg" alt="55.png"></p>
<ul>
<li><p>路由器</p>
<ul>
<li>当一个数据包进入到路由器时，帧头和帧尾被剥掉，帧的有效载荷字段中(如图4-45中的阴影部分)的数据包被传给路出软件。路由软件利用数据包的头信息来选择输出线路。对于一个IP数据包，包头将包含一个32位(IPv4)或者128 位(IPv6)地址，而不是48位的IEEE802地址。</li>
</ul>
</li>
<li><p>传输网关</p>
<ul>
<li>再往上一层我们可以发现传输网关。它们将两台使用了不同面向连接传输协议的计算机连接起来。</li>
</ul>
</li>
<li><p>应用网关</p>
<ul>
<li>最后，应用网关能理解数据的格式和内容，并且可以将消息从一种格式转换为另一种格式</li>
</ul>
</li>
</ul>
<h2 id="4-8-5-虚拟局域网"><a href="#4-8-5-虚拟局域网" class="headerlink" title="4.8.5 虚拟局域网"></a>4.8.5 虚拟局域网</h2><ul>
<li>广播风暴<ul>
<li>局域网的容量会被这些广播帧占据</li>
<li>设备仅仅处理和丢弃这些帧就会发生瘫痪</li>
</ul>
</li>
</ul>
<p>所以将一个局域网分割成几个虚拟局域网。</p>
<ul>
<li><p>VLAN和配置表</p>
<ul>
<li>为了使VLAN正常地运行，网桥必须建立配置表。这些配置表指明了通过哪些端口可以访问到哪些VLAN。当一帧到来时，比如说来自灰色VLAN，那么这帧必须被转发到所有标记为G的端口。这一条规则对于网桥不知道目的地位置的普通流量(即单播)以及组播和广播流量都适用。注意，一个端口可以标记为多种VLAN颜色。<br><img src="https://api2.mubu.com/v3/document_image/81695a40-9c3c-44f5-9f8a-0598ff94e74d-14970684.jpg" alt="55.png"></li>
</ul>
</li>
<li><p>VLAN帧格式</p>
<ul>
<li>VLAN段四字节，所以这时最长帧是1522字节</li>
<li><img src="https://api2.mubu.com/v3/document_image/c342ec74-1c89-4b57-8085-7c5ebc1aed96-14970684.jpg" alt="55.png"></li>
</ul>
</li>
<li><p>VLAN感知</p>
<ul>
<li>因为存在一些计算机(和交换机)无法感知VLAN，因此第一个VLAN感知的网桥在帧上添加一个VLAN字段，路径上的最后一个网桥把添加的VLAN字段删除。</li>
<li><img src="https://api2.mubu.com/v3/document_image/278b58b0-85fa-402e-876b-6f492575931d-14970684.jpg" alt="55.png"></li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mushroom323.github.io/2022/04/25/jiwang_4/" data-id="cl65b7xff000w5ktbechyatxs" class="article-share-link">
        Share
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%A1%E7%BD%91/" rel="tag">计网</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-automata_1" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      

<h2 itemprop="name">
  <a class="article-title" href="/2022/04/19/automata_1/">形式语言与自动机前半期</a>
</h2>



    </header>
    

    
    <div class="article-meta">
      <a href="/2022/04/19/automata_1/" class="article-date">
  <time datetime="2022-04-19T02:01:37.000Z" itemprop="datePublished">2022-04-19</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
      <p>整理到第三章结尾，期中考试前。</p>
<p>随便写写。</p>
<p>第一章没有。</p>
<p>没标粗那就不是重点，速通的话不用看。</p>
<p>标粗也不一定是，也可能是因为我觉得这里标粗了更好看。</p>
<h1 id="第二章-语言及文法"><a href="#第二章-语言及文法" class="headerlink" title="第二章 语言及文法"></a>第二章 语言及文法</h1><h2 id="第一节-语言"><a href="#第一节-语言" class="headerlink" title="第一节 语言"></a>第一节 语言</h2><ul>
<li>字母表： 字符的有限集合，记为T。 <ul>
<li>形式符号的集合</li>
<li>常用 T、 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="2.389ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 1056 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z"></path></g></g></g></svg></mjx-container>表示</li>
</ul>
</li>
</ul>
<ul>
<li>字符串： 字母表 T 上的一个<strong>字符串（简称串</strong>），或称为<strong>字（word）</strong>，为 T 中字符构成的一个有限序列。  <ul>
<li>空串（empty string）, 用<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container> 表示，不包含任何字符</li>
<li>常记为u,v,w,x,y,z；</li>
<li>常用a,b,c,d 标识单个字符。</li>
<li>字符串 w 的长度，记为 |w| ，是包含在 w 中字符的个数。 </li>
</ul>
</li>
</ul>
<ul>
<li>连接：设 x, y为串, 且 x = a1a2 … am, y = b1b2 … bn,<br>则 x 与 y 的连接<br>  x y = a1a2 … am b1b2 … bn\<ul>
<li>连接运算的性质：<ul>
<li>( x y ) z = x（ y z ）</li>
<li><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container> x = x <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container> = x </li>
<li>| x y | = |x|+|y| </li>
</ul>
</li>
</ul>
</li>
<li>设ω1, ω2, ω3是字母表T上的字符串，称ω1是字符串ω1ω2的前缀，ω2是字符串ω1ω2的后缀，且ω2是字符串ω1ω2ω3的子串。 <ul>
<li><strong>空串是任何字符串的前缀，后缀及子串。</strong></li>
<li>字符串ω的逆用<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex" xmlns="http://www.w3.org/2000/svg" width="1.407ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 622 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><path data-c="1D714" d="M495 384Q495 406 514 424T555 443Q574 443 589 425T604 364Q604 334 592 278T555 155T483 38T377 -11Q297 -11 267 66Q266 68 260 61Q201 -11 125 -11Q15 -11 15 139Q15 230 56 325T123 434Q135 441 147 436Q160 429 160 418Q160 406 140 379T94 306T62 208Q61 202 61 187Q61 124 85 100T143 76Q201 76 245 129L253 137V156Q258 297 317 297Q348 297 348 261Q348 243 338 213T318 158L308 135Q309 133 310 129T318 115T334 97T358 83T393 76Q456 76 501 148T546 274Q546 305 533 325T508 357T495 384Z"></path></g><g data-mml-node="mo" transform="translate(311,4) translate(-250 0)"><path data-c="AF" d="M69 544V590H430V544H69Z"></path></g></g></g></g></g></svg></mjx-container>表示。 是字符串ω的倒置。</li>
<li>空串ε的逆还是ε</li>
</ul>
</li>
<li><strong>幂运算</strong>：设 T 为字母表，n 为任意自然数，<ul>
<li>定义<ul>
<li> <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0" xmlns="http://www.w3.org/2000/svg" width="2.707ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 1196.6 833.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mn" transform="translate(793,363) scale(0.707)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></g></svg></mjx-container> = {<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container>}</li>
<li> 设 x <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.09ex" xmlns="http://www.w3.org/2000/svg" width="7.049ex" height="1.977ex" role="img" focusable="false" viewBox="0 -833.9 3115.7 873.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g><g data-mml-node="msup" transform="translate(944.8,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="TeXAtom" transform="translate(793,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(600,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(1378,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></g></svg></mjx-container>，a <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.09ex" xmlns="http://www.w3.org/2000/svg" width="1.509ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 667 580"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g></g></g></svg></mjx-container> T， 则a x <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.09ex" xmlns="http://www.w3.org/2000/svg" width="5.005ex" height="1.622ex" role="img" focusable="false" viewBox="0 -677 2212 717"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g><g data-mml-node="msup" transform="translate(944.8,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(793,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container></li>
<li> <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0" xmlns="http://www.w3.org/2000/svg" width="2.867ex" height="1.532ex" role="img" focusable="false" viewBox="0 -677 1267.3 677"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(793,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container> 中的元素只能由（1）和（2）生成</li>
</ul>
</li>
<li>*闭包： <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex" xmlns="http://www.w3.org/2000/svg" width="24.041ex" height="2.072ex" role="img" focusable="false" viewBox="0 -833.9 10626.1 915.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="TeXAtom" transform="translate(793,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path></g></g></g><g data-mml-node="mo" transform="translate(1474.3,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msup" transform="translate(2530.1,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mn" transform="translate(793,363) scale(0.707)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g><g data-mml-node="mo" transform="translate(3948.9,0)"><path data-c="222A" d="M591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598Z"></path></g><g data-mml-node="msup" transform="translate(4838.1,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mn" transform="translate(793,363) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(6256.9,0)"><path data-c="222A" d="M591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598Z"></path></g><g data-mml-node="msup" transform="translate(7146.1,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mn" transform="translate(793,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(8564.9,0)"><path data-c="222A" d="M591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598Z"></path></g><g data-mml-node="mo" transform="translate(9454.1,0)"><path data-c="2026" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0T543 17T525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0T990 17T972 60Z"></path></g></g></g></svg></mjx-container></li>
<li>+闭包：<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex" xmlns="http://www.w3.org/2000/svg" width="24.486ex" height="2.072ex" role="img" focusable="false" viewBox="0 -833.9 10822.7 915.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="TeXAtom" transform="translate(793,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g></g></g><g data-mml-node="mo" transform="translate(1670.9,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msup" transform="translate(2726.7,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mn" transform="translate(793,363) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(4145.5,0)"><path data-c="222A" d="M591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598Z"></path></g><g data-mml-node="msup" transform="translate(5034.7,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mn" transform="translate(793,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(6453.5,0)"><path data-c="222A" d="M591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598Z"></path></g><g data-mml-node="msup" transform="translate(7342.7,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mn" transform="translate(793,363) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g><g data-mml-node="mo" transform="translate(8761.5,0)"><path data-c="222A" d="M591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598Z"></path></g><g data-mml-node="mo" transform="translate(9650.7,0)"><path data-c="2026" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0T543 17T525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0T990 17T972 60Z"></path></g></g></g></svg></mjx-container></li>
<li><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex" xmlns="http://www.w3.org/2000/svg" width="26.147ex" height="2.193ex" role="img" focusable="false" viewBox="0 -775.2 11557 969.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="TeXAtom" transform="translate(793,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path></g></g></g><g data-mml-node="mo" transform="translate(1474.3,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msup" transform="translate(2530.1,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mo" transform="translate(793,363) scale(0.707)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g></g><g data-mml-node="mo" transform="translate(4145.5,0)"><path data-c="222A" d="M591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(5034.7,0)"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g><g data-mml-node="mo" transform="translate(5500.7,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msup" transform="translate(5945.3,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="TeXAtom" transform="translate(793,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g></g></g><g data-mml-node="mo" transform="translate(7616.3,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msup" transform="translate(8672,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="TeXAtom" transform="translate(793,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path></g></g></g><g data-mml-node="mo" transform="translate(10090.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(11091,0)"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></g></svg></mjx-container></li>
</ul>
</li>
</ul>
<ul>
<li>语言： 设 T 为字母表，则任何集合 L <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.09ex" xmlns="http://www.w3.org/2000/svg" width="1.509ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 667 580"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g></g></g></svg></mjx-container> T* 是字母表T上的一个语言（language）<ul>
<li>语言的积：两个语言L1 和L2的积L1 L2是由L1和L2中的字符串连接所构成的字符串的集合。即L1中所有字符串分别与L2中的字符串连接得到的集合。</li>
<li>语言的幂：    <ul>
<li>语言的幂可归纳定义如下:<br><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0" xmlns="http://www.w3.org/2000/svg" width="2.528ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 1117.6 833.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mn" transform="translate(714,363) scale(0.707)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></g></svg></mjx-container> = {ε}<br><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="31.805ex" height="2.452ex" role="img" focusable="false" viewBox="0 -833.9 14057.7 1083.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mi" transform="translate(714,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(1466,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(2521.8,0)"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mo" transform="translate(3425,0)"><path data-c="B7" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g><g data-mml-node="msup" transform="translate(3925.3,0)"><g data-mml-node="mi"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="TeXAtom" transform="translate(714,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(600,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(1378,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g><g data-mml-node="mo" transform="translate(6295,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msup" transform="translate(7350.8,0)"><g data-mml-node="mi"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="TeXAtom" transform="translate(714,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(600,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(1378,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g><g data-mml-node="mo" transform="translate(9664.9,0)"><path data-c="B7" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g><g data-mml-node="mi" transform="translate(10165.2,0)"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mo" transform="translate(10846.2,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(11235.2,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(12112.9,0)"><path data-c="2265" d="M83 616Q83 624 89 630T99 636Q107 636 253 568T543 431T687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76Q83 77 83 79Q82 86 98 95Q117 105 248 167Q326 204 378 228L626 346L360 472Q291 505 200 548Q112 589 98 597T83 616ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="mn" transform="translate(13168.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(13668.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container><blockquote>
<p>注意这里有个左右翻转</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="第二节-文法"><a href="#第二节-文法" class="headerlink" title="第二节 文法"></a>第二节 文法</h2><ul>
<li><p>定义：所谓文法是用来定义语言的一个数学模型</p>
</li>
<li><p>表示语言的方法：</p>
<ul>
<li>若语言L是有限集合，可用列举法</li>
<li>若L是无限集合（集合中的每个元素有限长度），用其他方法。<ul>
<li>方法一：文法产生系统，由定义的文法规则产生出语言的每个句子</li>
<li>方法二：机器识别系统：当一个字符串能被一个语言的识别系统接受，则这个字符串是该语言的一个句子，否则不属于该语言。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>元语言</strong>：描述语言的语言。例如：各种各样的程序设计语言</p>
<ul>
<li> 当人们要解释或讨论程序设计语言本身时，又需要一种语言，被讨论的语言叫做对象语言，即某种程序设计语言，讨论对象语言的语言称为元语言。</li>
</ul>
</li>
<li><p><strong>BNF（巴科斯范式）</strong>：BNF范式通常被作为讨论某种程序设计语言语法的元语言</p>
<ul>
<li>::= “定义为”</li>
<li>&lt;数字&gt; ::= 0|1|2|……9 </li>
<li>&lt;字母&gt; ::= A|B|C|……Z|a|b|……z        </li>
<li>&lt;标识符&gt; :: =&lt;字母&gt; | &lt;标识符&gt;&lt;字母&gt; | &lt;标识符&gt;&lt;数字&gt;</li>
<li>通过上述定义可知，所有以字母开头的，由字母和数字组成的字符串都是标识符。</li>
<li>BNF定义了一种语言，其中标识符如上定义。</li>
<li>BNF描述它所定义的语言，为元语言。</li>
</ul>
</li>
<li><p>  <strong>文法是一种元语言，一种方法，根据文法产生出语言的句子。</strong></p>
</li>
</ul>
<p><img src="https://api2.mubu.com/v3/document_image/f3230997-006f-4b7d-8e46-0eb37c2f9e8b-14970684.jpg" alt="55.png"></p>
<h3 id="Chomsky文法体系："><a href="#Chomsky文法体系：" class="headerlink" title="Chomsky文法体系："></a>Chomsky文法体系：</h3><ul>
<li><p>相较于BNF，其中:=用<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container>代替，分别用I，L，D表示标识符、字母、数字</p>
</li>
<li><p>所以把BNF表示的再用Chomsky表示一遍，如下：</p>
<ul>
<li>I→L</li>
<li>I→L</li>
<li>I→ID</li>
<li>L→a|b|….|z</li>
<li>D→0|1|….9</li>
</ul>
</li>
<li><p>Chomsky文法体系中，任何一种文法必须包含有两个不同的有限符号的集合，即<strong>非终结符集合N和终结符集合T。一个形式规则的有限集合P（生成式集合），一个起始符S</strong>。</p>
</li>
<li><p>P中的生成式是用来产生语言句子的规则，而句子则是仅由终结符组成的字符串。这些字符串必须从一个起始符S开始，不断使用P中的生成式而导出来。</p>
</li>
<li><p>可见文法的核心是生成式的集合，它决定了语言中句子的产生。</p>
<blockquote>
<p>我终于知道为什么自动机ppt符号基本是错的了。属于是直接把电子教材的文本拷贝到ppt里，也不管符号编码对不对上。<br>倒是方便我做笔记了，直接复制粘贴就行了。</p>
</blockquote>
</li>
<li><p><strong>Chomsky文法的形式定义</strong>：文法G是一个四元组G=(N，T，P，S)，其中</p>
<ul>
<li>N  非终结符的有限集合</li>
<li>T  终结符的有限集合   <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex" xmlns="http://www.w3.org/2000/svg" width="10.643ex" height="1.731ex" role="img" focusable="false" viewBox="0 -683 4704 765"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mo" transform="translate(1110.2,0)"><path data-c="2229" d="M88 -21T75 -21T55 -7V200Q55 231 55 280Q56 414 60 428Q61 430 61 431Q77 500 152 549T332 598Q443 598 522 544T610 405Q611 399 611 194V-7Q604 -22 591 -22Q582 -22 572 -9L570 405Q563 433 556 449T529 485Q498 519 445 538T334 558Q251 558 179 518T96 401Q95 396 95 193V-7Q88 -21 75 -21Z"></path></g><g data-mml-node="mi" transform="translate(1999.4,0)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mo" transform="translate(2981.2,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(4037,0)"><path data-c="1D6F7" d="M356 624Q356 637 267 637H243Q237 642 237 645T239 664Q243 677 249 683H264Q342 681 429 681Q565 681 571 683H583Q589 677 589 674T587 656Q582 641 578 637H540Q516 637 504 637T479 633T463 630T454 623T448 613T443 597T438 576Q436 566 434 556T430 539L428 533Q442 533 472 526T543 502T613 451T642 373Q642 301 567 241T386 158L336 150Q332 150 331 146Q310 66 310 60Q310 46 399 46H424Q430 40 430 39T428 19Q424 6 418 0H401Q360 2 247 2Q207 2 173 2T119 2T95 1Q87 1 84 1T79 4T77 10Q77 11 79 23Q80 25 81 30T82 36T84 40T86 43T88 44T93 46T99 46T108 46H115Q170 46 189 49T216 62Q220 74 228 107L239 150L223 152Q139 164 82 205T24 311Q24 396 125 462Q207 517 335 533L346 578Q356 619 356 624ZM130 291Q130 203 241 188H249Q249 190 287 342L325 495H324Q313 495 291 491T229 466T168 414Q130 357 130 291ZM536 393Q536 440 507 463T418 496L341 187L351 189Q443 201 487 255Q536 314 536 393Z"></path></g></g></g></svg></mjx-container></li>
<li>P 形式为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex" xmlns="http://www.w3.org/2000/svg" width="6.248ex" height="2.034ex" role="img" focusable="false" viewBox="0 -705 2761.6 899"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z"></path></g><g data-mml-node="mo" transform="translate(917.8,0)"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(2195.6,0)"><path data-c="1D6FD" d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z"></path></g></g></g></svg></mjx-container>的生成式的有限集合。<ul>
<li>且<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="42.07ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 18595 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z"></path></g><g data-mml-node="mo" transform="translate(917.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g><g data-mml-node="mo" transform="translate(1862.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(2251.6,0)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mo" transform="translate(3361.8,0)"><path data-c="222A" d="M591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598Z"></path></g><g data-mml-node="mi" transform="translate(4251,0)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mo" transform="translate(4955,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(5566.2,0)"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path></g><g data-mml-node="mi" transform="translate(6288.4,0)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mo" transform="translate(7398.7,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mo" transform="translate(8398.9,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(8787.9,0)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mo" transform="translate(9898.1,0)"><path data-c="222A" d="M591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598Z"></path></g><g data-mml-node="mi" transform="translate(10787.3,0)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mo" transform="translate(11491.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(11880.3,0)"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path></g><g data-mml-node="mo" transform="translate(12380.3,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(12825,0)"><path data-c="1D6FD" d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z"></path></g><g data-mml-node="mo" transform="translate(13668.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g><g data-mml-node="mo" transform="translate(14613.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(15002.6,0)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mo" transform="translate(16112.8,0)"><path data-c="222A" d="M591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598Z"></path></g><g data-mml-node="mi" transform="translate(17002,0)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mo" transform="translate(17706,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(18095,0)"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path></g></g></g></svg></mjx-container></li>
</ul>
</li>
<li>S  起始符  且S ∈N。</li>
</ul>
</li>
</ul>
<h3 id="推导与句型"><a href="#推导与句型" class="headerlink" title="推导与句型"></a>推导与句型</h3><ul>
<li>直接推导：<ul>
<li>设G =（N,T,P,S）是文法，若A→β是P中的生成式，α和γ是（N∪T）*中的字符串，则有αAγ=&gt; αβγ称αAγ直接推导出αβγ，或说αβγ是αAγ的直接推导。</li>
</ul>
</li>
<li>推导序列：<ul>
<li>设G = (N,T,P,S)是文法，α、α0、α1…αn、α’都是（N∪T）<em>中的字符串，且α=α0、 α’ =αn，其中αi直接推导出αi+1 （0≤i≤n）,则称序列α0=&gt;α1=&gt;α2=&gt;…=&gt;αn是长度为n的推导序列，*<em>而α=α0是长度为0的推导序列。</em></em></li>
<li>对α推导出α’记为αα’ ，若推导序列长度大于0，则记为α  α’。<img src="https://api2.mubu.com/v3/document_image/77144a60-09e6-4e7d-8956-0bc07255cb00-14970684.jpg" alt="55.png"></li>
<li>推导序列的每一步，都产生一个字符串，这些字符串一般称为<strong>句型。</strong><br><img src="https://api2.mubu.com/v3/document_image/84a8a970-a625-446b-93ae-c8784cdb20f1-14970684.jpg" alt="55.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/5c80c3c4-21f9-4b32-b794-8188dc26f2d1-14970684.jpg" alt="55.png"></li>
</ul>
</li>
</ul>
<h2 id="Chomsky文法体系分类"><a href="#Chomsky文法体系分类" class="headerlink" title="Chomsky文法体系分类"></a>Chomsky文法体系分类</h2><ul>
<li><p>该体系对生成式（产生式）的形式做了一些规定，分为四类，即0型、1型、2型、3型文法</p>
</li>
<li><p><strong>0型文法</strong>：无限制文法<br>  对应的语言：递归可枚举语言，与图灵机等价。</p>
</li>
<li><p><strong>1型文法</strong>:也称上下文有关文法（CSG：Context-sensitive Grammar)</p>
<ul>
<li>生成式的形式为α→β，<ul>
<li>其中 |α|≤|β|，β∈（N∪T）+，  </li>
<li>α∈（N∪T）<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0.079ex" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="0.973ex" role="img" focusable="false" viewBox="0 -465 500 430"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path></g></g></g></svg></mjx-container>N+（N∪T）*</li>
</ul>
</li>
<li>限定约束：<ul>
<li>左部的长度小于右部</li>
<li>不含A-&gt;ε</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>2型文法</strong>：也称上下文无关文法（CFG：Context-free Grammar)</p>
<ul>
<li> A→α, </li>
<li> A∈N, 且α∈（N∪T）*</li>
<li> 左部是单个非终结符。</li>
</ul>
</li>
<li><p><strong>3型文法</strong>：</p>
<ul>
<li>右线性文法（Right-linear Grammar）：<pre><code>A→ωB 或 A→ω
    A、B∈N, ω∈T*。
</code></pre>
</li>
<li>左线性文法（Left-linear Grammar）：<pre><code>A→Bω或 A→ω
        A、B∈N, ω∈T*。
</code></pre>
</li>
<li>对应的语言：正则语言</li>
<li>对应的自动机：有限自动机（Finite Automaton）。</li>
</ul>
</li>
<li><p>四类文法之间的关系   </p>
<ul>
<li>0型   无限制</li>
<li>1型   不允许A→ε形式</li>
<li>2型</li>
<li>3型   属于2型</li>
<li>不含A→ε的2型、3型属于1型，1型、2型、3型均属于0型。</li>
</ul>
</li>
</ul>
<h1 id="第三章-有限自动机与右线性文法"><a href="#第三章-有限自动机与右线性文法" class="headerlink" title="第三章 有限自动机与右线性文法"></a>第三章 有限自动机与右线性文法</h1><h2 id="第一节-有限自动机"><a href="#第一节-有限自动机" class="headerlink" title="第一节 有限自动机"></a>第一节 有限自动机</h2><ul>
<li><p>有限自动机的概念：</p>
<ul>
<li>具有离散 输入 输出系统的一种数学模型<br>(可以没有输出，比较特殊的也可以没有输入).</li>
<li>有限的状态</li>
<li>后继状态唯一：DFA</li>
<li>后继状态不唯一：NFA</li>
</ul>
</li>
<li><p>FA的模型：FA可以理解成一个控制器，它读一条输入带上的字符。<img src="https://api2.mubu.com/v3/document_image/023758e9-c993-4238-bd12-9e73e6d7de34-14970684.jpg" alt="55.png"></p>
</li>
</ul>
<h3 id="DFA的形式定义"><a href="#DFA的形式定义" class="headerlink" title="DFA的形式定义"></a>DFA的形式定义</h3><ul>
<li><p>定义: DFA是一个五元组 M=(Q,T,δ,q0,F)</p>
<ul>
<li>Q: 有限的状态集合</li>
<li>T: 有限的输入字母表</li>
<li>δ: 转换函数(状态转移集合): Q×T <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container> Q</li>
<li>q0: 初始状态， q0 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.09ex" xmlns="http://www.w3.org/2000/svg" width="1.509ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 667 580"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g></g></g></svg></mjx-container> Q</li>
<li>F: 终止状态集,  F  Q</li>
</ul>
</li>
<li><p>δ’函数：接收一个字符串的状态转移函数。</p>
<ul>
<li>对任何q <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.09ex" xmlns="http://www.w3.org/2000/svg" width="1.509ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 667 580"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g></g></g></svg></mjx-container> Q，定义：<ul>
<li><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="10.551ex" height="2.283ex" role="img" focusable="false" viewBox="0 -759 4663.7 1009"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D6FF" d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z"></path></g><g data-mml-node="mo" transform="translate(477,363) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></g></g><g data-mml-node="mo" transform="translate(721.5,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1110.5,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mo" transform="translate(1570.5,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(2015.1,0)"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g><g data-mml-node="mo" transform="translate(2481.1,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(3147.9,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(4203.7,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></svg></mjx-container></li>
<li>若ω是一个字符串, a是一个字符<br>定义: δ’(q,ωa)=δ(δ’(q,ω),a)</li>
</ul>
</li>
</ul>
</li>
<li><p>DFA接收的语言：</p>
<ul>
<li>被DFA接收的字符串: 输入结束后使DFA的状态到达终止状态。否则该字符串不能被DFA接收.</li>
<li>DFA接收的语言: 被DFA接收的字符串的集合.</li>
</ul>
</li>
<li><p><strong>格局</strong>：为描述有限自动机的工作过程，对于它在某一时刻的工作状态，可用两个信息表明：当前状态q，待输入字符串w。两者构成一个瞬时描述，用（q,w）表示，称为格局。</p>
<ul>
<li>初始格局：（q0,w)</li>
<li>终止格局：  (q,ε), q<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.09ex" xmlns="http://www.w3.org/2000/svg" width="1.509ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 667 580"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g></g></g></svg></mjx-container>F<br><img src="https://api2.mubu.com/v3/document_image/7e258690-0991-45be-b5f5-18655738f3df-14970684.jpg" alt="55.png"><blockquote>
<p>描述格局的这个符号长得还挺奇特</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h2 id="第二节-不确定的有限自动机NFA"><a href="#第二节-不确定的有限自动机NFA" class="headerlink" title="第二节 不确定的有限自动机NFA"></a>第二节 不确定的有限自动机NFA</h2><p>修改DFA的模型，使之在某个状态， 对应一个输入，可以有多个转移， 到达不 同的状态， 则称为不确定的有限自动机。</p>
<ul>
<li>NFA是一个五元组，M=(Q,T,δ,q0,F)。<br>  其中δ是<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex" xmlns="http://www.w3.org/2000/svg" width="12.504ex" height="2.386ex" role="img" focusable="false" viewBox="0 -860.8 5526.9 1054.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D444" d="M399 -80Q399 -47 400 -30T402 -11V-7L387 -11Q341 -22 303 -22Q208 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435Q740 255 592 107Q529 47 461 16L444 8V3Q444 2 449 -24T470 -66T516 -82Q551 -82 583 -60T625 -3Q631 11 638 11Q647 11 649 2Q649 -6 639 -34T611 -100T557 -165T481 -194Q399 -194 399 -87V-80ZM636 468Q636 523 621 564T580 625T530 655T477 665Q429 665 379 640Q277 591 215 464T153 216Q153 110 207 59Q231 38 236 38V46Q236 86 269 120T347 155Q372 155 390 144T417 114T429 82T435 55L448 64Q512 108 557 185T619 334T636 468ZM314 18Q362 18 404 39L403 49Q399 104 366 115Q354 117 347 117Q344 117 341 117T337 118Q317 118 296 98T274 52Q274 18 314 18Z"></path></g><g data-mml-node="mi" transform="translate(791,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(1569,0)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mo" transform="translate(2273,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mo" transform="translate(3328.8,0)"><path data-c="3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></g><g data-mml-node="msup" transform="translate(4384.6,0)"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D444" d="M399 -80Q399 -47 400 -30T402 -11V-7L387 -11Q341 -22 303 -22Q208 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435Q740 255 592 107Q529 47 461 16L444 8V3Q444 2 449 -24T470 -66T516 -82Q551 -82 583 -60T625 -3Q631 11 638 11Q647 11 649 2Q649 -6 639 -34T611 -100T557 -165T481 -194Q399 -194 399 -87V-80ZM636 468Q636 523 621 564T580 625T530 655T477 665Q429 665 379 640Q277 591 215 464T153 216Q153 110 207 59Q231 38 236 38V46Q236 86 269 120T347 155Q372 155 390 144T417 114T429 82T435 55L448 64Q512 108 557 185T619 334T636 468ZM314 18Q362 18 404 39L403 49Q399 104 366 115Q354 117 347 117Q344 117 341 117T337 118Q317 118 296 98T274 52Q274 18 314 18Z"></path></g></g></g></g></svg></mjx-container>的函数，其余与DFA相同</li>
<li>如果接收一个字符串后NFA进入一个状态集，而此集合中包含一个以上F中的状态， 则称NFA接收该字符串。<blockquote>
<p>用格局描述NFA，则要分别描述每个可能的状态：<br><img src="https://api2.mubu.com/v3/document_image/fd16c061-6dfb-4f71-8c6b-bc32e1c3d147-14970684.jpg" alt="55.png"></p>
</blockquote>
</li>
</ul>
<h2 id="第三节-NFA和DFA的等价性"><a href="#第三节-NFA和DFA的等价性" class="headerlink" title="第三节 NFA和DFA的等价性"></a>第三节 NFA和DFA的等价性</h2><p>定理：设一个NFA接受语言L，那么必然存在一个DFA接受L。</p>
<h3 id="NFA构造DFA-子集构造法"><a href="#NFA构造DFA-子集构造法" class="headerlink" title="NFA构造DFA 子集构造法"></a>NFA构造DFA 子集构造法</h3><p><img src="https://api2.mubu.com/v3/document_image/6d629e0e-0008-4c62-99e5-7ec8f0595d71-14970684.jpg" alt="55.png"></p>
<blockquote>
<p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container>表示初态，*表示终态</p>
</blockquote>
<ul>
<li> 实践中, 通过子集构造法得到的 DFA 的状态数目与原NFA 的状态数目大体相当.</li>
<li> 在较坏的情况下,上述 DFA 的状态数目接近于所有子集的数目.  </li>
</ul>
<blockquote>
<p>证明不放了。估计不考。</p>
</blockquote>
<h2 id="第四节-有-varepsilon-转换的NFA"><a href="#第四节-有-varepsilon-转换的NFA" class="headerlink" title="第四节 有$\varepsilon$转换的NFA"></a>第四节 有<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container>转换的NFA</h2><ul>
<li><p>定义：概念：当输入空串<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container>(无输入) 时，也能引起状态的转移。</p>
</li>
<li><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex" xmlns="http://www.w3.org/2000/svg" width="9.22ex" height="1.805ex" role="img" focusable="false" viewBox="0 -716 4075.4 798"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g><g data-mml-node="mo" transform="translate(688.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(1688.4,0)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(2576.4,0)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path></g><g data-mml-node="mi" transform="translate(3325.4,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g></g></g></svg></mjx-container>的形式定义： 一个<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex" xmlns="http://www.w3.org/2000/svg" width="9.22ex" height="1.805ex" role="img" focusable="false" viewBox="0 -716 4075.4 798"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g><g data-mml-node="mo" transform="translate(688.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(1688.4,0)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(2576.4,0)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path></g><g data-mml-node="mi" transform="translate(3325.4,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g></g></g></svg></mjx-container> 是一个五元组 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="18.752ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 8288.2 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="mo" transform="translate(1027.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(2083.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(2472.6,0)"><path data-c="1D444" d="M399 -80Q399 -47 400 -30T402 -11V-7L387 -11Q341 -22 303 -22Q208 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435Q740 255 592 107Q529 47 461 16L444 8V3Q444 2 449 -24T470 -66T516 -82Q551 -82 583 -60T625 -3Q631 11 638 11Q647 11 649 2Q649 -6 639 -34T611 -100T557 -165T481 -194Q399 -194 399 -87V-80ZM636 468Q636 523 621 564T580 625T530 655T477 665Q429 665 379 640Q277 591 215 464T153 216Q153 110 207 59Q231 38 236 38V46Q236 86 269 120T347 155Q372 155 390 144T417 114T429 82T435 55L448 64Q512 108 557 185T619 334T636 468ZM314 18Q362 18 404 39L403 49Q399 104 366 115Q354 117 347 117Q344 117 341 117T337 118Q317 118 296 98T274 52Q274 18 314 18Z"></path></g><g data-mml-node="mo" transform="translate(3263.6,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(3708.2,0)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mo" transform="translate(4412.2,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(4856.9,0)"><path data-c="1D6FF" d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z"></path></g><g data-mml-node="mo" transform="translate(5300.9,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(5745.6,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mn" transform="translate(6205.6,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(6705.6,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(7150.2,0)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path></g><g data-mml-node="mo" transform="translate(7899.2,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>.</p>
<ul>
<li>与 NFA 的不同之处 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="20.471ex" height="2.513ex" role="img" focusable="false" viewBox="0 -860.8 9048.3 1110.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D6FF" d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z"></path></g><g data-mml-node="mo" transform="translate(721.8,0)"><path data-c="3A" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"></path></g><g data-mml-node="mi" transform="translate(1277.6,0)"><path data-c="1D444" d="M399 -80Q399 -47 400 -30T402 -11V-7L387 -11Q341 -22 303 -22Q208 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435Q740 255 592 107Q529 47 461 16L444 8V3Q444 2 449 -24T470 -66T516 -82Q551 -82 583 -60T625 -3Q631 11 638 11Q647 11 649 2Q649 -6 639 -34T611 -100T557 -165T481 -194Q399 -194 399 -87V-80ZM636 468Q636 523 621 564T580 625T530 655T477 665Q429 665 379 640Q277 591 215 464T153 216Q153 110 207 59Q231 38 236 38V46Q236 86 269 120T347 155Q372 155 390 144T417 114T429 82T435 55L448 64Q512 108 557 185T619 334T636 468ZM314 18Q362 18 404 39L403 49Q399 104 366 115Q354 117 347 117Q344 117 341 117T337 118Q317 118 296 98T274 52Q274 18 314 18Z"></path></g><g data-mml-node="mo" transform="translate(2290.8,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mo" transform="translate(3291,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(3680,0)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mo" transform="translate(4606.2,0)"><path data-c="222A" d="M591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(5495.4,0)"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g><g data-mml-node="mo" transform="translate(5961.4,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(6628.2,0)"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g><g data-mml-node="msup" transform="translate(7906,0)"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D444" d="M399 -80Q399 -47 400 -30T402 -11V-7L387 -11Q341 -22 303 -22Q208 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435Q740 255 592 107Q529 47 461 16L444 8V3Q444 2 449 -24T470 -66T516 -82Q551 -82 583 -60T625 -3Q631 11 638 11Q647 11 649 2Q649 -6 639 -34T611 -100T557 -165T481 -194Q399 -194 399 -87V-80ZM636 468Q636 523 621 564T580 625T530 655T477 665Q429 665 379 640Q277 591 215 464T153 216Q153 110 207 59Q231 38 236 38V46Q236 86 269 120T347 155Q372 155 390 144T417 114T429 82T435 55L448 64Q512 108 557 185T619 334T636 468ZM314 18Q362 18 404 39L403 49Q399 104 366 115Q354 117 347 117Q344 117 341 117T337 118Q317 118 296 98T274 52Q274 18 314 18Z"></path></g></g></g></g></svg></mjx-container></li>
</ul>
</li>
</ul>
<h3 id="varepsilon-闭包的概念"><a href="#varepsilon-闭包的概念" class="headerlink" title="$\varepsilon -$闭包的概念"></a><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex" xmlns="http://www.w3.org/2000/svg" width="2.814ex" height="1.505ex" role="img" focusable="false" viewBox="0 -583 1244 665"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g><g data-mml-node="mo" transform="translate(466,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g></g></g></svg></mjx-container>闭包的概念</h3><ul>
<li><p> 状态 q 的<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container> - 闭包，记为  <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container> - CLOSURE 或ECLOSE ，定义为从 q  经所有的<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container> 路径可以到达的状态（包括q自身）</p>
</li>
<li><p>状态子集I</p>
<ul>
<li><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.355ex" xmlns="http://www.w3.org/2000/svg" width="2.03ex" height="1.901ex" role="img" focusable="false" viewBox="0 -683 897.1 840.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D43C" d="M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z"></path></g><g data-mml-node="mi" transform="translate(473,-150) scale(0.707)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g></g></g></svg></mjx-container>概念：<ul>
<li><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="23.953ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 10587.1 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D43C" d="M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z"></path></g><g data-mml-node="mi" transform="translate(473,-150) scale(0.707)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g><g data-mml-node="mo" transform="translate(1174.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(2230.6,0)"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g><g data-mml-node="mo" transform="translate(2918.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(3919.1,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="mi" transform="translate(4679.1,0)"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mi" transform="translate(5360.1,0)"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mi" transform="translate(6123.1,0)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mi" transform="translate(6768.1,0)"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z"></path></g><g data-mml-node="mi" transform="translate(7535.1,0)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g><g data-mml-node="mi" transform="translate(8294.1,0)"><path data-c="1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></g><g data-mml-node="mo" transform="translate(9058.1,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(9447.1,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mo" transform="translate(10198.1,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container></li>
<li>其中<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="11.854ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 5239.6 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mo" transform="translate(1028.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(2084.6,0)"><path data-c="1D6FF" d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z"></path></g><g data-mml-node="mo" transform="translate(2528.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(2917.6,0)"><path data-c="1D43C" d="M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z"></path></g><g data-mml-node="mi" transform="translate(3421.6,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">，</text></g><g data-mml-node="mi" transform="translate(4321.6,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mo" transform="translate(4850.6,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>. 即P是从I中的状态经过一条标a的边可以到达的状态集合 </li>
<li>即<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="28.361ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 12535.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D43C" d="M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z"></path></g><g data-mml-node="mi" transform="translate(473,-150) scale(0.707)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g><g data-mml-node="mo" transform="translate(1174.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(2230.6,0)"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g><g data-mml-node="mo" transform="translate(2918.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(3919.1,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="mi" transform="translate(4679.1,0)"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mi" transform="translate(5360.1,0)"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mi" transform="translate(6123.1,0)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mi" transform="translate(6768.1,0)"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z"></path></g><g data-mml-node="mi" transform="translate(7535.1,0)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g><g data-mml-node="mi" transform="translate(8294.1,0)"><path data-c="1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></g><g data-mml-node="mo" transform="translate(9058.1,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(9447.1,0)"><path data-c="1D6FF" d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z"></path></g><g data-mml-node="mo" transform="translate(9891.1,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(10280.1,0)"><path data-c="1D43C" d="M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z"></path></g><g data-mml-node="mo" transform="translate(10784.1,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(11228.7,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mo" transform="translate(11757.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(12146.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container></li>
</ul>
</li>
</ul>
</li>
<li><p>扩展转移函数适合于输入字符串<br><img src="https://api2.mubu.com/v3/document_image/e434b329-7b73-4d71-b2ee-0c81ecf653aa-14970684.jpg" alt="55.png"></p>
<blockquote>
<p><strong>注意一下这个注意</strong></p>
</blockquote>
</li>
</ul>
<h3 id="从-varepsilon-NFA构造等价的无-varepsilon-NFA"><a href="#从-varepsilon-NFA构造等价的无-varepsilon-NFA" class="headerlink" title="从$\varepsilon-$NFA构造等价的无$\varepsilon$NFA"></a>从<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex" xmlns="http://www.w3.org/2000/svg" width="2.814ex" height="1.505ex" role="img" focusable="false" viewBox="0 -583 1244 665"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g><g data-mml-node="mo" transform="translate(466,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g></g></g></svg></mjx-container>NFA构造等价的无<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container>NFA</h3><p>关键点就一句话：<br><strong>δ1’（q0，ω）含F1的一个状态当且仅当δ’（q0， ω）含F的一个状态</strong><br>这里F1指的是带<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container>,F是指不带的。</p>
<p>抽道题：<br><img src="https://api2.mubu.com/v3/document_image/5f539159-85e0-4477-ac00-36f436f8c922-14970684.jpg" alt="55.png"></p>
<p>过程差不多就是遍历T，保证对于所有<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex" xmlns="http://www.w3.org/2000/svg" width="9.22ex" height="1.805ex" role="img" focusable="false" viewBox="0 -716 4075.4 798"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g><g data-mml-node="mo" transform="translate(688.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(1688.4,0)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(2576.4,0)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path></g><g data-mml-node="mi" transform="translate(3325.4,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g></g></g></svg></mjx-container>可以到达的状态，<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0" xmlns="http://www.w3.org/2000/svg" width="5.4ex" height="1.62ex" role="img" focusable="false" viewBox="0 -716 2387 716"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(888,0)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path></g><g data-mml-node="mi" transform="translate(1637,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g></g></g></svg></mjx-container>也可以通过相同符号到达就行了。</p>
<blockquote>
<p><strong>还要注意的就是，如果起始状态的闭包里有终止状态，那NFA里要把起始状态改成终止状态</strong></p>
</blockquote>
<h2 id="第五节-正则集和正则式"><a href="#第五节-正则集和正则式" class="headerlink" title="第五节 正则集和正则式"></a>第五节 正则集和正则式</h2><ul>
<li><p>正则集：字母表上一些特殊形式的字符串的集合，是正则式所表示的集合。</p>
</li>
<li><p>正则式：用类似代数表达式的方法表示正则语言。</p>
</li>
<li><p>归纳正则表达式如下：</p>
<ul>
<li>ε，<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex" xmlns="http://www.w3.org/2000/svg" width="1.348ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 596 899"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D719" d="M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z"></path></g></g></g></svg></mjx-container>，a （a∈T）都是正则式 (原子正则式) ，<br>  相应的正则集为{ε}，<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex" xmlns="http://www.w3.org/2000/svg" width="1.348ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 596 899"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D719" d="M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z"></path></g></g></g></svg></mjx-container>，{a}</li>
<li>如果A和B是正则式，且分别代表L(A)和L(B).则(A+B)，(AB)，  A* 也是正则式，分别表示以下正则集<ul>
<li>L(A) ∪L(B)             (语言A / 语言B的串)</li>
<li>L(A) • L(B)              (两个语言中的串的连接)</li>
<li> L(A) *                  (语言A中的串的多次连接)</li>
</ul>
</li>
</ul>
</li>
<li><p>正则式的性质：<br>  <img src="https://api2.mubu.com/v3/document_image/b415bfc5-235d-46ae-bcce-8ed4930d6d74-14970684.jpg" alt="55.png"><br>  <img src="https://api2.mubu.com/v3/document_image/3c233393-d300-4e50-b793-8bd1e9f5801d-14970684.jpg" alt="55.png"></p>
<blockquote>
<p>幺元这个东西感觉有点玄幻<br>  然后<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container>这个东西在因式分解的时候当1使</p>
</blockquote>
</li>
</ul>
<h3 id="右线性文法导出正则式"><a href="#右线性文法导出正则式" class="headerlink" title="右线性文法导出正则式"></a>右线性文法导出正则式</h3><p>右(左)线性文法又称为正则文法，右线性文法与正则式可以用来代表同一正则语言。二者具有等效性。</p>
<p><strong>求解规则R</strong>：<br>设x = αx+β，α∈T<em>，β∈(N∪T)</em>, x∈N<br>则x的解为 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.452ex" xmlns="http://www.w3.org/2000/svg" width="7.047ex" height="2.149ex" role="img" focusable="false" viewBox="0 -750 3114.6 950"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mi" transform="translate(572,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">＝</text></g><g data-mml-node="msup" transform="translate(1472,0)"><g data-mml-node="mi"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z"></path></g><g data-mml-node="mo" transform="translate(673,363) scale(0.707)"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path></g></g><g data-mml-node="mi" transform="translate(2548.6,0)"><path data-c="1D6FD" d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z"></path></g></g></g></svg></mjx-container></p>
<p>设右线性文法G=({S,A,B},{a,b},P,S}，生成式P如下： S→aA , S→bB, S→b, A→bA, A →<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container>, B→bS </p>
<p>以上生成式写成联立方程为<br>    S=aA+bB+b    （1）<br>    A=bA+<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container>            （2）<br>    B=bS                （3）</p>
<p>对式（2）利用规则R和性质 α <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.683ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 744 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container> = α得     A=b*  （4）<br>将式（4）和式（3）代入式（1）中的A、B，得<br>    S=ab*+bbS+b=bbS+ab*+b=(bb)<em>(ab</em>+b)<br>所以由G产生的语言用正则式表示为  (bb)<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0.079ex" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="0.973ex" role="img" focusable="false" viewBox="0 -465 500 430"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path></g></g></g></svg></mjx-container>(ab*+b)</p>
<h2 id="第六节-正则集和右线性文法"><a href="#第六节-正则集和右线性文法" class="headerlink" title="第六节 正则集和右线性文法"></a>第六节 正则集和右线性文法</h2><p> 正则集是由右线性文法产生的语言<br> 由右线性文法产生的语言都是正则集</p>
<p>证明略了。</p>
<p>提了两句互相转换。</p>
<p>正则集<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container>右线性文法：找出相应的右线性文法，使之产生的语言是这些正则集。</p>
<blockquote>
<p>也就是说没啥好方法，看点子</p>
</blockquote>
<p><strong>右线性文法<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container>正则集</strong>：对右线性文法构造标准形式的正规表达式方程组，应用规则<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.452ex" xmlns="http://www.w3.org/2000/svg" width="20.685ex" height="2.149ex" role="img" focusable="false" viewBox="0 -750 9142.6 950"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mi" transform="translate(572,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">＝</text></g><g data-mml-node="mi" transform="translate(1472,0)"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z"></path></g><g data-mml-node="mi" transform="translate(2112,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(2906.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(3906.4,0)"><path data-c="1D6FD" d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z"></path></g><g data-mml-node="mo" transform="translate(4750.2,0)"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(6028,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mi" transform="translate(6600,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">＝</text></g><g data-mml-node="msup" transform="translate(7500,0)"><g data-mml-node="mi"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z"></path></g><g data-mml-node="mo" transform="translate(673,363) scale(0.707)"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path></g></g><g data-mml-node="mi" transform="translate(8576.6,0)"><path data-c="1D6FD" d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z"></path></g></g></g></svg></mjx-container>进行消元，求解方程组，即可得出正规表达式。</p>
<p>定理: 一个语言是正则集，当且仅当该语言为右线性语言。</p>
<p>正则集到有线性文法的例子：</p>
<p><img src="https://api2.mubu.com/v3/document_image/b8a69739-dafb-4f1f-8e49-78eaf23b8e70-14970684.jpg" alt="55.png"></p>
<h2 id="第七节-正则表达式与有限自动机的关系"><a href="#第七节-正则表达式与有限自动机的关系" class="headerlink" title="第七节 正则表达式与有限自动机的关系"></a>第七节 正则表达式与有限自动机的关系</h2><p> 有限自动机、右（左）线性文法、正则表达式都定义了同一种语言– 正则语言.</p>
<h3 id="DFA构造等价的正则表达式"><a href="#DFA构造等价的正则表达式" class="headerlink" title="DFA构造等价的正则表达式"></a>DFA构造等价的正则表达式</h3><ul>
<li>扩展自动机的概念，允许正则表达式作为转移弧的标记。 这样，就有可能在消去某一中间状态时，保证自动机能够接受的字符串集合保持不变</li>
<li>在消去某一中间状态时，与其相关的转移弧也将同时消去，所造成的影响将通过修改从每一个前趋状态到每一个后继状态的转移弧标记来弥补。 </li>
<li><img src="https://api2.mubu.com/v3/document_image/a87e04f2-5712-480f-ba88-c23a60ad91f4-14970684.jpg" alt="55.png"></li>
</ul>
<p><strong>步骤</strong>：<br><img src="https://api2.mubu.com/v3/document_image/95843fb7-04ae-4dd8-8acf-0210107aace9-14970684.jpg" alt="55.png"><br>eg:<br><img src="https://api2.mubu.com/v3/document_image/320190bd-6b02-4b2a-878c-f9bb432d2759-14970684.jpg" alt="5.png"><br><img src="https://api2.mubu.com/v3/document_image/ed88d5ff-2bdc-451e-bae6-95051b4abd11-14970684.jpg" alt="5.png"></p>
<h3 id="从正则表达式构造等价的-varepsilon-NFA"><a href="#从正则表达式构造等价的-varepsilon-NFA" class="headerlink" title="从正则表达式构造等价的$\varepsilon - NFA$"></a>从正则表达式构造等价的<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex" xmlns="http://www.w3.org/2000/svg" width="9.22ex" height="1.805ex" role="img" focusable="false" viewBox="0 -716 4075.4 798"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g><g data-mml-node="mo" transform="translate(688.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(1688.4,0)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(2576.4,0)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path></g><g data-mml-node="mi" transform="translate(3325.4,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g></g></g></svg></mjx-container></h3><ul>
<li><p>定理:  L 是正则表达式 R 表示的语言, 则存在一个<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container> - NFA E ,满足 L(E) = L(R) = L.</p>
</li>
<li><p>构造：<br><img src="https://api2.mubu.com/v3/document_image/da849228-5166-49e9-9436-2a78f3ab9d01-14970684.jpg" alt="5.png"><br><img src="https://api2.mubu.com/v3/document_image/56f843d1-d0eb-45aa-9777-04447071c9fe-14970684.jpg" alt="5.png"><br><img src="https://api2.mubu.com/v3/document_image/59acafb5-2c1b-4d1a-a867-7721e53a40d6-14970684.jpg" alt="5.png"></p>
</li>
</ul>
<blockquote>
<p>就是用一大堆<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.072ex" role="img" focusable="false" viewBox="0 -452 466 474"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container>。能用的全用上了。</p>
</blockquote>
<p>eg：<br><img src="https://api2.mubu.com/v3/document_image/6dc4e7fc-a79f-4bb8-bb7e-8e50c7e06e7b-14970684.jpg" alt="5.png"></p>
<p><strong>上述表明三种定义正则集的方式</strong>：</p>
<ul>
<li>正则表达式</li>
<li>右线性文法</li>
<li>正则集是含有{ε}，<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex" xmlns="http://www.w3.org/2000/svg" width="1.348ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 596 899"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D719" d="M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z"></path></g></g></g></svg></mjx-container>，{a} 以及在并、连接和 * 运算下封闭的语言</li>
<li>完事了还有第四种，可以用自动机定义。挺明显了上面讲了一大堆自动机和正则式的转换</li>
</ul>
<h3 id="右线性文法-rightarrow-有限自动机"><a href="#右线性文法-rightarrow-有限自动机" class="headerlink" title="右线性文法 $\rightarrow$ 有限自动机"></a>右线性文法 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container> 有限自动机</h3><p>看题就懂了。</p>
<p><img src="https://api2.mubu.com/v3/document_image/6ad99be3-da2d-4bda-b2b5-917023ff859d-14970684.jpg" alt="5.png"></p>
<p>注意要单独捏造一个最终状态<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g></g></g></svg></mjx-container></p>
<p>对于右边接的是字符串的，单独开个状态：<br><img src="https://api2.mubu.com/v3/document_image/dd53df3f-4447-4264-8610-f239a83ba129-14970684.jpg" alt="5.png"></p>
<h3 id="有限自动机-rightarrow-右线性文法"><a href="#有限自动机-rightarrow-右线性文法" class="headerlink" title="有限自动机$\rightarrow$ 右线性文法"></a>有限自动机<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container> 右线性文法</h3><p>看题就懂了。<br><img src="https://api2.mubu.com/v3/document_image/8630c989-7525-4c36-be59-be28ee2df12f-14970684.jpg" alt="5.png"></p>
<h2 id="第九节-右线性语言的性质"><a href="#第九节-右线性语言的性质" class="headerlink" title="第九节 右线性语言的性质"></a>第九节 右线性语言的性质</h2><h3 id="确定有限自动机DFA的化简"><a href="#确定有限自动机DFA的化简" class="headerlink" title="确定有限自动机DFA的化简"></a>确定有限自动机DFA的化简</h3><p>简单来说就是先将不可达状态删了之后，把同一分区的都合并。</p>
<ul>
<li>等价和可区分：<ul>
<li>设DFA  M = (Q，T，δ，q0，F)<ul>
<li>对不同的状态q１， q２∈Q 和每个ω∈T*，如果有(q１，ω)┣<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0.079ex" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="0.973ex" role="img" focusable="false" viewBox="0 -465 500 430"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path></g></g></g></svg></mjx-container> (q，ε) 和 (q２，ω)┣<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0.079ex" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="0.973ex" role="img" focusable="false" viewBox="0 -465 500 430"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path></g></g></g></svg></mjx-container> (q，ε) 且q∈F，<br>则称q１与q２状态等价. 记为q１≡q２<br>否则，称q１， q２可区分。</li>
</ul>
</li>
</ul>
</li>
<li>不可达状态：如果不存在任何ω∈T<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0.079ex" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="0.973ex" role="img" focusable="false" viewBox="0 -465 500 430"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path></g></g></g></svg></mjx-container>，使(q０，ω)┣* (q，ε)，则称状态q∈Q为不可达状态。</li>
<li>最小化：  若DFA Ｍ不存在互为等价状态及不可达状态，则称DFA Ｍ是最小化的。</li>
</ul>
<p>区分的第一步是把最终态和非最终态区分出来，之后顺着来。<br>先给个硬看硬分的写法：<br><img src="https://api2.mubu.com/v3/document_image/0657e271-6f7a-4737-a008-3ac981c608c1-14970684.jpg" alt="5.png"></p>
<p>然后填表算法，这个简单,也用的多：<br><img src="https://api2.mubu.com/v3/document_image/0473e4f3-72dc-4bce-b940-5a358547d72f-14970684.jpg" alt="5.png"></p>
<p>步骤：</p>
<ul>
<li>删除所有从开始状态不可到达的状态及与其相关的边, 设所得到的 DFA 为 A = (Q, T, <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.023ex" xmlns="http://www.w3.org/2000/svg" width="1.005ex" height="1.645ex" role="img" focusable="false" viewBox="0 -717 444 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D6FF" d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z"></path></g></g></g></svg></mjx-container>, q0 , F ) ；</li>
<li>使用填表算法找出所有等价的状态偶对；</li>
<li>根据 2 的结果计算当前状态集合的划分块，每一划分块中的状态相互之间等价，而不同划分块中的状态之间都是可区别的. 包含状态 q 的划分块用 [q] 表示.</li>
<li>构造与 A 等价的 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="31.851ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 14078.3 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g><g data-mml-node="mi" transform="translate(828,0)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path></g><g data-mml-node="mi" transform="translate(1577,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="mo" transform="translate(2549.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(3549.4,0)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g><g data-mml-node="mo" transform="translate(4586.2,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(5642,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msub" transform="translate(6031,0)"><g data-mml-node="mi"><path data-c="1D444" d="M399 -80Q399 -47 400 -30T402 -11V-7L387 -11Q341 -22 303 -22Q208 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435Q740 255 592 107Q529 47 461 16L444 8V3Q444 2 449 -24T470 -66T516 -82Q551 -82 583 -60T625 -3Q631 11 638 11Q647 11 649 2Q649 -6 639 -34T611 -100T557 -165T481 -194Q399 -194 399 -87V-80ZM636 468Q636 523 621 564T580 625T530 655T477 665Q429 665 379 640Q277 591 215 464T153 216Q153 110 207 59Q231 38 236 38V46Q236 86 269 120T347 155Q372 155 390 144T417 114T429 82T435 55L448 64Q512 108 557 185T619 334T636 468ZM314 18Q362 18 404 39L403 49Q399 104 366 115Q354 117 347 117Q344 117 341 117T337 118Q317 118 296 98T274 52Q274 18 314 18Z"></path></g><g data-mml-node="mi" transform="translate(824,-150) scale(0.707)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g></g><g data-mml-node="mo" transform="translate(7441.7,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(7886.4,0)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mo" transform="translate(8590.4,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(9035,0)"><g data-mml-node="mi"><path data-c="1D6FF" d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z"></path></g><g data-mml-node="mi" transform="translate(477,-150) scale(0.707)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g></g><g data-mml-node="mo" transform="translate(10098.7,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mo" transform="translate(10543.4,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="msub" transform="translate(10821.4,0)"><g data-mml-node="mi"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mn" transform="translate(479,-150) scale(0.707)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g><g data-mml-node="mo" transform="translate(11703.9,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g><g data-mml-node="mo" transform="translate(11981.9,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(12426.6,0)"><g data-mml-node="mi"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path></g><g data-mml-node="mi" transform="translate(676,-150) scale(0.707)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g></g><g data-mml-node="mo" transform="translate(13689.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container> , 其中<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="49.999ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 22099.5 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D444" d="M399 -80Q399 -47 400 -30T402 -11V-7L387 -11Q341 -22 303 -22Q208 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435Q740 255 592 107Q529 47 461 16L444 8V3Q444 2 449 -24T470 -66T516 -82Q551 -82 583 -60T625 -3Q631 11 638 11Q647 11 649 2Q649 -6 639 -34T611 -100T557 -165T481 -194Q399 -194 399 -87V-80ZM636 468Q636 523 621 564T580 625T530 655T477 665Q429 665 379 640Q277 591 215 464T153 216Q153 110 207 59Q231 38 236 38V46Q236 86 269 120T347 155Q372 155 390 144T417 114T429 82T435 55L448 64Q512 108 557 185T619 334T636 468ZM314 18Q362 18 404 39L403 49Q399 104 366 115Q354 117 347 117Q344 117 341 117T337 118Q317 118 296 98T274 52Q274 18 314 18Z"></path></g><g data-mml-node="mi" transform="translate(824,-150) scale(0.707)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g></g><g data-mml-node="mo" transform="translate(1688.5,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2744.2,0)"><g data-mml-node="mo"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mo" transform="translate(738,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g><g data-mml-node="mo" transform="translate(1016,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(1294,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mo" transform="translate(2031.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g><g data-mml-node="mi" transform="translate(2976.6,0)"><path data-c="1D444" d="M399 -80Q399 -47 400 -30T402 -11V-7L387 -11Q341 -22 303 -22Q208 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435Q740 255 592 107Q529 47 461 16L444 8V3Q444 2 449 -24T470 -66T516 -82Q551 -82 583 -60T625 -3Q631 11 638 11Q647 11 649 2Q649 -6 639 -34T611 -100T557 -165T481 -194Q399 -194 399 -87V-80ZM636 468Q636 523 621 564T580 625T530 655T477 665Q429 665 379 640Q277 591 215 464T153 216Q153 110 207 59Q231 38 236 38V46Q236 86 269 120T347 155Q372 155 390 144T417 114T429 82T435 55L448 64Q512 108 557 185T619 334T636 468ZM314 18Q362 18 404 39L403 49Q399 104 366 115Q354 117 347 117Q344 117 341 117T337 118Q317 118 296 98T274 52Q274 18 314 18Z"></path></g></g><g data-mml-node="mo" transform="translate(6511.8,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(6956.5,0)"><g data-mml-node="mi"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path></g><g data-mml-node="mi" transform="translate(676,-150) scale(0.707)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g></g><g data-mml-node="mo" transform="translate(8496.9,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(9552.7,0)"><g data-mml-node="mo"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mo" transform="translate(738,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g><g data-mml-node="mo" transform="translate(1016,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(1294,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mo" transform="translate(2031.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g><g data-mml-node="mi" transform="translate(2976.6,0)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path></g></g><g data-mml-node="mo" transform="translate(13278.3,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(13722.9,0)"><g data-mml-node="mi"><path data-c="1D6FF" d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z"></path></g><g data-mml-node="mi" transform="translate(477,-150) scale(0.707)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g></g><g data-mml-node="mo" transform="translate(14786.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mo" transform="translate(15175.6,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="mi" transform="translate(15453.6,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mo" transform="translate(15913.6,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g><g data-mml-node="mo" transform="translate(16191.6,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(16636.3,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mo" transform="translate(17165.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(17832.1,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(18887.9,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="mi" transform="translate(19165.9,0)"><path data-c="1D6FF" d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z"></path></g><g data-mml-node="mo" transform="translate(19609.9,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(19998.9,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mo" transform="translate(20458.9,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(20903.5,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mo" transform="translate(21432.5,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(21821.5,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g></g></g></svg></mjx-container><blockquote>
<p>注意优化后的状态要加小框框</p>
</blockquote>
</li>
</ul>
<h3 id="针对正则语言的Pumping引理"><a href="#针对正则语言的Pumping引理" class="headerlink" title="针对正则语言的Pumping引理"></a>针对正则语言的Pumping引理</h3><ul>
<li><p><strong>定理</strong>：设L是正则集，存在常数k，对字符串ω∈Ｌ 且｜ω｜≥ｋ，则ω可写成ω1ω0ω２，其中｜ω1ω0｜≤ｋ，｜ω0｜＞０，对所有的ｉ≥0有ω1ω0iω2∈Ｌ。</p>
</li>
<li><p><strong>证明</strong>：设 L 是 DFA  D = (Q, T, <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.023ex" xmlns="http://www.w3.org/2000/svg" width="1.005ex" height="1.645ex" role="img" focusable="false" viewBox="0 -717 444 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D6FF" d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z"></path></g></g></g></svg></mjx-container>, q0 , F ) 的语言， 取 k = |Q| 即可. </p>
<ul>
<li><img src="https://api2.mubu.com/v3/document_image/d825a1ad-135e-4b7c-aef0-b379b6eb4d2a-14970684.jpg" alt="5.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/804af5ac-46fb-466f-a2d2-4f6c16439a9f-14970684.jpg" alt="5.png"><blockquote>
<p>用了个鸽巢。意思还是很清晰的。</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="泵浦引理的应用"><a href="#泵浦引理的应用" class="headerlink" title="泵浦引理的应用"></a>泵浦引理的应用</h3><p>基本就是用来证明某个语言L不是正规语言。</p>
<p>步骤：</p>
<ul>
<li>选任意的n.</li>
<li>找到一个满足以下条件的串w<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.09ex" xmlns="http://www.w3.org/2000/svg" width="1.509ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 667 580"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g></g></g></svg></mjx-container>L (长度至少为n).</li>
<li>任选满足w = xyz <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.509ex" height="1.403ex" role="img" focusable="false" viewBox="0 -598 667 620"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2229" d="M88 -21T75 -21T55 -7V200Q55 231 55 280Q56 414 60 428Q61 430 61 431Q77 500 152 549T332 598Q443 598 522 544T610 405Q611 399 611 194V-7Q604 -22 591 -22Q582 -22 572 -9L570 405Q563 433 556 449T529 485Q498 519 445 538T334 558Q251 558 179 518T96 401Q95 396 95 193V-7Q88 -21 75 -21Z"></path></g></g></g></svg></mjx-container> y<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.486ex" xmlns="http://www.w3.org/2000/svg" width="3.443ex" height="2.106ex" role="img" focusable="false" viewBox="0 -716 1521.8 931"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2260" d="M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z"></path></g><g data-mml-node="mi" transform="translate(1055.8,0)"><path data-c="1D700" d="M190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22Z"></path></g></g></g></svg></mjx-container>  <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex" xmlns="http://www.w3.org/2000/svg" width="1.509ex" height="1.403ex" role="img" focusable="false" viewBox="0 -598 667 620"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2229" d="M88 -21T75 -21T55 -7V200Q55 231 55 280Q56 414 60 428Q61 430 61 431Q77 500 152 549T332 598Q443 598 522 544T610 405Q611 399 611 194V-7Q604 -22 591 -22Q582 -22 572 -9L570 405Q563 433 556 449T529 485Q498 519 445 538T334 558Q251 558 179 518T96 401Q95 396 95 193V-7Q88 -21 75 -21Z"></path></g></g></g></svg></mjx-container> |xy| <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.312ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.751ex" role="img" focusable="false" viewBox="0 -636 778 774"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g></g></g></svg></mjx-container> n 的x,y,z</li>
<li>找到一个 k <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.486ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="2.106ex" role="img" focusable="false" viewBox="0 -716 778 931"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2260" d="M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z"></path></g></g></g></svg></mjx-container>0,  使 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.486ex" xmlns="http://www.w3.org/2000/svg" width="8.783ex" height="2.418ex" role="img" focusable="false" viewBox="0 -853.7 3882 1068.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="msup" transform="translate(572,0)"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(523,363) scale(0.707)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g></g><g data-mml-node="mi" transform="translate(1513.4,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(2256.2,0)"><path data-c="2209" d="M196 25Q84 109 84 250Q84 372 166 450T360 539Q361 539 375 539T413 540T460 540L547 707Q550 716 563 716Q570 716 575 712T581 703T583 696T505 540H568Q583 532 583 520Q583 511 570 501L484 500L366 270H568Q583 262 583 250T568 230H346L247 38Q284 16 328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 447 -40T419 -41Q304 -41 228 3Q117 -211 115 -212Q111 -215 104 -215T92 -212T86 -204T84 -197Q84 -190 89 -183L196 25ZM214 61L301 230H124V228Q124 196 147 147T214 61ZM321 270L440 500Q353 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H321Z"></path></g><g data-mml-node="mi" transform="translate(3201,0)"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g></g></g></svg></mjx-container>.</li>
</ul>
<p>eg<br><img src="https://api2.mubu.com/v3/document_image/215a17d9-c4b2-4fa2-9596-c0f4662937e4-14970684.jpg" alt="5.png"></p>
<h3 id="右线性语言的封闭性"><a href="#右线性语言的封闭性" class="headerlink" title="右线性语言的封闭性"></a>右线性语言的封闭性</h3><ul>
<li>∪<ul>
<li><img src="https://api2.mubu.com/v3/document_image/4179394a-8128-4369-8242-acecc22af101-14970684.jpg" alt="5.png"></li>
</ul>
</li>
<li>∩<ul>
<li><img src="https://api2.mubu.com/v3/document_image/912204bc-6c9e-48cb-8578-4f7905fc87fc-14970684.jpg" alt="5.png">  </li>
</ul>
</li>
<li>幂<ul>
<li><img src="https://api2.mubu.com/v3/document_image/eb0122f6-ef3a-4852-ae52-682d02b1872f-14970684.jpg" alt="5.png"></li>
</ul>
</li>
<li>逆<ul>
<li><img src="https://api2.mubu.com/v3/document_image/7d6eab3e-fb91-4fb1-a3ae-607dd6138b99-14970684.jpg" alt="5.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/be4b0bda-b6fc-4666-b724-41cabfab62c3-14970684.jpg" alt="5.png"></li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mushroom323.github.io/2022/04/19/automata_1/" data-id="cl65b7xf8000f5ktb0x0l5yav" class="article-share-link">
        Share
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%BE%E7%A8%8B/" rel="tag">课程</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-jiwang_3" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      

<h2 itemprop="name">
  <a class="article-title" href="/2022/04/17/jiwang_3/">计网数据链路层</a>
</h2>



    </header>
    

    
    <div class="article-meta">
      <a href="/2022/04/17/jiwang_3/" class="article-date">
  <time datetime="2022-04-17T08:59:13.000Z" itemprop="datePublished">2022-04-17</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
      <p>一更，根据作业的范围加了点东西,划了下重点。</p>
<p>笔记来源和物理层一致，教材ppt和大爹。</p>
<p>没有一张图是自己截的。</p>
<h1 id="3-1-数据链路层的设计问题"><a href="#3-1-数据链路层的设计问题" class="headerlink" title="3.1 数据链路层的设计问题"></a>3.1 数据链路层的设计问题</h1><ul>
<li>数据链路层的<strong>功能</strong><ul>
<li>向网络层提供一个定义良好的服务接口</li>
<li>处理传输错误。</li>
<li>调节数据流，确保慢速的接收方不会被过快的数据流淹没。</li>
</ul>
</li>
</ul>
<h2 id="3-1-1-提供给网络层的服务"><a href="#3-1-1-提供给网络层的服务" class="headerlink" title="3.1.1 提供给网络层的服务"></a>3.1.1 提供给网络层的服务</h2><ul>
<li><p>数据包和帧的关系<br><img src="https://api2.mubu.com/v3/document_image/81033b76-c1a2-4993-8aa8-555f25016ace-14970684.jpg" alt="5.png"></p>
</li>
<li><p>提供的服务类型</p>
<ul>
<li>Unacknowledged connectionless service. 无确认无连接</li>
<li>Acknowledged connectionless service. 有确认无连接</li>
<li>Acknowledged connection-oriented service 有确认有连接（面向连接的服务<ul>
<li>Connection establishment</li>
<li>Timer</li>
<li>Sequence number</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3-1-2-Framing"><a href="#3-1-2-Framing" class="headerlink" title="3.1.2 Framing"></a>3.1.2 Framing</h2><h3 id="Character-Count"><a href="#Character-Count" class="headerlink" title="Character Count"></a>Character Count</h3><p>字符计数</p>
<p>这种成帧方法利用头部中的一个字段来标识该帧中的字符数。当接收方的数据链路层看到字符计数值时，它就知道后面跟着多少个字节，因此也就知道了该帧在哪里结東。</p>
<p>但如果计数的头字符出错了后面就全都错了。如图：</p>
<p><img src="https://api2.mubu.com/v3/document_image/87e8633a-c2e8-4756-a185-cd9ef88fde04-14970684.jpg" alt="5.png"></p>
<h3 id="Byte-Stuffing"><a href="#Byte-Stuffing" class="headerlink" title="Byte Stuffing"></a>Byte Stuffing</h3><p>字节填充的标志字节法</p>
<p>第二种成帧方法考虑到了出错之后的重新同步问题，它让每个用一些特殊的字节作为开始和结朿。这些特殊字节通常都相同，称为标志字节(flag byte)，作为帧的起始和结束分界符，如图3-4(a)中的FLAG所示。两个连续的标志字节代表了一帧的结束和下帧的开始。</p>
<p><img src="https://api2.mubu.com/v3/document_image/eecf14af-6303-4a1f-80a0-ab6acf754996-14970684.jpg" alt="5.png"></p>
<p>问题：发送的信息含有很多控制字符，需要转译的字符大大增加<br><strong>开销：overhead，跟需要发送的数据相比，额外添加的转义字符所占的比例，比如全是需要转译的字符的信息，overhead就是100%。</strong></p>
<h3 id="Bit-Stuffing"><a href="#Bit-Stuffing" class="headerlink" title="Bit Stuffing"></a>Bit Stuffing</h3><p>比特填充的标志比特法</p>
<p>每个帧的开头结尾都是一个special bit pattern, 01111110 ，也就是16进制的7EH，当数据内容出现连续的1时，每遇到五个1添加一个0（硬件不管这5个1后面是0还是1），接收方做相反的工作。</p>
<p><img src="https://api2.mubu.com/v3/document_image/c7e3cce3-443d-4224-b633-bc6f9cefff4b-16175743.jpg" alt="5.png"></p>
<p>(a) The original data.<br>(b) The data as they appear on the line.<br>(c) The data as they are stored in receiver’s memory after destuffing.</p>
<h3 id="Physical-Layer-Coding-Violations"><a href="#Physical-Layer-Coding-Violations" class="headerlink" title="Physical Layer Coding Violations"></a>Physical Layer Coding Violations</h3><p>物理层编码违例法</p>
<p>比特编码成信号一般会包括一些冗余比特，以方便接收器同步接收。</p>
<p>我们可以利用这些保留的信号来指示帧的开始和结束。实际上，我们使用”编码违法”来区分帧的边界。这种方案的优点在于，因为这些用作分界符的信号是保留不用的， 所以很容易通过它们找到帧的开始和结束，而且不再需要填充数据。</p>
<p>例如：对于曼彻斯特Manchester编码，两个跳变表示一个bit，所以当出现长高电平，常低电平，就属于物理层违例了，可以作为帧的边界。</p>
<h2 id="3-1-3-Error-Control"><a href="#3-1-3-Error-Control" class="headerlink" title="3.1.3 Error Control"></a>3.1.3 Error Control</h2><p>确保可靠传递的常用方法是向发送方提供一些有关线路另一端状况的反馈信息。通常情况下，协议要求接收方<strong>发回一些特殊的控制帧</strong>，在这些控制帧中，对于它所接收到的帧进行肯定的或者否定的确认</p>
<p>当发送方发出一帧时，<strong>通常还要启动一个计时器</strong>。该计时器的超时值应该设置得足够长，以便保证在正常情况下该帧能够到达接收方，并且在接收方进行处理后再将确认返回到发送方。一般情况下，在计时器超时前，该帧应该被正确地接收，并且确认帧也被传了回米。这种情况下，计时器被取消。</p>
<p>然而，如果帧或者确认被丢失，则计时器将被触发，从而警告发送方存在一个潜在的问题。一种显然的解决方案是重新发送该帧。然而，当有的帧被发送了多次之后，可能会出现这样的危险：接收方将两次或者多次接收到同一帧，并且多次将它传递给网络层。为了避免发生这样的情形，一般有必要<strong>给发送出去的帧分配序号</strong>，这样接收方可以根据帧的序号来有效区分原始帧和重传帧。</p>
<p><strong>一条消息第k次发送成功的概率为p，问期望发送次数</strong><br><img src="https://api2.mubu.com/v3/document_image/96d9ea6e-73f0-4e62-b619-0c8f977725b2-14970684.jpg" alt="5.png"></p>
<h2 id="3-1-4-Flow-Control"><a href="#3-1-4-Flow-Control" class="headerlink" title="3.1.4 Flow Control"></a>3.1.4 Flow Control</h2><ul>
<li><p>两种流量控制</p>
<ul>
<li>基于反馈信息的流量控制 feedback</li>
<li>基于速率的流量控制（主要是网络层，一种内嵌的机制，浅显的理解是限制速率）rate-based</li>
</ul>
</li>
<li><p>流量控制协议</p>
<ul>
<li>停等 Stop And Wait</li>
<li>滑动窗口 Sliding Window</li>
</ul>
</li>
</ul>
<h1 id="3-2-差错检测和纠正"><a href="#3-2-差错检测和纠正" class="headerlink" title="3.2 差错检测和纠正"></a>3.2 差错检测和纠正</h1><ul>
<li>错误分类<ul>
<li>lost frames：一个数据帧完全没能传过去，常常是因为噪音或者掉队</li>
<li>damaged frames：一些bit错了</li>
</ul>
</li>
<li>差错检测<ul>
<li>奇偶校验码(parity):检测单比特错误</li>
<li>循环冗余校验。Cyclic Redundancy Check:CRC: detecting some burst errors</li>
<li>自动重发请求。Atuomatic Repeat reQuest:ARQ</li>
</ul>
</li>
<li>差错纠正<ul>
<li>前向纠错 FEC</li>
</ul>
</li>
</ul>
<p><img src="https://api2.mubu.com/v3/document_image/65092c06-d622-46dd-96c1-0ece51842b7f-14970684.jpg" alt="5.png"></p>
<h2 id="3-2-1-纠错码"><a href="#3-2-1-纠错码" class="headerlink" title="3.2.1 纠错码"></a>3.2.1 纠错码</h2><p>书上四种纠错编码。只考察海明和奇偶。</p>
<h3 id="海明码"><a href="#海明码" class="headerlink" title="海明码"></a>海明码</h3><blockquote>
<p>补充：海明距离Hamming<br>两个编码异或之后为1的位数<br>检测到d个errors，需要distance为d+1的编码<br>纠正d个errors，需要distance为2d+1的编码<br>这里的距离指的是码表上任意两个编码之间的hamming距离，取最小。对于已知的检错方法，要确定能够检测出几个error应该考虑最坏的情况。</p>
</blockquote>
<p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="16.487ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 7287.3 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(389,0)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(1489.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(2489.4,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3162.7,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(4162.9,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(4662.9,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(5329.7,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="msup" transform="translate(6385.4,0)"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,413) scale(0.707)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container></p>
<p>m:数据位数<br>r：所需的校验位<br>由该式可以解出需要的最少校验位</p>
<p><img src="https://api2.mubu.com/v3/document_image/164890187785875d5.jpg" alt="5.png"></p>
<p>字很潇洒。不是我的。</p>
<p>来到纠错最高城海明，哎呀这不简便算法吗。</p>
<p><img src="https://api2.mubu.com/v3/document_image/3d5adb06-27a6-45a6-b76d-940db27f12a6-14970684.jpg" alt="5.png"></p>
<p>还是看看远方的样例吧家人们</p>
<p><img src="https://api2.mubu.com/v3/document_image/fa99ab53-156a-41bc-96b9-421bcbcf1113-14970684.jpg" alt="5.png"></p>
<p>这是最多一位出错的基础上的算法。</p>
<p>突发出错海明能不能纠错呢，ppt上说可以，但没说咋可以，教材没说。</p>
<p>那就当它不行，我估计不会考海明对多位纠错。</p>
<p><strong>顺便看道题</strong>：</p>
<blockquote>
<p>To provide more reliability than a single parity bit can give, an error-detecting coding scheme uses one parity bit for checking all the odd-numbered bits and a second parity bit for all the even-numbered bits. What is the Hamming distance of this code?<br>这道题默认不加校验码的时候原编码的海明距离是1，也就是仅靠原编码本身不可以检验错误。<br>有了这个条件题目答案才很明显，加了校验码之后编码的海明距离是2。因为最多一位原编码部分不同，和一位校验码部分不同。</p>
</blockquote>
<h2 id="3-2-2-检错码"><a href="#3-2-2-检错码" class="headerlink" title="3.2.2 检错码"></a>3.2.2 检错码</h2><h3 id="Checksum-校验和"><a href="#Checksum-校验和" class="headerlink" title="Checksum 校验和"></a>Checksum 校验和</h3><p><strong>校验和（checksum）</strong>这个词通常用来指与信息相关的一组校验位，不管这些校验位是如何计算出来的。一组奇偶校验位是校验和的一个例子。然而，还有其他种类的校验和，强大的校验和基础是对消息中的数据位进行求和计算。校验和通常放置在消息的末尾，作为求和功能的补充。这样一来，通过对整个接收到的码字(包含了数据位和校验和)进行求和计算就能检测出错误。如果计算结果是零，则没有检测出错误。</p>
<blockquote>
<p>奇偶校验码即是一位校验和，现在常用的是十六位校验和<br><strong>一个书上没有但作业里有的知识点</strong>：单个位的丢失、插入或修改会导致n位校验和出错的概率是<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.781ex" xmlns="http://www.w3.org/2000/svg" width="2.607ex" height="2.737ex" role="img" focusable="false" viewBox="0 -864.9 1152.2 1209.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(399.3,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="msup" transform="translate(220,-345) scale(0.707)"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,289) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><rect width="912.2" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container>。我不知道这个咋算的，记住就行。</p>
</blockquote>
<ul>
<li><strong>交错校验（interleaving）</strong>：<ul>
<li>我们将为n列中的每列计算校验位，按k行发送全部的数据位，发送次序是从上到下发送每一行，行内数据位通常按从左到右的次序发送。在最后一行，发送n个校验位。</li>
<li>交错校验是一种将检测(或纠正)单个错误的编码转换成能检测(或纠正)突发错误的通用技术。<br><img src="https://api2.mubu.com/v3/document_image/ba39ffd1-8e28-4d2b-bd67-43a7f74c857b-14970684.jpg" alt="5.png"></li>
</ul>
</li>
</ul>
<h3 id="CRC-循环冗余校验"><a href="#CRC-循环冗余校验" class="headerlink" title="CRC 循环冗余校验"></a>CRC 循环冗余校验</h3><p>大爹来了。</p>
<p>这玩意儿应该是属于多项式编码的。  Polynomial Code </p>
<p>多方参考了觉得我之前做的笔记里写的最清楚</p>
<p>所以照抄。</p>
<p>提一嘴，这玩意儿是模2除法，也就是直接异或，不是正常的除法。</p>
<p><img src="https://api2.mubu.com/v3/document_image/9350ebf9-7f88-49e0-a304-94f74f6def86-14970684.jpg" alt="5.png"></p>
<p><img src="https://api2.mubu.com/v3/document_image/b77377f2-8325-4f90-bfc0-5e8217601d15-14970684.jpg" alt="5.png"></p>
<p><img src="https://api2.mubu.com/v3/document_image/8bbd3642-377c-4eb3-96c5-15a22232567b-14970684.jpg" alt="5.png"></p>
<p><img src="https://api2.mubu.com/v3/document_image/275b26d7-2475-4036-b762-92c7e1c8ce32-14970684.jpg" alt="5.png"></p>
<p><img src="https://api2.mubu.com/v3/document_image/08fdf2e9-eb53-46b8-8baf-2fd57268ceb0-16175743.jpg" alt="5.png"></p>
<p>CRC的性能<br>所有的一位错误都将被检测到</p>
<p>可以捕捉到所有包含奇数个位变反的错误情形(当G（x）的因子包括x+1时)</p>
<p><strong>带r个校验位的多项式编码可以检测到所有长度小于等于r的突发错误。</strong></p>
<p>若让（x+1）是G(X)的一个因子（factor），则所有的奇数位都可以检测出来，</p>
<p><strong>如果突发错误的长度为r+1</strong>，这样一个不正确的帧被当做有效帧接收的概率是<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.854ex" xmlns="http://www.w3.org/2000/svg" width="3.884ex" height="2.811ex" role="img" focusable="false" viewBox="0 -864.9 1716.7 1242.3"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(681.6,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="msup" transform="translate(220,-377.4) scale(0.707)"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="TeXAtom" transform="translate(533,289) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(451,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(1229,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g><rect width="1476.7" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container></p>
<p>同样可以证明，<strong>当一个长度大于r+1位的突发错误发生时</strong>，或者几个短突发错误发生时，一个坏帧被当做有效帧通过检测的概率为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.781ex" xmlns="http://www.w3.org/2000/svg" width="2.438ex" height="2.737ex" role="img" focusable="false" viewBox="0 -864.9 1077.7 1209.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(362.1,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="msup" transform="translate(220,-345) scale(0.707)"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="TeXAtom" transform="translate(533,289) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g><rect width="837.7" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container></p>
<blockquote>
<p>我哪知道咋证。反正大爹是这么说的。</p>
</blockquote>
<p>为啥把CRC校验码放到帧尾：<br>如果放在帧头，则要在发送前扫描帧，计算完CRC后再从帧头开始发送。若放到帧尾，可以一边发一边计算。最后直接将CRC发送出来。</p>
<h1 id="3-3-基本数据链路层协议"><a href="#3-3-基本数据链路层协议" class="headerlink" title="3.3 基本数据链路层协议"></a>3.3 基本数据链路层协议</h1><p>有请大爹笔记。</p>
<p>一些假设</p>
<p>假设物理层、数据链路层和网络层都是独立的进程，它们通过来回传递消计算机操作系统网络接口卡息进行通信</p>
<p>机器A希望用一个可靠的、面向连接的服务向机器B发送一个长数据流。</p>
<p>假设机器不会崩溃。</p>
<p>假设有一个现成的代码，其中过程to_physical_layer发送一帧，from_physical_layer接收一帧。这些过程负责计算和附加校验和，并检查校验和是否正确(这部分工作通常由硬件完成)，</p>
<p>一些声明</p>
<p><img src="https://api2.mubu.com/v3/document_image/9049da7c-07fd-4097-bad3-fb7ae791795d-14970684.jpg" alt="5.png"></p>
<h2 id="3-3-1-一个乌托邦式的单工协议"><a href="#3-3-1-一个乌托邦式的单工协议" class="headerlink" title="3.3.1 一个乌托邦式的单工协议"></a>3.3.1 一个乌托邦式的单工协议</h2><p>无差错的channel，完美的接收者，源源不断的发送</p>
<p><img src="https://api2.mubu.com/v3/document_image/151cad89-7dc2-4d79-bf04-894b4e041746-14970684.jpg" alt="5.png"></p>
<p>就几行，基本就是网络层交互，缓存和物理层交互。没啥可说的。</p>
<h2 id="3-3-2-无错信道上的单工停等协议"><a href="#3-3-2-无错信道上的单工停等协议" class="headerlink" title="3.3.2 无错信道上的单工停等协议"></a>3.3.2 无错信道上的单工停等协议</h2><p>现在我们将处理这样的问题：发送方以高于接收方能处理到达帧的速度发送帧，导致接收方被淹没。这种情形实际上很容易出现，因此协议是否能够防止它非常重要。然而， 我们仍然假设通信信道不会出错，并且数据流量还是单工的。</p>
<p>也就是考虑flow control，仍然是完美的信道</p>
<p><img src="https://api2.mubu.com/v3/document_image/95337317-38fe-42fc-84cf-c35083227c60-14970684.jpg" alt="5.png"></p>
<p>多了个发送和等待确认帧的过程。其他的没啥区别</p>
<h2 id="3-3-3-有错信道的单工停等协议"><a href="#3-3-3-有错信道的单工停等协议" class="headerlink" title="3.3.3 有错信道的单工停等协议"></a>3.3.3 有错信道的单工停等协议</h2><p>序号简化</p>
<p>一位序号(0或者1)就足以解决问题。在任何一个时刻，接收方期望下一个特定的序号。当包含正确序号的帧到来时，它被接受下来并且被传递给网络层。然后，接收方期待的下一个的序号模2増1(即0变成1，1变成0)。任何一个到达的帧，如果包含了错误序号都将作为重复帧而遭到拒绝。不过，最后一个有效的确认要被重复，以便发送方最终发现已经被接收的那个帧。</p>
<p>自动重复请求(ARQ, Automatic Repeat request)<br>如果在一个协议中，发送方在前移到下一个数据之前必须等待一个肯定确认，这样的协议称为自动重复请求(ARQ, Automatic Repeat request)或带有重传的肯定确认(PAR, Positive Acknowledgement with Retransmission)</p>
<p>重传机制的肯定确认协议<br><img src="https://api2.mubu.com/v3/document_image/f4ac1906-8cbd-48ed-a5c0-13056601693b-14970684.jpg" alt="5.png"></p>
<p>上面这个是没考虑差错控制的，考虑差错控制的肯定确认协议如下：<br>Sender:<br> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">从网络层获取一个分组放入buffer</span><br><span class="line">发送buffer中的数据，新启动定时器</span><br><span class="line">label1:</span><br><span class="line">wait_for_event()</span><br><span class="line"><span class="keyword">switch</span> (event) {</span><br><span class="line"><span class="keyword">case</span> 收到了坏帧(校验和错):</span><br><span class="line">     重发缓冲在buffer里的数据，重新启动定时器</span><br><span class="line">     <span class="comment">//这里的"重新"和"新"都是指从头开始启动计时器</span></span><br><span class="line"><span class="keyword">case</span> 定时器超时：</span><br><span class="line">     重发缓冲在buffer里的数据，新启动定时器</span><br><span class="line"><span class="keyword">case</span> 收到校验和正确的帧：</span><br><span class="line">     <span class="keyword">if</span>（ack序号正确） {</span><br><span class="line">        关闭旧定时器</span><br><span class="line">        从网络层获取下一个分组放入buffer</span><br><span class="line">        发送buffer中的数据，新启动定时器</span><br><span class="line">     } <span class="keyword">else</span> </span><br><span class="line">         重发缓冲在buffer里的数据，重新启动定时器</span><br><span class="line">}</span><br><span class="line"><span class="keyword">goto</span> label1</span><br></pre></td></tr></table></figure></p>
<p> Reciver:<br> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">frame_expected=<span class="number">0</span></span><br><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>) {</span><br><span class="line">   wait_for_event()</span><br><span class="line">   <span class="keyword">switch</span>(event) {</span><br><span class="line">   <span class="keyword">case</span> 坏帧：</span><br><span class="line">      do_nothing</span><br><span class="line">   <span class="keyword">case</span> 收到校验和正确的数据帧:</span><br><span class="line">      <span class="keyword">if</span>（序号==frame_expected） {</span><br><span class="line">         向网络层上交分组</span><br><span class="line">         回ACK（序号为frame_expected)</span><br><span class="line">         inc(frame_expected)</span><br><span class="line">      }  <span class="keyword">else</span> {</span><br><span class="line">         回ACK（序号为frame_expected<span class="number">-1</span>)</span><br><span class="line">      }</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<h1 id="3-4-滑动窗口协议"><a href="#3-4-滑动窗口协议" class="headerlink" title="3.4 滑动窗口协议"></a>3.4 滑动窗口协议</h1><p>Sliding Window!</p>
<ul>
<li>PiggyBacking<ul>
<li>当到达一个数据帧时，接收方并不是立即发送一个单独的控制帧，而是抑制自己并开始等待，直到网络层传递给它下一个要发送的数据包。然后，确认信息被附加在往外发送的数据帧上(使用帧头的ack字段)。实际上，确认信息搭了下一个出境数据帧的便车。这种暂时延缓确认以便将确认信息搭载在下一个出境数椐帧上的技术就称为捎带确认(piggybacking)</li>
</ul>
</li>
</ul>
<p>发送窗口和接收窗口的定义一大段，懒得放了。</p>
<p><img src="https://api2.mubu.com/v3/document_image/8429a647-650f-4810-9edb-fb70ffc66114-14970684.jpg" alt="5.png"></p>
<h2 id="3-4-1-1位滑动窗口协议"><a href="#3-4-1-1位滑动窗口协议" class="headerlink" title="3.4.1 1位滑动窗口协议"></a>3.4.1 1位滑动窗口协议</h2><p>用的是捎带确认，双工。</p>
<p><img src="https://api2.mubu.com/v3/document_image/34ec5693-f7d1-45ee-a02d-c40e5a75e4c9-14970684.jpg" alt="5.png"></p>
<p>除了捎带以外跟停等没太大区别。</p>
<h2 id="3-4-2-回退N帧协议-GBN"><a href="#3-4-2-回退N帧协议-GBN" class="headerlink" title="3.4.2 回退N帧协议 GBN"></a>3.4.2 回退N帧协议 GBN</h2><p>这一块ppt跟大爹笔记都挺乱的。</p>
<p>我随便写写意思意思。</p>
<ul>
<li><p><strong>累积确认</strong>：对于采用GBN的接收方，可以采用累积确认的方式。即接收方<strong>不一定</strong>要对收到的数据分组<strong>逐个发送确认</strong>，而是可以在收到几个数据分组后（由具体实现决定），对<strong>按序到达的最后一个数据分组发送确认</strong>。<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex" xmlns="http://www.w3.org/2000/svg" width="6.381ex" height="1.977ex" role="img" focusable="false" viewBox="0 -716 2820.3 873.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="mi" transform="translate(750,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="msub" transform="translate(1510,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(836,-150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container>表示序号为n之前的所有数据分组都已经被正确接收。</p>
<blockquote>
<p>累积确认的一个好处是ACK丢失的影响会变小，有时即便确认分组丢失，发送方也不必进行数据分组重传.</p>
</blockquote>
</li>
<li><p>计时器：因为协议5有多个未被确认的帧，所以逻辑上它需要多个计时器，即每一个未被确认的帧都需要一个计时器</p>
</li>
</ul>
<p>捎带确认，累积确认。<br><img src="https://api2.mubu.com/v3/document_image/0447ffc8-00bc-4777-aa73-72be0e2f3c1b-14970684.jpg" alt="5.png"></p>
<p><img src="https://api2.mubu.com/v3/document_image/88d5dc90-6956-45ba-9198-381ee53d91fe-14970684.jpg" alt="5.png"></p>
<h2 id="3-4-3-选择重传协议"><a href="#3-4-3-选择重传协议" class="headerlink" title="3.4.3 选择重传协议"></a>3.4.3 选择重传协议</h2><p>由于GBN的<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.373ex" xmlns="http://www.w3.org/2000/svg" width="3.538ex" height="1.918ex" role="img" focusable="false" viewBox="0 -683 1563.7 847.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g><g data-mml-node="mi" transform="translate(977,-150) scale(0.707)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g></g></g></g></svg></mjx-container>只能等于1，因此一个数据分组的误码会导致后续多个数据分组不被接收而被丢弃。这会导致发送方对这些数据分组的超时重传，显然这是对通信资源的极大浪费。为了进一步提高性能，可以设法只重传出现误码的数据分组，因此，接收窗口尺寸<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.373ex" xmlns="http://www.w3.org/2000/svg" width="3.538ex" height="1.918ex" role="img" focusable="false" viewBox="0 -683 1563.7 847.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g><g data-mml-node="mi" transform="translate(977,-150) scale(0.707)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g></g></g></g></svg></mjx-container><strong>应当大于1</strong>.以便接收方先收下<strong>失序到达但无误码并且序号落在接收窗口内的那些数据分组。</strong>等到所缺分组收齐后再一并送交上层。这就是<strong>选择重传协议</strong><br><del>&gt;<strong>注意</strong>：选择重传协议为了使发送方仅重传出现差错的分组，接收方<strong>不能再采用累积确认</strong>，而需要对每个正确接收到的分组进行逐一确认。</del><br>不一定，有时候sr也可以采取累计确认。比如下面教材给的代码。不过这会导致一些别的细节问题。</p>
<p><img src="https://api2.mubu.com/v3/document_image/21557385-b9a1-47ec-9597-b1309d8dd911-14970684.jpg" alt="5.png"></p>
<p><img src="https://api2.mubu.com/v3/document_image/b6b0f4ae-d191-44d6-8be6-4f03a3fe475e-14970684.jpg" alt="5.png"></p>
<p>其中<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.339ex" xmlns="http://www.w3.org/2000/svg" width="3.45ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1524.8 833"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g><g data-mml-node="mi" transform="translate(977,-150) scale(0.707)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g></g></g></g></svg></mjx-container>的取数规则<strong>和GBN不同</strong>，而<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.373ex" xmlns="http://www.w3.org/2000/svg" width="14.153ex" height="1.918ex" role="img" focusable="false" viewBox="0 -683 6255.6 847.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(777.8,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="msub" transform="translate(1833.6,0)"><g data-mml-node="mi"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g><g data-mml-node="mi" transform="translate(977,-150) scale(0.707)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g></g><g data-mml-node="mo" transform="translate(3675,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="msub" transform="translate(4730.8,0)"><g data-mml-node="mi"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g><g data-mml-node="mi" transform="translate(977,-150) scale(0.707)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g></g></g></g></svg></mjx-container>。</p>
<blockquote>
<p>我上次的笔记这里写错了。检查一下改过来。</p>
</blockquote>
<p>接收方只要接收了相应的分组，都会对发送方发送确认分组。但只有在按序接收的情况下，接收窗口才会向后滑动。而发送方只要接收到了确认分组，都会对相应的数据分组进行标记，以表明该分组已经发送成功。但只有在按序标记完的情况下，发送窗口才会向后滑动。</p>
<p>同时选择重传协议的代码中引入NAK</p>
<p><strong>在SR协议中，发送端对每一个发送帧都配备了一个缓冲区辅助计时器。这些辅助计时器通常不是同时启动，因此每次发生超时事件的时候都是只有一个缓冲区辅助计时器超时，那么这个时候只重发一个帧。</strong></p>
<p>当接收方有理由怀疑出现了错误时，它就给发送方返回一个否定确认(NAK)帧。这样的帧实际上是一个重传请求，在NAK中指定了要重传的帧。在两种情况下，接收方要特别注意：接收到一个受损的帧，或者到达的帧并非是自己所期望的(可能出现丢帧错误)。为了避免多次请求重传同一个丢失帧，接收方应该记录下对于某一帧是否已经发送过NAK。</p>
<p><img src="https://api2.mubu.com/v3/document_image/c46bde07-5c18-4685-980c-00043f2e9316-14970684.jpg" alt="5.png"></p>
<blockquote>
<p><strong>注意：SR协议里的MAX_SEQ不可以是偶数</strong>。如果是偶数，因为向零舍入，导致(MAX_SEQ+1)/2 = (MAX_SEQ)/2 = NR_BUF 。而 0%NR_BUF = MAX_SEQ%NR_BUF，也就是说当接收窗口横跨MAX_SEQ和0时，这二者共用同一块缓存。此时可能导致上传网络层的包顺序错误。（即当MAX_SEQ帧丢失，0号帧到达，会直接上传0号帧。</p>
</blockquote>
<h2 id="Performance-of-Sliding-Window-Protocols"><a href="#Performance-of-Sliding-Window-Protocols" class="headerlink" title="Performance of  Sliding Window Protocols"></a>Performance of  Sliding Window Protocols</h2><p>PPT中间插的一节</p>
<p>没啥东西，背公式的。</p>
<p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="21.886ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 9673.6 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z"></path></g><g data-mml-node="mo" transform="translate(917.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1973.6,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">传</text></g><g data-mml-node="mi" transform="translate(2873.6,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">播</text></g><g data-mml-node="mi" transform="translate(3773.6,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">时</text></g><g data-mml-node="mi" transform="translate(4673.6,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">延</text></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(5573.6,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path></g></g><g data-mml-node="mi" transform="translate(6073.6,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">发</text></g><g data-mml-node="mi" transform="translate(6973.6,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">送</text></g><g data-mml-node="mi" transform="translate(7873.6,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">时</text></g><g data-mml-node="mi" transform="translate(8773.6,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">延</text></g></g></g></svg></mjx-container>。知道这个就嗯套就完事了</p>
<h3 id="Stop-and-wait-without-error"><a href="#Stop-and-wait-without-error" class="headerlink" title="Stop-and-wait   without error"></a>Stop-and-wait   without error</h3><p><img src="https://api2.mubu.com/v3/document_image/aab2d618-e813-4de8-855c-6909a1ef928d-14970684.jpg" alt="5.png"><br><img src="https://api2.mubu.com/v3/document_image/0b417693-5e95-433f-9c3c-af3e6871774f-14970684.jpg" alt="5.png"></p>
<blockquote>
<p>所以传播距离较短的时候SW还是蛮牛逼的</p>
</blockquote>
<h3 id="Stop-and-wait-with-error"><a href="#Stop-and-wait-with-error" class="headerlink" title="Stop-and-wait   with error"></a>Stop-and-wait   with error</h3><p><img src="https://api2.mubu.com/v3/document_image/bbd1c25c-a27b-475e-a0ce-08f68c51e949-14970684.jpg" alt="5.png"></p>
<h3 id="Slide-window-without-error"><a href="#Slide-window-without-error" class="headerlink" title="Slide window   without error"></a>Slide window   without error</h3><p><img src="https://api2.mubu.com/v3/document_image/851aa4fe-40d4-4e7d-a1dd-7ed08c827c9b-14970684.jpg" alt="5.png"><br>上面的这是不考虑piggybacking的效率</p>
<p>考虑Piggybacking:  U=N/(2+2a)</p>
<h1 id="3-5-数据链路协议实例"><a href="#3-5-数据链路协议实例" class="headerlink" title="3.5 数据链路协议实例"></a>3.5 数据链路协议实例</h1><h2 id="HDLC"><a href="#HDLC" class="headerlink" title="HDLC"></a>HDLC</h2><p>不咋重要。考试知道有这玩意儿就行了</p>
<h2 id="SLIP"><a href="#SLIP" class="headerlink" title="SLIP"></a>SLIP</h2><p>不咋重要。考试知道有这玩意儿就行了</p>
<h2 id="PPP"><a href="#PPP" class="headerlink" title="PPP"></a>PPP</h2><p>这个要考，比前两个重要很多。</p>
<ul>
<li><p>字节填充 byte stuffing</p>
<blockquote>
<p>ppp协议使用软件实现，而软件实现字节填充比实现字填充更方便</p>
</blockquote>
</li>
<li><p>CRC校验 FCS</p>
</li>
<li><p>无序号 无流量控制和差错控制</p>
</li>
<li><p>提供无连接无确认的服务</p>
</li>
<li><p>PPP提供的服务：</p>
<ul>
<li>定义设备之间要交换的帧的格式</li>
<li>定义两个设备怎么协商建立链路和交换数据</li>
<li>定义如何将网络层的数据封装到数据链路层的帧里</li>
<li>定义两个设备怎么相互鉴别</li>
</ul>
</li>
<li><p>PPP的三个组成部分</p>
<ul>
<li>成帧方法：网络层数据封装到串行链路的方法</li>
<li>链路控制协议LCP</li>
<li>网络控制协议NCP</li>
</ul>
</li>
<li><p>PPP子层</p>
<ul>
<li><img src="https://api2.mubu.com/v3/document_image/489bf3b9-2176-4577-9dbc-d5ca70bc4031-14970684.jpg" alt="5.png"></li>
</ul>
</li>
<li><p>PPP帧格式</p>
<ul>
<li><img src="https://api2.mubu.com/v3/document_image/926e61ec-03e2-4a28-94a8-120783212e48-14970684.jpg" alt="5.png"></li>
<li><img src="https://api2.mubu.com/v3/document_image/02c7ea40-e475-4558-8c55-ad55920c4473-14970684.jpg" alt="5.png"></li>
</ul>
</li>
</ul>
<p><strong>最小开销：</strong>两个标志字节，一个协议字节，两个校验字节，共五个字节<br><strong>最大开销：</strong>两个标志字节，一个地址字节，一个控制字节，两个协议字节，四个字节，共十个字节</p>
<ul>
<li>标志字节如果出现在Payload字段，则要用转义字节0x7D去填充；然后将紧跟在后面的那个字节与0x20进行XOR操作，如此转义使得第6位比特反转。例如0x7D0x5E是标志字节0x7E的转义序列。这意味着只需要简单扫描0x7E就能找出帧的开始和结束之处因为这个字节不可能出现在其他地方。接收到一个帧后要去掉填充字节。具体做法是，扫描搜索0x7D，发现后立即除；然后用0x20对紧跟在后面的那个字节进行XOR操作。</li>
<li>PPP协议相图<ul>
<li><img src="https://api2.mubu.com/v3/document_image/fb9f223e-07c7-488d-b23f-d33136c5be42-14970684.jpg" alt="5.png"></li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mushroom323.github.io/2022/04/17/jiwang_3/" data-id="cl65b7xff000u5ktbewk0a0jt" class="article-share-link">
        Share
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%A1%E7%BD%91/" rel="tag">计网</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-GO_4" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      

<h2 itemprop="name">
  <a class="article-title" href="/2022/04/14/GO_4/">Go实现NFA转DFA</a>
</h2>



    </header>
    

    
    <div class="article-meta">
      <a href="/2022/04/14/GO_4/" class="article-date">
  <time datetime="2022-04-13T17:01:37.000Z" itemprop="datePublished">2022-04-14</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
      <p>自动机的弱智实验。</p>
<p>组里有人发了个前几年别人写的C++实现。</p>
<p>看了下他的代码，c++的特性使用基本为0，对象属于是一点没面对，问题一大堆。好消息是改成GO或者C都很轻松。</p>
<p>看了眼把他思路弄明白了就直接Go开写了。Go的特性简化了很多流程，总体来说比他的优化了不少。一晚上弄完了，回头还打了把哈迪斯。</p>
<h1 id="看看用了啥包被"><a href="#看看用了啥包被" class="headerlink" title="看看用了啥包被"></a>看看用了啥包被</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"io/ioutil"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">	<span class="string">"strings"</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>fmt不说了。这个不放进来那也别写了。</p>
<p>io用来文件输入输出。</p>
<p>os光用来exit了。一只手数的过来的错误检测。</p>
<p>strings处理一下输入输出的行。</p>
<h1 id="搞搞输入输出"><a href="#搞搞输入输出" class="headerlink" title="搞搞输入输出"></a>搞搞输入输出</h1><p>输入这样</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Q = {q0,q1,q2,q3}</span><br><span class="line">I = {q0}</span><br><span class="line">F = {q3}</span><br><span class="line">Sigma = {a,b,c}</span><br><span class="line">Delta(q0,a) = q1</span><br><span class="line">Delta(q0,a) = q2</span><br><span class="line">Delta(q1,b) = q1</span><br><span class="line">Delta(q1,b) = q3</span><br><span class="line">Delta(q1,c) = q2</span><br><span class="line">Delta(q2,a) = q3</span><br><span class="line">Delta(q3,b) = q2</span><br></pre></td></tr></table></figure>

<p>输出这样</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Q = {{q0},{q1,q2},{q3},{q1,q3},{q2},{q1,q3,q2}}</span><br><span class="line">Init = {q0}</span><br><span class="line">F = {{q3},{q1,q3},{q1,q3,q2}}</span><br><span class="line">Sigma = {a,b,c}</span><br><span class="line">Delta({q0},a)={q1,q2}</span><br><span class="line">Delta({q1,q2},a)={q3}</span><br><span class="line">Delta({q1,q2},b)={q1,q3}</span><br><span class="line">Delta({q1,q2},c)={q2}</span><br><span class="line">Delta({q3},b)={q2}</span><br><span class="line">Delta({q1,q3},b)={q1,q3,q2}</span><br><span class="line">Delta({q1,q3},c)={q2}</span><br><span class="line">Delta({q2},a)={q3}</span><br><span class="line">Delta({q1,q3,q2},a)={q3}</span><br><span class="line">Delta({q1,q3,q2},b)={q1,q3,q2}</span><br><span class="line">Delta({q1,q3,q2},c)={q2}</span><br></pre></td></tr></table></figure>

<p>这个输入输出的格式还是抄的C++的那个。</p>
<p>处理起来确实麻烦。但好看还是挺好看的。有点爽。</p>
<h1 id="咋实现的捏"><a href="#咋实现的捏" class="headerlink" title="咋实现的捏"></a>咋实现的捏</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"io/ioutil"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">	<span class="string">"strings"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//反正我自己一个人写的代码，爱用多少全局就多少全局</span></span><br><span class="line"><span class="comment">//好爽</span></span><br><span class="line"><span class="keyword">var</span> numberOfTrans <span class="keyword">int</span>       <span class="comment">//NFA的delta个数</span></span><br><span class="line"><span class="keyword">var</span> stateNFA []<span class="keyword">string</span>       <span class="comment">//NFA的状态集</span></span><br><span class="line"><span class="keyword">var</span> initialNFA <span class="keyword">string</span>       <span class="comment">//NFA的起始状态</span></span><br><span class="line"><span class="keyword">var</span> endNFA []<span class="keyword">string</span>         <span class="comment">//NFA的终止状态</span></span><br><span class="line"><span class="keyword">var</span> letterList []<span class="keyword">string</span>     <span class="comment">//防止用户发神经给用一长串输入代表字符，所以string</span></span><br><span class="line"><span class="comment">/*嵌套map套slice。我自己看的都胆战心惊*/</span></span><br><span class="line"><span class="keyword">var</span> transitionNFA = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">map</span>[<span class="keyword">string</span>][]<span class="keyword">string</span>) <span class="comment">//用的map，方便直接操作。第一个string是state，第二个string是letter，第三个[]string是nextstate</span></span><br><span class="line"><span class="keyword">var</span> initialDFA <span class="keyword">string</span></span><br><span class="line"><span class="keyword">var</span> endDFA []<span class="keyword">string</span></span><br><span class="line"><span class="keyword">var</span> stateDFA []<span class="keyword">string</span></span><br><span class="line"><span class="keyword">var</span> transitionDFA = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>) <span class="comment">//DFA的nextstate确定只有一个，所以最后一个string不是slice</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	ReadFiles() <span class="comment">//小读一手输入文件</span></span><br><span class="line">	<span class="comment">/*测试输出NFA的状态转移表*/</span></span><br><span class="line">	<span class="comment">/*for _,state := range stateNFA {</span></span><br><span class="line"><span class="comment">		for _,letter := range letterList {</span></span><br><span class="line"><span class="comment">			_,exist := transitionNFA[state][letter]</span></span><br><span class="line"><span class="comment">			if exist {</span></span><br><span class="line"><span class="comment">				for _,nextstate := range transitionNFA[state][letter] {</span></span><br><span class="line"><span class="comment">					fmt.Println(state,letter,nextstate)</span></span><br><span class="line"><span class="comment">				}</span></span><br><span class="line"><span class="comment">			}</span></span><br><span class="line"><span class="comment">		}</span></span><br><span class="line"><span class="comment">	}*/</span></span><br><span class="line">	initialDFA = initialNFA                 <span class="comment">//DFA和NFA的起始状态都是一样的</span></span><br><span class="line">	stateDFA = <span class="built_in">append</span>(stateDFA, initialDFA) <span class="comment">//把起始状态压进去</span></span><br><span class="line">	endDFA = endNFA <span class="comment">//先把end状态装载一部分进去</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> stateCount <span class="keyword">int</span> = <span class="number">0</span>       <span class="comment">//进入计算过的DFA的状态计数</span></span><br><span class="line">	<span class="keyword">var</span> stateSize <span class="keyword">int</span> = <span class="number">1</span>        <span class="comment">//DFA此时的状态计数</span></span><br><span class="line">	<span class="keyword">for</span> stateCount &lt; stateSize { <span class="comment">//只要DFA的状态没有全部进入过计算就继续循环</span></span><br><span class="line">		CalculateStates(stateDFA[stateCount])</span><br><span class="line">		stateCount++</span><br><span class="line">		stateSize = <span class="built_in">len</span>(stateDFA)</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/*测试输出DFA的状态转换表*/</span></span><br><span class="line">	<span class="comment">/*for _,state := range stateDFA {</span></span><br><span class="line"><span class="comment">		for _,letter := range letterList {</span></span><br><span class="line"><span class="comment">			nextState,exist := transitionDFA[state][letter]</span></span><br><span class="line"><span class="comment">			if exist {</span></span><br><span class="line"><span class="comment">				fmt.Println(state,letter,nextState)</span></span><br><span class="line"><span class="comment">			}</span></span><br><span class="line"><span class="comment">		}</span></span><br><span class="line"><span class="comment">	}*/</span></span><br><span class="line">	WriteFile()</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">写文件的方式很多，这里随便写一个</span></span><br><span class="line"><span class="comment">没啥好的缩减的办法。只能嗯写，暴力写很长</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">WriteFile</span><span class="params">()</span></span> {</span><br><span class="line">	file,err := os.Create(<span class="string">"output.txt"</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">		fmt.Println(<span class="string">"创建 output.txt 文件失败"</span>)</span><br><span class="line">		file.Close()</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">var</span> out []<span class="keyword">string</span></span><br><span class="line">	<span class="comment">//输出第一行</span></span><br><span class="line">	outline := <span class="string">"Q = {"</span></span><br><span class="line">	<span class="keyword">for</span> _,state := <span class="keyword">range</span> stateDFA {</span><br><span class="line">		<span class="keyword">if</span> outline == <span class="string">"Q = {"</span> {</span><br><span class="line">			outline = outline +<span class="string">"{"</span> + state + <span class="string">"}"</span> </span><br><span class="line">		} <span class="keyword">else</span> {</span><br><span class="line"></span><br><span class="line">			outline += <span class="string">","</span></span><br><span class="line">			outline = outline +<span class="string">"{"</span> + state + <span class="string">"}"</span> </span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	outline += <span class="string">"}"</span></span><br><span class="line">	out = <span class="built_in">append</span>(out, outline)</span><br><span class="line">	<span class="comment">//输出第二行</span></span><br><span class="line">	outline = <span class="string">"Init = {"</span></span><br><span class="line">	outline += initialDFA </span><br><span class="line">	outline += <span class="string">"}"</span></span><br><span class="line">	out = <span class="built_in">append</span>(out, outline)</span><br><span class="line">	<span class="comment">//输出第三行</span></span><br><span class="line">	outline = <span class="string">"F = {"</span></span><br><span class="line">	<span class="keyword">for</span> _,state := <span class="keyword">range</span> endDFA {</span><br><span class="line">		<span class="keyword">if</span> outline == <span class="string">"F = {"</span> {</span><br><span class="line">			outline = outline +<span class="string">"{"</span> + state + <span class="string">"}"</span> </span><br><span class="line">		} <span class="keyword">else</span> {</span><br><span class="line">			outline += <span class="string">","</span></span><br><span class="line">			outline = outline +<span class="string">"{"</span> + state + <span class="string">"}"</span> </span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	outline += <span class="string">"}"</span></span><br><span class="line">	out = <span class="built_in">append</span>(out, outline)</span><br><span class="line">	<span class="comment">//输出第四行</span></span><br><span class="line">	outline = <span class="string">"Sigma = {"</span></span><br><span class="line">	<span class="keyword">for</span> _,letter := <span class="keyword">range</span> letterList {</span><br><span class="line">		<span class="keyword">if</span> outline == <span class="string">"Sigma = {"</span> {</span><br><span class="line">			outline += letter</span><br><span class="line">		} <span class="keyword">else</span> {</span><br><span class="line">			outline += <span class="string">","</span></span><br><span class="line">			outline += letter</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	outline += <span class="string">"}"</span></span><br><span class="line">	out = <span class="built_in">append</span>(out, outline)</span><br><span class="line">	<span class="comment">//输出第五行开外</span></span><br><span class="line">	<span class="keyword">for</span> _,state := <span class="keyword">range</span> stateDFA {</span><br><span class="line">		<span class="keyword">for</span> _,letter := <span class="keyword">range</span> letterList {</span><br><span class="line">			nextState,exist := transitionDFA[state][letter]</span><br><span class="line">			<span class="keyword">if</span> exist {</span><br><span class="line">				outline = <span class="string">"Delta("</span> +<span class="string">"{"</span> + state + <span class="string">"}"</span>  + <span class="string">","</span> + letter + <span class="string">")"</span> + <span class="string">"="</span> + <span class="string">"{"</span> + nextState + <span class="string">"}"</span></span><br><span class="line">				out = <span class="built_in">append</span>(out, outline)</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> _,v := <span class="keyword">range</span> out {</span><br><span class="line">		fmt.Fprintln(file,v)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">            fmt.Println(err)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        }</span><br><span class="line">	}</span><br><span class="line">	err = file.Close()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">        fmt.Println(err)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">CalculateStates</span><span class="params">(state <span class="keyword">string</span>)</span></span> {</span><br><span class="line">	<span class="keyword">for</span> _, letter := <span class="keyword">range</span> letterList {</span><br><span class="line">		nextState := Calculate(state, letter)</span><br><span class="line">		flag := <span class="literal">false</span> <span class="comment">//flag用于判断已有状态里有没有刚推导出来的状态</span></span><br><span class="line">		<span class="keyword">for</span> _, stateTemp := <span class="keyword">range</span> stateDFA {</span><br><span class="line">			<span class="keyword">if</span> nextState == stateTemp {</span><br><span class="line">				flag = <span class="literal">true</span></span><br><span class="line">				<span class="keyword">break</span></span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span> nextState != <span class="string">""</span> { <span class="comment">//只要nextState不是空的都可以填入DFA的状态转换表。nextState重复不影响DFA的状态转换表里出现新的转换</span></span><br><span class="line">			<span class="keyword">if</span> <span class="built_in">len</span>(transitionDFA[state]) == <span class="number">0</span> {</span><br><span class="line">				transitionDFA[state] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line">			}</span><br><span class="line">			transitionDFA[state][letter] = nextState</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span> !flag &amp;&amp; nextState != <span class="string">""</span> { <span class="comment">//只要nextState不是重复都可以放到stateDFA里</span></span><br><span class="line">			stateDFA = <span class="built_in">append</span>(stateDFA, nextState)</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Calculate</span><span class="params">(state <span class="keyword">string</span>, letter <span class="keyword">string</span>)</span> <span class="title">string</span></span> {</span><br><span class="line">	nextState := <span class="string">""</span></span><br><span class="line">	<span class="comment">/*下面两个分支可以合并，但会导致复杂度上升，所以切开写了*/</span></span><br><span class="line">	<span class="keyword">if</span> !strings.Contains(state, <span class="string">","</span>) { <span class="comment">//判断是不是状态集合</span></span><br><span class="line">		<span class="comment">/*因为不是状态集合，也就是NFA已有的单个状态，所以直接套NFA的状态转换集*/</span></span><br><span class="line">		<span class="keyword">for</span> _, stateTemp := <span class="keyword">range</span> transitionNFA[state][letter] {</span><br><span class="line">			<span class="keyword">if</span> nextState == <span class="string">""</span> {</span><br><span class="line">				nextState = stateTemp</span><br><span class="line">			} <span class="keyword">else</span> {</span><br><span class="line">				nextState += <span class="string">","</span> <span class="comment">//多么丝滑的字符串拼接</span></span><br><span class="line">				nextState += stateTemp</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> nextState</span><br><span class="line">	} <span class="keyword">else</span> {</span><br><span class="line">		<span class="comment">/*如果是状态集合，就要切开来分析*/</span></span><br><span class="line">		<span class="keyword">var</span> nextStateSet []<span class="keyword">string</span></span><br><span class="line">		multiState := strings.Split(state, <span class="string">","</span>)</span><br><span class="line">		<span class="comment">/*趁机判断这个状态是不是endState*/</span></span><br><span class="line">		<span class="keyword">if</span> letter == letterList[<span class="number">0</span>] {	<span class="comment">//免得重复算</span></span><br><span class="line">			<span class="keyword">for</span> _,oneEndState := <span class="keyword">range</span> endNFA {</span><br><span class="line">				<span class="keyword">for</span> _,oneState := <span class="keyword">range</span> multiState{</span><br><span class="line">					<span class="keyword">if</span> oneState == oneEndState {</span><br><span class="line">						endDFA = <span class="built_in">append</span>(endDFA, state) <span class="comment">//是的话直接加进去，省的以后单独再切一遍</span></span><br><span class="line">					}</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="comment">/*三重嵌套。非常傻逼。以后有空看看怎么优化*/</span></span><br><span class="line">		<span class="keyword">for</span> _, oneState := <span class="keyword">range</span> multiState { <span class="comment">//遍历状态集合里的所有状态。这好像是第一个嵌套循环</span></span><br><span class="line">			<span class="keyword">for</span> _, oneNextState := <span class="keyword">range</span> transitionNFA[oneState][letter] {</span><br><span class="line">				flag := <span class="literal">false</span> <span class="comment">//用来判断这个oneNextstate有没有在nextStateSet里出现过</span></span><br><span class="line">				<span class="keyword">for</span> _, judgeState := <span class="keyword">range</span> nextStateSet {</span><br><span class="line">					<span class="keyword">if</span> oneNextState == judgeState {</span><br><span class="line">						flag = <span class="literal">true</span></span><br><span class="line">						<span class="keyword">break</span></span><br><span class="line">					}</span><br><span class="line">				}</span><br><span class="line">				<span class="keyword">if</span> nextState == <span class="string">""</span> {</span><br><span class="line">					nextState = oneNextState</span><br><span class="line">					nextStateSet = <span class="built_in">append</span>(nextStateSet, oneNextState)</span><br><span class="line">				} <span class="keyword">else</span> <span class="keyword">if</span> !flag {</span><br><span class="line">					nextState += <span class="string">","</span></span><br><span class="line">					nextState += oneNextState</span><br><span class="line">					nextStateSet = <span class="built_in">append</span>(nextStateSet, oneNextState) <span class="comment">//把所有可能而非重复的nextstate都加到nextstate的集合里</span></span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> nextState</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReadFiles</span><span class="params">()</span></span> {</span><br><span class="line">	lines, err := ioutil.ReadFile(<span class="string">"input.txt"</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">		fmt.Println(<span class="string">"读取文件错误，请确保 input.txt 文件处在根目录文件夹下"</span>)</span><br><span class="line">		os.Exit(<span class="number">1</span>)</span><br><span class="line">	} <span class="keyword">else</span> {</span><br><span class="line">		contents := <span class="keyword">string</span>(lines)</span><br><span class="line">		lines := strings.Split(contents, <span class="string">"\n"</span>) <span class="comment">//按照换行符对文件文本进行分割</span></span><br><span class="line">		<span class="keyword">for</span> index, line := <span class="keyword">range</span> lines {</span><br><span class="line">			<span class="keyword">if</span> index == <span class="number">0</span> { <span class="comment">//读取第一行，即NFA的所有状态</span></span><br><span class="line">				tmp := strings.Replace(line, <span class="string">"Q = {"</span>, <span class="string">""</span>, <span class="number">-1</span>) <span class="comment">//删除字符串里的前缀。trim只能删前后，中间删不了</span></span><br><span class="line">				<span class="comment">/*</span></span><br><span class="line"><span class="comment">					这里说一下trim和replace删减字符串的区别</span></span><br><span class="line"><span class="comment">					trim只能删前后，但是是匹配到多少删多少，也就是说你trim里如果是"Sigma"，而字符串的开头是"igmaa"，trim就会把这个开头全删了。中间隔一个应该就没影响了。</span></span><br><span class="line"><span class="comment">					replace是一定要完全匹配才能开换，所以比trim稳定不少。</span></span><br><span class="line"><span class="comment">					总之trim不咋好用就是，用来删点\r \n倒是差不多</span></span><br><span class="line"><span class="comment">				*/</span></span><br><span class="line">				tmp = strings.Trim(tmp, <span class="string">"\r"</span>)             <span class="comment">//记得有 \r 要删</span></span><br><span class="line">				temp := strings.Replace(tmp, <span class="string">"}"</span>, <span class="string">""</span>, <span class="number">-1</span>) <span class="comment">//删除字符串里的后缀</span></span><br><span class="line">				stateStr := strings.Split(temp, <span class="string">","</span>)      <span class="comment">//根据","把状态切割出来</span></span><br><span class="line">				<span class="keyword">for</span> _, state := <span class="keyword">range</span> stateStr {</span><br><span class="line">					stateNFA = <span class="built_in">append</span>(stateNFA, state) <span class="comment">//遍历状态，将其放入stateNFA中</span></span><br><span class="line">				}</span><br><span class="line">			} <span class="keyword">else</span> <span class="keyword">if</span> index == <span class="number">1</span> { <span class="comment">//第二行。即起始状态</span></span><br><span class="line">				tmp := strings.Replace(line, <span class="string">"I = {"</span>, <span class="string">""</span>, <span class="number">-1</span>)</span><br><span class="line">				tmp = strings.Trim(tmp, <span class="string">"\r"</span>)</span><br><span class="line">				temp := strings.Replace(tmp, <span class="string">"}"</span>, <span class="string">""</span>, <span class="number">-1</span>)</span><br><span class="line">				initialNFA = temp <span class="comment">//没做错误检测。假设输入正确那么就只有一个状态，所以直接放进去</span></span><br><span class="line">			} <span class="keyword">else</span> <span class="keyword">if</span> index == <span class="number">2</span> { <span class="comment">//第三行，终止状态</span></span><br><span class="line">				tmp := strings.Replace(line, <span class="string">"F = {"</span>, <span class="string">""</span>, <span class="number">-1</span>)</span><br><span class="line">				tmp = strings.Trim(tmp, <span class="string">"\r"</span>)</span><br><span class="line">				temp := strings.Replace(tmp, <span class="string">"}"</span>, <span class="string">""</span>, <span class="number">-1</span>)</span><br><span class="line">				stateStr := strings.Split(temp, <span class="string">","</span>)</span><br><span class="line">				<span class="keyword">for</span> _, state := <span class="keyword">range</span> stateStr {</span><br><span class="line">					endNFA = <span class="built_in">append</span>(endNFA, state)</span><br><span class="line">				}</span><br><span class="line">			} <span class="keyword">else</span> <span class="keyword">if</span> index == <span class="number">3</span> { <span class="comment">//第四行，字符</span></span><br><span class="line">				tmp := strings.Replace(line, <span class="string">"Sigma = {"</span>, <span class="string">""</span>, <span class="number">-1</span>)</span><br><span class="line">				tmp = strings.Trim(tmp, <span class="string">"\r"</span>)</span><br><span class="line">				temp := strings.Replace(tmp, <span class="string">"}"</span>, <span class="string">""</span>, <span class="number">-1</span>)</span><br><span class="line">				letterStr := strings.Split(temp, <span class="string">","</span>)</span><br><span class="line">				<span class="keyword">for</span> _, letter := <span class="keyword">range</span> letterStr {</span><br><span class="line">					letterList = <span class="built_in">append</span>(letterList, letter)</span><br><span class="line">				}</span><br><span class="line">			} <span class="keyword">else</span> { <span class="comment">//第五行开外,也就是delta</span></span><br><span class="line">				tmp := strings.Replace(line, <span class="string">"="</span>, <span class="string">","</span>, <span class="number">-1</span>) <span class="comment">//把字符串里的 = 全部替换成 ， .方便后面切割操作</span></span><br><span class="line">				tmp = strings.Replace(tmp, <span class="string">" "</span>, <span class="string">""</span>, <span class="number">-1</span>)    <span class="comment">//顺便把空格切了。空格怪傻逼的。</span></span><br><span class="line">				tmp = strings.Replace(tmp, <span class="string">"Delta("</span>, <span class="string">""</span>, <span class="number">-1</span>)</span><br><span class="line">				tmp = strings.Trim(tmp, <span class="string">"\r"</span>)</span><br><span class="line">				temp := strings.Replace(tmp, <span class="string">")"</span>, <span class="string">""</span>, <span class="number">-1</span>) <span class="comment">//所以没有一次切多个的函数有点傻逼</span></span><br><span class="line">				deltaStr := strings.Split(temp, <span class="string">","</span>)      <span class="comment">//开切</span></span><br><span class="line">				<span class="comment">/*接下来的代码是基于该行输入为 state letter nextstate 的基础。所以没弄循环*/</span></span><br><span class="line">				<span class="keyword">if</span> <span class="built_in">len</span>(transitionNFA[deltaStr[<span class="number">0</span>]]) == <span class="number">0</span> {</span><br><span class="line">					transitionNFA[deltaStr[<span class="number">0</span>]] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>][]<span class="keyword">string</span>) <span class="comment">//再分一手空间</span></span><br><span class="line">				}</span><br><span class="line">				transitionNFA[deltaStr[<span class="number">0</span>]][deltaStr[<span class="number">1</span>]] = <span class="built_in">append</span>(transitionNFA[deltaStr[<span class="number">0</span>]][deltaStr[<span class="number">1</span>]], deltaStr[<span class="number">2</span>])</span><br><span class="line">			}</span><br><span class="line"></span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://mushroom323.github.io/2022/04/14/GO_4/" data-id="cl65b7xf6000b5ktb16yr2l6z" class="article-share-link">
        Share
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Go/" rel="tag">Go</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-night._1" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      

<h2 itemprop="name">
  <a class="article-title" href="/2022/04/12/night._1/">深夜emo_1</a>
</h2>



    </header>
    

    
    <div class="article-meta">
      <a href="/2022/04/12/night._1/" class="article-date">
  <time datetime="2022-04-11T17:15:23.000Z" itemprop="datePublished">2022-04-12</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
      <p>以后干活到一点之后就打个深夜tag放点emo屁。</p>
<p>这算是第一次。</p>
<p>赶课设的需求代码赶了两个多小时。差不太多。</p>
<p>前两个小时脑子有病拿个手机一边水群一边赶，屁效率没有完事了还被群嘲。</p>
<p>确实沾点真傻逼。</p>
<p>剩下不到一个小时打算rush一下，然后翻一下文档发现需求看错了。</p>
<p>要求传结构体，我弱智一样写了个string。</p>
<p>更傻逼了。</p>
<p>结果算了算传结构体还得写个比较函数，不然排序直接寄。</p>
<p>结果搜了搜你妈go又没有加权的比较函数，我还得自己写。</p>
<p>也可能是我自己傻逼没搜到。总之都挺傻逼的。</p>
<p>一个结构体里六个元素降序比较，嗯写了个暴力比较。我看那一串if和else想着这下傻逼到家了。</p>
<p>复制粘贴复制粘贴滚了几遍总算把需求弄完了。弄完了不想看，估计出错的bug能垒一座山。</p>
<p>反正交了。错不错不想管了。错了到时候再改就完事了。</p>
<p>摆就完事了。</p>
<p>想了想还真是。</p>
<p>真傻逼啊。</p>
<p>反正早八马原等于没课，找点小说再混两小时等昏迷。</p>
<p>迟早进坟。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mushroom323.github.io/2022/04/12/night._1/" data-id="cl65b7xfk00145ktb720y0xir" class="article-share-link">
        Share
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9D%82%E8%B0%88/" rel="tag">杂谈</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-GO_3" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      

<h2 itemprop="name">
  <a class="article-title" href="/2022/04/10/GO_3/">Go搭一个弱智本地服务器</a>
</h2>



    </header>
    

    
    <div class="article-meta">
      <a href="/2022/04/10/GO_3/" class="article-date">
  <time datetime="2022-04-10T02:59:13.000Z" itemprop="datePublished">2022-04-10</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
      <p>数据结构课设用的。前后端交互后端不给搭个本地服务器确实没法跑。</p>
<p>没研究http协议，随便看了下go开发文档里给的http包就开抄了。</p>
<p>反正只是课设用。写的多弱智都行。</p>
<p>当然弱智的估计只有我，有的大爹自己把通讯模块写了的也有，不能一概而论。</p>
<p>看看大爹：</p>
<p><img src="https://api2.mubu.com/v3/document_image/1cf7eae7-d849-4b30-9b8b-dbff8de87053-14970684.jpg" alt="看看大爹.png"></p>
<p>随便讲讲代码咋写的。不分析函数了。我自己都看不懂传的参数是在干啥。</p>
<h1 id="首先把"><a href="#首先把" class="headerlink" title="首先把"></a>首先把</h1><p>首先先把包导入了。不然写个p。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> (<span class="string">"net/http"</span>)</span><br></pre></td></tr></table></figure>
<p>我们组做的web，和前端交互那也就是和http跑协议，所以直接调的http包。</p>
<h1 id="那就开写被"><a href="#那就开写被" class="headerlink" title="那就开写被"></a>那就开写被</h1><p>先写个StartServer。</p>
<p>名字叫启动服务主要是有点仪式感。不然代码就写的跟怨妇一样了。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">StartServer</span><span class="params">()</span></span> {</span><br><span class="line">	http.HandleFunc(<span class="string">"/api/"</span>, APIHandler)</span><br><span class="line">	http.Handle(<span class="string">"/"</span>, http.FileServer(http.Dir(<span class="string">"front"</span>)))</span><br><span class="line">	<span class="keyword">go</span> ServerTest()</span><br><span class="line">	err := http.ListenAndServe(<span class="string">":5000"</span>, <span class="literal">nil</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">		Log(fmt.Sprintf(<span class="string">"Web 服务启动失败，请检查您的防火墙设置并确保 5000 端口没有被占用"</span>, port))</span><br><span class="line">		os.Exit(<span class="number">1</span>)</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>md的这个go代码做的标识是真敷衍。好丑。</p>
<p>第二行里的传的第一个参数可以改。爱咋改咋改，反正和APIHandler里的pattern对的上就行。不是很重要。</p>
<p>第三行的第一个参数就别动了，弱智服务器犯不上改那个。第二个参数是开了前端文件夹传进去了。front是前端文件夹名。</p>
<p>第四行跑了个服务器测试，晚点贴代码。测不测都行。图个好看。</p>
<p>第五行监听端口，这里监听的是 5000 。爱改其他的也行。反正都能用。</p>
<p>六七八九就是个错误检测了。爱检测就检测，不检测也没人说你。</p>
<p>反正就这几行，大致框架就搭起来了。至于具体交互的就是APIHandler里的事了。</p>
<h1 id="APIHandler"><a href="#APIHandler" class="headerlink" title="APIHandler"></a>APIHandler</h1><p>看看交互咋写被。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">APIHandler</span><span class="params">(w http.ResponseWriter, req *http.Request)</span></span> {</span><br><span class="line">	w.Header().Set(<span class="string">"Access-Control-Allow-Origin"</span>, <span class="string">"*"</span>)</span><br><span class="line">	w.Header().Set(<span class="string">"content-type"</span>, <span class="string">"application/json"</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span> req.URL.Path {</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"/api/isServing"</span>: <span class="comment">//判断web服务是否成功启动</span></span><br><span class="line">		w.Write([]<span class="keyword">byte</span>(<span class="string">"true"</span>))</span><br><span class="line">        ....</span><br><span class="line">    ....</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>大致是这样。</p>
<p>第二行和第三行改了头。不改行不行捏，我觉得行，你可以试试。</p>
<p>第六行是api名字，前端就指着这个拿东西了。</p>
<p>不从前端提数据那应该也就这样了。一直writewrite就完事了。挺直接的。</p>
<p>提数据的话就加一行.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">query := req.URL.Query()</span><br></pre></td></tr></table></figure>

<p>然后拿query给的函数开提数据，query.Get就完事了。</p>
<h1 id="整个测试函数被"><a href="#整个测试函数被" class="headerlink" title="整个测试函数被"></a>整个测试函数被</h1><p>拿现成的东西就行，都写上面了。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ServerTest</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="keyword">for</span> {</span><br><span class="line">		res, err := http.Get(<span class="string">"http://localhost:5000/api/isServing"</span>)</span><br><span class="line">		<span class="keyword">if</span> err == <span class="literal">nil</span> {</span><br><span class="line">			<span class="keyword">defer</span> res.Body.Close()</span><br><span class="line">			body, _ := ioutil.ReadAll(res.Body)</span><br><span class="line">			<span class="keyword">if</span> <span class="keyword">string</span>(body) == <span class="string">"true"</span> {</span><br><span class="line">				fmt.Println(<span class="string">"Web 服务启动成功，请访问 http://localhost:5000 进入系统"</span>)</span><br><span class="line">				<span class="keyword">break</span></span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>相当于试试 <a target="_blank" rel="noopener" href="http://localhost:5000/api/isServing">http://localhost:5000/api/isServing</a> 这个api能不能使。能使就告诉你能使。</p>
<p>用了个defer，害挺高级。不用defer自己最后关也行。 </p>
<p>前端咋提数据那得看你用啥框架。jQuery和axios不能一概而论。手搭ajax也行。</p>
<p>反正前端也不是我写的，我管不到。</p>
<p>看看前端大爹：</p>
<p><a target="_blank" rel="noopener" href="https://forksama.github.io/">前端爹</a></p>
<h1 id="没了"><a href="#没了" class="headerlink" title="没了"></a>没了</h1>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://mushroom323.github.io/2022/04/10/GO_3/" data-id="cl65b7xf400075ktbgbv3hsuz" class="article-share-link">
        Share
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Go/" rel="tag">Go</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
  </article>
  

  
  <nav class="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next</a>
  </nav>
  
</section>
</div>
    <footer class="footer">
  <div class="outer">
    <div class="float-right">
      <ul class="list-inline">
  
  <li><i class="fe fe-bar-chart"></i> <span id="busuanzi_value_site_pv"></span></li>
  
  <li><i class="fe fe-smile-alt"></i> <span id="busuanzi_value_site_uv"></span></li>
  
</ul>
    </div>
    <ul class="list-inline">
      <li>Hexo &copy; 2022</li>
      
        <li></li>
      
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>theme  <a target="_blank" rel="noopener" href="https://github.com/zhwangart/hexo-theme-ocean">Ocean</a></li>
    </ul>
  </div>
</footer>
  </main>
  <aside class="sidebar">
    <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/hexo.svg" alt="Hexo"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">Home</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">Archives</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/gallery">Gallery</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">About</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="Search">
        <i class="fe fe-search"></i>
        Search
      </a>
    </li>
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      <div class="totop" id="totop">
  <i class="fe fe-rocket"></i>
</div>
    </li>
    <li class="nav-item">
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="fe fe-feed"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
  </aside>
  
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/jquery.justifiedGallery.min.js"></script>


<script src="/js/lazyload.min.js"></script>


<script src="/js/busuanzi-2.3.pure.min.js"></script>



<script src="/fancybox/jquery.fancybox.min.js"></script>






<script src="/js/ocean.js"></script>

</body>

</html>